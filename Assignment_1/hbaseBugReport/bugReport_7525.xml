<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:46:35 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7525/HBASE-7525.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7525] A canary monitoring program specifically for regionserver</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7525</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;b&gt;Motivation&lt;/b&gt;&lt;br/&gt;
This ticket is to provide a canary monitoring tool specifically for HRegionserver, details as follows&lt;br/&gt;
1. This tool is required by operation team due to they thought that the canary for each region of a HBase is too many for them, so I implemented this coarse-granular one based on the original o.a.h.h.tool.Canary for them&lt;br/&gt;
2. And this tool is implemented by multi-threading, which means the each Get request sent by a thread. the reason I use this way is due to we suffered the region server hung issue by now the root cause is still not clear. so this tool can help operation team to detect hung region server if any.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;example&lt;/b&gt;&lt;br/&gt;
1. the tool docs&lt;br/&gt;
./bin/hbase org.apache.hadoop.hbase.tool.RegionServerCanary -help&lt;br/&gt;
Usage: &lt;span class=&quot;error&quot;&gt;&amp;#91;opts&amp;#93;&lt;/span&gt; [regionServerName 1 &lt;span class=&quot;error&quot;&gt;&amp;#91;regionServrName 2...&amp;#93;&lt;/span&gt;]&lt;br/&gt;
 regionServerName - FQDN serverName, can use linux command:hostname -f to check your serverName&lt;br/&gt;
 where &lt;span class=&quot;error&quot;&gt;&amp;#91;-opts&amp;#93;&lt;/span&gt; are:&lt;br/&gt;
   -help Show this help and exit.&lt;br/&gt;
   -e    Use regionServerName as regular expression&lt;br/&gt;
      which means the regionServerName is regular expression pattern&lt;br/&gt;
   -f &amp;lt;B&amp;gt;         stop whole program if first error occurs, default is true&lt;br/&gt;
   -t &amp;lt;N&amp;gt;         timeout for a check, default is 600000 (milisecs)&lt;br/&gt;
   -daemon        Continuous check at defined intervals.&lt;br/&gt;
   -interval &amp;lt;N&amp;gt;  Interval between checks (sec)&lt;/p&gt;

&lt;p&gt;2. Will send a request to each regionserver in a HBase cluster&lt;br/&gt;
./bin/hbase org.apache.hadoop.hbase.tool.RegionServerCanary&lt;/p&gt;

&lt;p&gt;3. Will send a request to a regionserver by given name&lt;br/&gt;
./bin/hbase org.apache.hadoop.hbase.tool.RegionServerCanary rs1.domainname&lt;/p&gt;

&lt;p&gt;4. Will send a request to regionserver(s) by given regular-expression&lt;br/&gt;
/opt/trend/circus-opstool/bin/hbase-canary-monitor-each-regionserver.sh -e rs1.domainname.pattern&lt;br/&gt;
// another example&lt;br/&gt;
./bin/hbase org.apache.hadoop.hbase.tool.RegionServerCanary -e tw-poc-tm-puppet-hdn&lt;span class=&quot;error&quot;&gt;&amp;#91;0-9&amp;#93;&lt;/span&gt;{1,2}.client.tw.trendnet.org&lt;/p&gt;


&lt;p&gt;5. Will send a request to a regionserver and also set a timeout limit for this test&lt;br/&gt;
// query regionserver:rs1.domainname with timeout limit 10sec&lt;br/&gt;
// -f false, means that will not exit this program even test failed&lt;br/&gt;
./bin/hbase org.apache.hadoop.hbase.tool.RegionServerCanary -f false -t 10000 rs1.domainname&lt;br/&gt;
// echo &quot;1&quot; if timeout&lt;br/&gt;
echo &quot;$?&quot;&lt;/p&gt;

&lt;p&gt;6. Will run as daemon mode, which means it will send request to each regionserver periodically&lt;br/&gt;
./bin/hbase org.apache.hadoop.hbase.tool.RegionServerCanary -daemon&lt;/p&gt;





</description>
                <environment></environment>
        <key id="12626736">HBASE-7525</key>
            <summary>A canary monitoring program specifically for regionserver</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="takeshi.miao">takeshi.miao</assignee>
                                    <reporter username="takeshi.miao">takeshi.miao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jan 2013 10:06:22 +0000</created>
                <updated>Mon, 16 Dec 2013 18:46:56 +0000</updated>
                            <resolved>Fri, 25 Oct 2013 20:04:57 +0000</resolved>
                                    <version>0.94.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.1</fixVersion>
                                    <component>monitoring</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13548542" author="jmhsieh" created="Wed, 9 Jan 2013 14:40:55 +0000"  >&lt;p&gt;Can you compare how is this related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4393&quot; title=&quot;Implement a canary monitoring program&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4393&quot;&gt;&lt;del&gt;HBASE-4393&lt;/del&gt;&lt;/a&gt;?  &lt;/p&gt;</comment>
                            <comment id="13548894" author="apurtell" created="Wed, 9 Jan 2013 19:43:55 +0000"  >&lt;p&gt;The ideas are good, curious if it&apos;s possible to submit this as an incremental change on the existing utility? &lt;/p&gt;</comment>
                            <comment id="13549310" author="takeshi.miao" created="Thu, 10 Jan 2013 02:41:49 +0000"  >&lt;p&gt;This is for Jonathan Hsieh&apos;s question&lt;br/&gt;
There are 4 differences compared with #&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4393&quot; title=&quot;Implement a canary monitoring program&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4393&quot;&gt;&lt;del&gt;HBASE-4393&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
1. this tool will take any one region from each region server to monitor, not every region in whole HBase cluster&lt;br/&gt;
2. this tool was implemented with multi-threaded feature, so it will not be blocked if any region server being hung&lt;br/&gt;
3. this tool is taking one or more region server FQDN as options, then will monitor the given region servers&lt;br/&gt;
3.1 monitor all region servers if no option given&lt;br/&gt;
4. this tool can also take one or more regular expression patterns for region server FQDN for user easily use&lt;/p&gt;

&lt;p&gt;I use this tool on our internal HBase operation, so I think that other people may have the identical requirements&lt;/p&gt;</comment>
                            <comment id="13549314" author="takeshi.miao" created="Thu, 10 Jan 2013 02:46:45 +0000"  >&lt;p&gt;Andrew Purtell, yes, I can merge this tool with o.a.h.h.tool.Canary in these couple days.&lt;br/&gt;
Do I need to issue a new ticket for this merge work ?&lt;/p&gt;</comment>
                            <comment id="13549319" author="apurtell" created="Thu, 10 Jan 2013 02:50:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do I need to issue a new ticket for this merge work ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This ticket is ok. &lt;/p&gt;</comment>
                            <comment id="13620656" author="stack" created="Wed, 3 Apr 2013 06:10:45 +0000"  >&lt;p&gt;Moving out 0.95.  Lets commit to 0.95 if you get a chance to merge it in Takeshi  Thanks.&lt;/p&gt;</comment>
                            <comment id="13625335" author="takeshi.miao" created="Mon, 8 Apr 2013 12:45:57 +0000"  >&lt;p&gt;A Canary tool with regionserver features added, for hbase-0.95 branch use&lt;/p&gt;</comment>
                            <comment id="13625336" author="takeshi.miao" created="Mon, 8 Apr 2013 12:50:19 +0000"  >&lt;p&gt;I also tested it with hbase-0.95 branch&lt;/p&gt;</comment>
                            <comment id="13625339" author="takeshi.miao" created="Mon, 8 Apr 2013 12:55:53 +0000"  >&lt;p&gt;new usage output will like is...&lt;/p&gt;
{Usage: bin/hbase org.apache.hadoop.hbase.tool.Canary [opts] [table/regionserver 1 [table/regionserver 2...]]
 where [opts] are:
   -help          Show this help and exit.
   -regionserver  replace the table argument to regionserver,
      which means to enable regionserver mode
   -daemon        Continuous check at defined intervals.
   -interval &amp;lt;N&amp;gt;  Interval between checks (sec)
   -e             Use region/regionserver as regular expression
      which means the region/regionserver is regular expression pattern
   -f &amp;lt;B&amp;gt;         stop whole program if first error occurs, default is true
   -t &amp;lt;N&amp;gt;         timeout for a check, default is 600000 (milisecs)}</comment>
                            <comment id="13644298" author="takeshi.miao" created="Mon, 29 Apr 2013 06:04:58 +0000"  >&lt;p&gt;Sorry, I had attached the patch for couple weeks ago, but forgot to change the ticket status...&lt;/p&gt;</comment>
                            <comment id="13644319" author="hadoopqa" created="Mon, 29 Apr 2013 07:14:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12577525/HBASE-7525-0.95-v0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12577525/HBASE-7525-0.95-v0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 1 release audit warnings (more than the trunk&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.backup.TestHFileArchiving&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5481//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13644705" author="stack" created="Mon, 29 Apr 2013 18:14:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; You mind taking a looksee boss?  Its mods your Canary program.&lt;/p&gt;</comment>
                            <comment id="13645465" author="mbertozzi" created="Tue, 30 Apr 2013 11:07:33 +0000"  >&lt;p&gt;at first look it seems ok, &lt;/p&gt;

&lt;p&gt;as the Hadoop QA has reported there&apos;s one line over 100 in printUsageAndExit() &quot;-f &amp;lt;B&amp;gt;&quot;&lt;/p&gt;

&lt;p&gt;There&apos;re some names that may be changed, and a one line doc on the long ones may be useful&lt;br/&gt;
Monitor.isError() maybe rename to hasError()&lt;br/&gt;
Monitor.initialAdmin() maybe initAdmin()&lt;br/&gt;
Monitor.doPrepareFilteredRegionServerAndRegionsMap() is supposed to be something like filterRegionServerByName ?&lt;/p&gt;

&lt;p&gt;give me some more time to try it and get back with other feedback&lt;/p&gt;</comment>
                            <comment id="13645593" author="mbertozzi" created="Tue, 30 Apr 2013 14:02:55 +0000"  >&lt;p&gt;There&apos;s a problem with the first regions on Get(region.getStartKey()) that throws an exception since the start key may be null. so you get a wrong report &quot;read from region xyz failed&quot;.&lt;/p&gt;

&lt;p&gt;Could you extract the list of names in the Canary.run() where you do all the other parse instead passing the args + index around? or at least add a comment of what is the args + index... it&apos;s a bit anonymous if you don&apos;t read the rest of the code...&lt;/p&gt;

&lt;p&gt;It&apos;s not documented in the coding style, but I don&apos;t like the &quot;Yoda Conditions&quot; (null != obj) we&apos;ve already some of them in but most of the code is (obj != null) so my guess is that is better to stay inline with what we&apos;ve already.&lt;/p&gt;</comment>
                            <comment id="13645604" author="takeshi.miao" created="Tue, 30 Apr 2013 14:12:06 +0000"  >&lt;p&gt;Do I need to do any follow up ? this is my first time to contribute to community, please remind me if I miss any thing, thanks a lot&lt;/p&gt;</comment>
                            <comment id="13645622" author="takeshi.miao" created="Tue, 30 Apr 2013 14:26:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;, I got it, I will modify codes with the issues you talked about. I may ask more questions if anything need to be confirm with you, thanks a lot.&lt;/p&gt;</comment>
                            <comment id="13646536" author="takeshi.miao" created="Wed, 1 May 2013 12:41:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;Monitor.isError() maybe rename to hasError()&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Monitor.initialAdmin() maybe initAdmin()&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Monitor.doPrepareFilteredRegionServerAndRegionsMap() is supposed to be something like filterRegionServerByName ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Change wordings&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Get(region.getStartKey()) that throws an exception since the start key may be null&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No change, due to the default value of startKey property is &lt;a href=&quot;https://github.com/apache/hbase/blob/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java#L177&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HConstants.EMPTY_BYTE_ARRAY&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;extract the list of names in the Canary.run() where you do all the other parse instead passing the args + index around?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Done.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&quot;Yoda Conditions&quot; (null != obj) &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Done.&lt;/p&gt;</comment>
                            <comment id="13646538" author="takeshi.miao" created="Wed, 1 May 2013 12:43:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; the new patch is applied, could you please help to take a look on it ?&lt;/p&gt;</comment>
                            <comment id="13646539" author="hadoopqa" created="Wed, 1 May 2013 12:44:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12581354/HBASE-7525-0.95-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12581354/HBASE-7525-0.95-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5519//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5519//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13646553" author="mbertozzi" created="Wed, 1 May 2013 13:04:28 +0000"  >&lt;p&gt;thanks for the quick follow-up&lt;/p&gt;

&lt;p&gt;to make the Hadoop QA happy, use &quot;git diff &amp;gt; HBASE-XYZ.patch&quot;&lt;br/&gt;
(see the &quot;unable to apply patch&quot; error above)&lt;/p&gt;

&lt;p&gt;for the getStartKey() you&apos;re right, it&apos;s not null but even an empty byte array doesn&apos;t pass the test. Mutation.checkRow() throws an exception on length == 0&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.IllegalArgumentException: Row length is 0
	at org.apache.hadoop.hbase.client.Mutation.checkRow(Mutation.java:335)
	at org.apache.hadoop.hbase.client.Mutation.checkRow(Mutation.java:319)
	at org.apache.hadoop.hbase.client.Get.&amp;lt;init&amp;gt;(Get.java:86)
	at org.apache.hadoop.hbase.tool.Canary$RegionMonitor.sniffRegion(Canary.java:483)
	at org.apache.hadoop.hbase.tool.Canary$RegionMonitor.sniff(Canary.java:463)
	at org.apache.hadoop.hbase.tool.Canary$RegionMonitor.sniff(Canary.java:433)
	at org.apache.hadoop.hbase.tool.Canary$RegionMonitor.run(Canary.java:380)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;My simple test is this... and you get a misleading error on the first region due to the empty key.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ hbase shell
&amp;gt; create &apos;testtb&apos;, &apos;cf&apos;
&amp;gt; put &apos;testtb&apos;, &apos;row0&apos;, &apos;cf:q&apos;, &apos;0&apos;
&amp;gt; put &apos;testtb&apos;, &apos;row1&apos;, &apos;cf:q&apos;, &apos;1&apos;
&amp;gt; put &apos;testtb&apos;, &apos;row2&apos;, &apos;cf:q&apos;, &apos;2&apos;
$ hbase org.apache.hadoop.hbase.tool.Canary
...
2013-05-01 13:58:50,310 ERROR [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-0] tool.Canary: read from region testtb,,1367412865960.99b4d7e3b71c1f5292bc96fad28bb67e. failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;also you may be useful to add at least a LOG.debug() with the exception inside all the catch just to have an idea of what&apos;s going wrong (like the Get failure above)&lt;/p&gt;</comment>
                            <comment id="13646626" author="takeshi.miao" created="Wed, 1 May 2013 14:56:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;, I&apos;d like to use Scan to solve the region.getStartKey() issue, how do you think ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
startKey = region.getStartKey();
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(startKey.length &amp;gt; 0) {
  get = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Get(startKey);
  get.addFamily(column.getName());
} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
  scan = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Scan();
  scan.setCaching(1);
  scan.addFamily(column.getName())
}
...
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(startKey.length &amp;gt; 0) {
  table.get(get);
} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
  table.getScanner(scan);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13646632" author="mbertozzi" created="Wed, 1 May 2013 15:04:15 +0000"  >&lt;p&gt;yeah, it seems a good solution. &lt;br/&gt;
add also scan.setMaxResultSize(1)&lt;/p&gt;</comment>
                            <comment id="13646711" author="takeshi.miao" created="Wed, 1 May 2013 17:01:16 +0000"  >&lt;p&gt;use Scan to solve the region.getStartKey() issue and also add scan.setMaxResultSize(1)&lt;br/&gt;
done&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;add at least a LOG.debug() with the exception inside all the catch&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;done&lt;/p&gt;</comment>
                            <comment id="13646773" author="hadoopqa" created="Wed, 1 May 2013 18:03:47 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12581374/HBASE-7525-0.95-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12581374/HBASE-7525-0.95-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestHBaseFsck&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5520//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13729100" author="takeshi.miao" created="Mon, 5 Aug 2013 04:05:07 +0000"  >&lt;p&gt;Dear &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I am wondering how do you think about this ticket ?&lt;/p&gt;</comment>
                            <comment id="13729743" author="stack" created="Mon, 5 Aug 2013 18:12:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=takeshi.miao&quot; class=&quot;user-hover&quot; rel=&quot;takeshi.miao&quot;&gt;takeshi.miao&lt;/a&gt; Pardon us for overlooking this addition.  Please rebase (I think the scan instead of get for the first key in table has been addressed) and lets get it in.&lt;/p&gt;</comment>
                            <comment id="13731845" author="takeshi.miao" created="Wed, 7 Aug 2013 10:12:47 +0000"  >&lt;p&gt;add a rebased patch &lt;em&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7525&quot; title=&quot;A canary monitoring program specifically for regionserver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7525&quot;&gt;&lt;del&gt;HBASE-7525&lt;/del&gt;&lt;/a&gt;-0.95-v4.patch&lt;/em&gt;&lt;/p&gt;</comment>
                            <comment id="13731848" author="takeshi.miao" created="Wed, 7 Aug 2013 10:15:15 +0000"  >&lt;p&gt;Dear &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have added the rebased patch, pls note that I am still using the Scan for empty startRowKey case, due to I still suffer the following exception while testing in my Env.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
13/08/07 10:05:11 INFO zookeeper.RecoverableZooKeeper: &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; identifier=hconnection-0x6a3b8b49 connecting to ZooKeeper ensemble=localhost:2181
13/08/07 10:05:11 INFO zookeeper.ClientCnxn: Session establishment complete on server localhost.localdomain/127.0.0.1:2181, sessionid = 0x140583a69570010, negotiated timeout = 90000
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-1&quot;&lt;/span&gt; java.lang.IllegalArgumentException: Row length is 0
        at org.apache.hadoop.hbase.client.Mutation.checkRow(Mutation.java:364)
        at org.apache.hadoop.hbase.client.Mutation.checkRow(Mutation.java:348)
        at org.apache.hadoop.hbase.client.Get.&amp;lt;init&amp;gt;(Get.java:86)
        at org.apache.hadoop.hbase.tool.Canary$RegionServerMonitor.monitorRegionServers(Canary.java:563)
        at org.apache.hadoop.hbase.tool.Canary$RegionServerMonitor.run(Canary.java:540)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13731889" author="hadoopqa" created="Wed, 7 Aug 2013 11:27:47 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12596576/HBASE-7525-0.95-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12596576/HBASE-7525-0.95-v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.backup.TestHFileArchiving&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6633//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13736350" author="takeshi.miao" created="Sun, 11 Aug 2013 17:37:31 +0000"  >&lt;p&gt;Dear &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;br/&gt;
Pls tell me if any thing I can do for this ticket, tks a lot&lt;/p&gt;</comment>
                            <comment id="13737410" author="stack" created="Mon, 12 Aug 2013 21:55:07 +0000"  >&lt;p&gt;Making critical so gets review.&lt;/p&gt;</comment>
                            <comment id="13747265" author="stack" created="Thu, 22 Aug 2013 05:48:55 +0000"  >&lt;p&gt;Marking critical again so I test this for 0.96 &amp;#8211; it looks nice.&lt;/p&gt;</comment>
                            <comment id="13748316" author="stack" created="Fri, 23 Aug 2013 05:52:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=takeshi.miao&quot; class=&quot;user-hover&quot; rel=&quot;takeshi.miao&quot;&gt;takeshi.miao&lt;/a&gt; I went to test this patch this evening but it has rotted in a pretty bad way (seems strange since no changes to Canary.java in a while).  Any chance of a rebase?  Thank you.&lt;/p&gt;</comment>
                            <comment id="13749337" author="takeshi.miao" created="Sat, 24 Aug 2013 08:09:13 +0000"  >&lt;p&gt;Dear &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I am not sure which branch I need to rebase for you ? 0.95 or trunk ? due to I not see any branch for 0.98 and 0.96&lt;/p&gt;</comment>
                            <comment id="13752928" author="stack" created="Wed, 28 Aug 2013 22:00:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=takeshi.miao&quot; class=&quot;user-hover&quot; rel=&quot;takeshi.miao&quot;&gt;takeshi.miao&lt;/a&gt; for 0.95 branch and for trunk.  Thank you.&lt;/p&gt;</comment>
                            <comment id="13753446" author="takeshi.miao" created="Thu, 29 Aug 2013 09:05:13 +0000"  >&lt;p&gt;Dear &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;br/&gt;
I rebased and attached two patches for branch trunk and 0.95 respectively, and the root cause of the old patch did not work is due to the &lt;em&gt;&apos;region.getTableNameAsString()&apos;&lt;/em&gt; method was removed.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Old code&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
448  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void sniff(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HBaseAdmin admin, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; tableName) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
449    sniff(admin, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StdOutSink(), tableName);
450   }
...
579          tableName = region.getTableNameAsString();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;New code&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
448  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void sniff(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HBaseAdmin admin, TableName tableName) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
449    sniff(admin, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StdOutSink(), tableName.getNameAsString());
450   }
...
579          tableName = region.getTableName().getNameAsString();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13753486" author="hadoopqa" created="Thu, 29 Aug 2013 10:15:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12600557/HBASE-7525-0.95-v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12600557/HBASE-7525-0.95-v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6962//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13753807" author="stack" created="Thu, 29 Aug 2013 16:54:24 +0000"  >&lt;p&gt;I tried it.  It is great.  Nice utility.  But usage needs cleanup because otherwise users will be confused on how to use it.&lt;/p&gt;

&lt;p&gt;Did it always just run if you did not provide an argument: i.e. if I do this:&lt;/p&gt;

&lt;p&gt; ./hbase-0.95.3-SNAPSHOT/bin/hbase --config /home/stack/conf_hbase org.apache.hadoop.hbase.tool.Canary&lt;/p&gt;

&lt;p&gt;... it goes off and does something; default looks to go and get from all regions.&lt;/p&gt;

&lt;p&gt;You add 2013-08-29 09:32:16,463 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; tool.Canary: runCount=2.  What does it mean?&lt;/p&gt;

&lt;p&gt;Here is current usage:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Usage: bin/hbase org.apache.hadoop.hbase.tool.Canary [opts] [table/regionserver 1 [table/regionserver 2...]]
 where [opts] are:
   -help          Show &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; help and exit.
   -regionserver  replace the table argument to regionserver,
      which means to enable regionserver mode
   -daemon        Continuous check at defined intervals.
   -interval &amp;lt;N&amp;gt;  Interval between checks (sec)
   -e             Use region/regionserver as regular expression
      which means the region/regionserver is regular expression pattern
   -f &amp;lt;B&amp;gt;         stop whole program &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; first error occurs, &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
   -t &amp;lt;N&amp;gt;         timeout &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a check, &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; is 600000 (milisecs)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;First, the formatting is off in the above.&lt;/p&gt;

&lt;p&gt;So, if I supply -regionserver, then the last argument is a regionserver hostname rather than a table it seems? (I tried it and it seems so)&lt;/p&gt;

&lt;p&gt;I do not know how to read &apos;table/regionserver 1&apos;.  What is the &apos;1&apos;?&lt;/p&gt;

&lt;p&gt;Would it be clearer if the -regionserver option took arguments as in -regionserver=rs1,rs2,rs3 etc.?&lt;/p&gt;

&lt;p&gt;How to interpret this then:&lt;/p&gt;

&lt;p&gt;Usage: bin/hbase org.apache.hadoop.hbase.tool.Canary -regionserver=rs1 table1&lt;/p&gt;

&lt;p&gt;Would above only get regions from table1 on rs1?  If no regions from table1 then it would print out there are none?  Or if you pass a table1 when you have a -regionserver option specified, you could just fail with &quot;Cannot pass a tablename when using the -regionserver option&quot; &amp;#8211; that&apos;d probably be simplest.&lt;/p&gt;</comment>
                            <comment id="13754458" author="takeshi.miao" created="Fri, 30 Aug 2013 07:26:36 +0000"  >&lt;p&gt;Dear &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here is the answer for your questions&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt; ./hbase-0.95.3-SNAPSHOT/bin/hbase --config /home/stack/conf_hbase org.apache.hadoop.hbase.tool.Canary&lt;br/&gt;
... it goes off and does something; default looks to go and get from all regions.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, it&apos;s default behavior is just align with the old one, does the all regions monitoring&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;You add 2013-08-29 09:32:16,463 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; tool.Canary: runCount=2. What does it mean ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It is the internal DEBUG msg, for counting how many loop of this monitor instance did; It can help user to observe the monitor instance&apos;s behavior whether as expected&lt;/p&gt;

&lt;p&gt;Following are the questions you asked about &lt;em&gt;&apos;-regionserver&apos;&lt;/em&gt; option&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Usage: bin/hbase org.apache.hadoop.hbase.tool.Canary [opts] [table/regionserver 1 [table/regionserver 2...]]
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;
&lt;p&gt;Would it be clearer if the -regionserver option took arguments as in -regionserver=rs1,rs2,rs3 etc.?&lt;br/&gt;
How to interpret this then:&lt;br/&gt;
Usage: bin/hbase org.apache.hadoop.hbase.tool.Canary -regionserver=rs1 table1&lt;br/&gt;
Would above only get regions from table1 on rs1? If no regions from table1 then it would print out there are none?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The option &lt;em&gt;&apos;-regionserver&apos;&lt;/em&gt; (regionserver mode) is exclusive with the default mode (region mode), which means user can only choose to use default mode or regionserver mode either&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I do not know how to read &apos;table/regionserver 1&apos;. What is the &apos;1&apos;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;So it seems the usage output confuses the user, I would like to change it to following, how do you think ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Usage: bin/hbase org.apache.hadoop.hbase.tool.Canary [opts] [table|regionserver [table|regionserver ...]]
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt; Or if you pass a table1 when you have a -regionserver option specified, you could just fail with &quot;Cannot pass a tablename when using the -regionserver option&quot; &#8211; that&apos;d probably be simplest.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, this is a good suggestion, but currently I would not check this if the passed arguments are whether tableNames in HBase, due to I need to new a HBaseAdim instance to get the table list firstly, then compare them with the passed argument.&lt;br/&gt;
How do you think that I modify the usage output more precisely for -regionserver option ? such as...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
-regionserver  replace the table argument to regionserver,
      which means to enable regionserver mode, instead of region mode (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Either way is ok for me.&lt;/p&gt;

&lt;p&gt;I will upload the new patches after we confirm which way to go, and tks for your questions and suggestions &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13767688" author="stack" created="Sun, 15 Sep 2013 05:13:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;Yes, it&apos;s default behavior is just align with the old one, does the all regions monitoring&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok.  The original behavior is a little &apos;surprising&apos; but if it has been this way up to this, it is fair-enough changing it.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It is the internal DEBUG msg, for counting how many loop of this monitor instance did; It can help user to observe the monitor instance&apos;s behavior whether as expected&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I did not understand this log message.  I did not seem to ask for more than one loop so seeing more than one w/o asking for it is unexpected.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The option &apos;-regionserver&apos; (regionserver mode) is exclusive with the default mode (region mode), which means user can only choose to use default mode or regionserver mode either&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Understood.  We should fix the usage to make it more plain it exclusive w/ table ops:&lt;/p&gt;

&lt;p&gt;Usage: ./bin/hbase Canary &lt;span class=&quot;error&quot;&gt;&amp;#91;opts&amp;#93;&lt;/span&gt; [table1 &lt;span class=&quot;error&quot;&gt;&amp;#91;table2&amp;#93;&lt;/span&gt;...] | [regionserver1 &lt;span class=&quot;error&quot;&gt;&amp;#91;regionserver2&amp;#93;&lt;/span&gt;..]&lt;/p&gt;

&lt;p&gt;... or something like that.  As is it would seem to mix the exlusive args.&lt;/p&gt;

&lt;p&gt;Your suggestion would allow:&lt;/p&gt;

&lt;p&gt;Canary table1 regionserver2 ,etc.&lt;/p&gt;

&lt;p&gt;Suggest that in the usage you are more clear that it is table OR regionserver ops.&lt;/p&gt;</comment>
                            <comment id="13767709" author="hadoopqa" created="Sun, 15 Sep 2013 06:43:56 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603227/HBASE-7525-0.95-v7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603227/HBASE-7525-0.95-v7.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 hadoop1.0&lt;/font&gt;.  The patch failed to compile against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7232//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7232//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13767713" author="takeshi.miao" created="Sun, 15 Sep 2013 06:52:22 +0000"  >&lt;p&gt;Dear &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I uploaded the new patches for both 0.95 and trunk with following changes.&lt;/p&gt;

&lt;p&gt;1. added a check method for user wheteher pass the tableName with -regionserver option&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
# user pass tableNames &apos;t1&apos; and &apos;t2&apos; with &apos;-regionserver&apos; option
bin/hbase org.apache.hadoop.hbase.tool.Canary -regionserver t1 t2
...
# will see following error msg from stderr
Cannot pass a tablename when using the -regionserver option, tablenames:[t1, t2]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. changed the usage output.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
bin/hbase org.apache.hadoop.hbase.tool.Canary -help
Usage: bin/hbase org.apache.hadoop.hbase.tool.Canary [opts] [table1 [table2]...] | [regionserver1 [regionserver2]..]
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3. removed &apos;DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; tool.Canary: runCount=...&apos; from log msg&lt;/p&gt;

&lt;p&gt;Pls tell me if any question, tks~&lt;/p&gt;</comment>
                            <comment id="13772618" author="stack" created="Fri, 20 Sep 2013 04:26:30 +0000"  >&lt;p&gt;That should be good &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=takeshi.miao&quot; class=&quot;user-hover&quot; rel=&quot;takeshi.miao&quot;&gt;takeshi.miao&lt;/a&gt;.  I went to commit but trunk patch has this issue:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (default-compile) on project hbase-server: Compilation failure&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /Users/stack/checkouts/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;610,43&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol  : method getNameAsString()&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class byte[]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Does it work for you?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13774256" author="takeshi.miao" created="Mon, 23 Sep 2013 02:57:04 +0000"  >&lt;p&gt;Dear &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Sorry about this, I think that I might test the patch on 0.95 branch, but forgot to test it on trunk. Currently fixed it.&lt;/p&gt;</comment>
                            <comment id="13776161" author="takeshi.miao" created="Tue, 24 Sep 2013 09:53:07 +0000"  >&lt;p&gt;Dear &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I had already unloaded the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12604509/HBASE-7525-trunk-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HBASE-7525-trunk-v4.patch&lt;/a&gt;, but I not sure why the CI job did not execute it.&lt;/p&gt;</comment>
                            <comment id="13776225" author="hadoopqa" created="Tue, 24 Sep 2013 11:29:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12604509/HBASE-7525-trunk-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12604509/HBASE-7525-trunk-v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestAtomicOperation&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7354//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13805632" author="eclark" created="Fri, 25 Oct 2013 19:43:11 +0000"  >&lt;p&gt;+1 there are some docs that should be added.  But I can add those in a new jira.&lt;/p&gt;</comment>
                            <comment id="13805647" author="eclark" created="Fri, 25 Oct 2013 20:04:57 +0000"  >&lt;p&gt;Committed to 0.96 and 0.98&lt;/p&gt;

&lt;p&gt;Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=takeshi.miao&quot; class=&quot;user-hover&quot; rel=&quot;takeshi.miao&quot;&gt;takeshi.miao&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13805848" author="hudson" created="Fri, 25 Oct 2013 23:57:13 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #102 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/102/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/102/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7525&quot; title=&quot;A canary monitoring program specifically for regionserver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7525&quot;&gt;&lt;del&gt;HBASE-7525&lt;/del&gt;&lt;/a&gt; A canary monitoring program specifically for regionserver (takeshi.miao) (eclark: rev 1535847)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13805903" author="hudson" created="Sat, 26 Oct 2013 00:51:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #162 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/162/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/162/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7525&quot; title=&quot;A canary monitoring program specifically for regionserver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7525&quot;&gt;&lt;del&gt;HBASE-7525&lt;/del&gt;&lt;/a&gt; A canary monitoring program specifically for regionserver (takeshi.miao) (eclark: rev 1535847)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13805914" author="hudson" created="Sat, 26 Oct 2013 01:04:25 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #811 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/811/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/811/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7525&quot; title=&quot;A canary monitoring program specifically for regionserver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7525&quot;&gt;&lt;del&gt;HBASE-7525&lt;/del&gt;&lt;/a&gt; A canary monitoring program specifically for regionserver (takeshi.miao) (eclark: rev 1535846)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13805946" author="hudson" created="Sat, 26 Oct 2013 01:52:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4648 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4648/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4648/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7525&quot; title=&quot;A canary monitoring program specifically for regionserver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7525&quot;&gt;&lt;del&gt;HBASE-7525&lt;/del&gt;&lt;/a&gt; A canary monitoring program specifically for regionserver (takeshi.miao) (eclark: rev 1535846)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13806331" author="takeshi.miao" created="Sun, 27 Oct 2013 13:22:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; tks for reviewing this jira &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13849548" author="stack" created="Mon, 16 Dec 2013 18:46:56 +0000"  >&lt;p&gt;Released in 0.96.1.  Issue closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12682840">HBASE-10086</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12577525" name="HBASE-7525-0.95-v0.patch" size="22960" author="takeshi.miao" created="Mon, 8 Apr 2013 12:45:57 +0000"/>
                            <attachment id="12581354" name="HBASE-7525-0.95-v1.patch" size="35160" author="takeshi.miao" created="Wed, 1 May 2013 12:41:29 +0000"/>
                            <attachment id="12581374" name="HBASE-7525-0.95-v3.patch" size="23900" author="takeshi.miao" created="Wed, 1 May 2013 17:01:16 +0000"/>
                            <attachment id="12596576" name="HBASE-7525-0.95-v4.patch" size="24026" author="takeshi.miao" created="Wed, 7 Aug 2013 10:12:47 +0000"/>
                            <attachment id="12600557" name="HBASE-7525-0.95-v6.patch" size="24738" author="takeshi.miao" created="Thu, 29 Aug 2013 08:57:06 +0000"/>
                            <attachment id="12603227" name="HBASE-7525-0.95-v7.patch" size="25652" author="takeshi.miao" created="Sun, 15 Sep 2013 06:39:14 +0000"/>
                            <attachment id="12600556" name="HBASE-7525-trunk-v2.patch" size="24738" author="takeshi.miao" created="Thu, 29 Aug 2013 08:57:06 +0000"/>
                            <attachment id="12603226" name="HBASE-7525-trunk-v3.patch" size="25652" author="takeshi.miao" created="Sun, 15 Sep 2013 06:39:14 +0000"/>
                            <attachment id="12604509" name="HBASE-7525-trunk-v4.patch" size="25648" author="takeshi.miao" created="Mon, 23 Sep 2013 02:53:21 +0000"/>
                            <attachment id="12563919" name="HBASE-7525-v0.patch" size="14882" author="takeshi.miao" created="Wed, 9 Jan 2013 10:11:22 +0000"/>
                            <attachment id="12563920" name="RegionServerCanary.java" size="13713" author="takeshi.miao" created="Wed, 9 Jan 2013 10:11:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Jan 2013 14:40:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17an3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tool to check cluster.  See $ ./bin/hbase org.apache.hadoop.hbase.tool.RegionServerCanary -help for how to use.&lt;br/&gt;
&lt;br/&gt;
{code}&lt;br/&gt;
Usage: bin/hbase org.apache.hadoop.hbase.tool.Canary [opts] [table/regionserver 1 [table/regionserver 2...]] &lt;br/&gt;
&amp;nbsp;&amp;nbsp;where [opts] are: &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-help Show this help and exit. &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-regionserver replace the table argument to regionserver, which means to enable regionserver mode &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-daemon Continuous check at defined intervals. &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-interval &amp;lt;N&amp;gt; Interval between checks (sec) &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-e Use region/regionserver as regular expression which means the region/regionserver is regular expression pattern &lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;-f &amp;lt;B&amp;gt; stop whole program if first error occurs, default is true -t &amp;lt;N&amp;gt; timeout for a check, default is 600000 (milisecs)&lt;br/&gt;
{code}</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>