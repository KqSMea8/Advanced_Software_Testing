<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:19:25 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11017/HBASE-11017.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11017] TestHRegionBusyWait.testWritesWhileScanning fails frequently in 0.94</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11017</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Have seen a few of these:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error Message

Failed clearing memory after 6 attempts on region: testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac.

Stacktrace

org.apache.hadoop.hbase.DroppedSnapshotException: Failed clearing memory after 6 attempts on region: testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac.
	at org.apache.hadoop.hbase.regionserver.HRegion.doClose(HRegion.java:1087)
	at org.apache.hadoop.hbase.regionserver.HRegion.close(HRegion.java:1024)
	at org.apache.hadoop.hbase.regionserver.HRegion.close(HRegion.java:989)
	at org.apache.hadoop.hbase.regionserver.HRegion.closeHRegion(HRegion.java:4346)
	at org.apache.hadoop.hbase.regionserver.TestHRegion.testWritesWhileScanning(TestHRegion.java:3406)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12709093">HBASE-11017</key>
            <summary>TestHRegionBusyWait.testWritesWhileScanning fails frequently in 0.94</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Apr 2014 16:46:37 +0000</created>
                <updated>Mon, 28 Apr 2014 22:29:39 +0000</updated>
                            <resolved>Fri, 18 Apr 2014 00:21:10 +0000</resolved>
                                                    <fixVersion>0.94.19</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13973417" author="lhofhansl" created="Thu, 17 Apr 2014 21:11:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, do you think this is normal? I know we had to fix some other test after this change went it.&lt;/p&gt;</comment>
                            <comment id="13973464" author="lhofhansl" created="Thu, 17 Apr 2014 21:56:07 +0000"  >&lt;p&gt;This is what I see in the logs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-04-17 09:41:02,037 INFO  [pool-1-thread-1] regionserver.HRegion(1776): Finished memstore flush of ~9.7m/10168960, currentsize=7.0m/7383120 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac. in 278ms, sequenceid=50, compaction requested=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2014-04-17 09:41:02,038 INFO  [pool-1-thread-1] regionserver.HRegion(1090): Running extra flush, 1 (carrying snapshot?) testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac.
2014-04-17 09:41:02,038 DEBUG [pool-1-thread-1] regionserver.HRegion(1636): Started memstore flush &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac., current region memstore size 7.0m
2014-04-17 09:41:02,038 DEBUG [pool-1-thread-1] regionserver.HRegion(1686): Finished snapshotting testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac., syncing WAL and waiting on mvcc, flushsize=0
2014-04-17 09:41:02,038 DEBUG [pool-1-thread-1] regionserver.HRegion(1702): Finished snapshotting, commencing flushing stores
2014-04-17 09:41:02,038 INFO  [pool-1-thread-1] regionserver.HRegion(1776): Finished memstore flush of ~0.0/0, currentsize=7.0m/7383120 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac. in 0ms, sequenceid=51, compaction requested=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
2014-04-17 09:41:02,038 INFO  [pool-1-thread-1] regionserver.HRegion(1090): Running extra flush, 2 (carrying snapshot?) testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac.
2014-04-17 09:41:02,039 DEBUG [pool-1-thread-1] regionserver.HRegion(1636): Started memstore flush &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac., current region memstore size 7.0m
2014-04-17 09:41:02,039 DEBUG [pool-1-thread-1] regionserver.HRegion(1686): Finished snapshotting testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac., syncing WAL and waiting on mvcc, flushsize=0
2014-04-17 09:41:02,039 DEBUG [pool-1-thread-1] regionserver.HRegion(1702): Finished snapshotting, commencing flushing stores
2014-04-17 09:41:02,039 INFO  [pool-1-thread-1] regionserver.HRegion(1776): Finished memstore flush of ~0.0/0, currentsize=7.0m/7383120 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac. in 1ms, sequenceid=52, compaction requested=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
2014-04-17 09:41:02,039 INFO  [pool-1-thread-1] regionserver.HRegion(1090): Running extra flush, 3 (carrying snapshot?) testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac.
2014-04-17 09:41:02,039 DEBUG [pool-1-thread-1] regionserver.HRegion(1636): Started memstore flush &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac., current region memstore size 7.0m
2014-04-17 09:41:02,039 DEBUG [pool-1-thread-1] regionserver.HRegion(1686): Finished snapshotting testWritesWhileScanning,,1397727647509.2c968a587c4cb7e84a52c7aa8d2afcac., syncing WAL and waiting on mvcc, flushsize=0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So somehow it is not making progress once it gets into this state.&lt;/p&gt;</comment>
                            <comment id="13973479" author="lhofhansl" created="Thu, 17 Apr 2014 22:09:09 +0000"  >&lt;p&gt;Is the same as &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10751&quot; title=&quot;TestHRegion testWritesWhileScanning occasional fail since HBASE-10514 went in&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10751&quot;&gt;&lt;del&gt;HBASE-10751&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13973609" author="stack" created="Fri, 18 Apr 2014 00:17:43 +0000"  >&lt;p&gt;It is the same.  In &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10751&quot; title=&quot;TestHRegion testWritesWhileScanning occasional fail since HBASE-10514 went in&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10751&quot;&gt;&lt;del&gt;HBASE-10751&lt;/del&gt;&lt;/a&gt; I claim I backported the patch but must have not.&lt;/p&gt;

&lt;p&gt;&quot;stack added a comment - 14/Mar/14 13:39&lt;br/&gt;
Committed to 0.94 too after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10514&quot; title=&quot;Forward port HBASE-10466, possible data loss when failed flushes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10514&quot;&gt;&lt;del&gt;HBASE-10514&lt;/del&gt;&lt;/a&gt; went in.&quot;&lt;/p&gt;

&lt;p&gt;Then if I look on the 0.94 branch I see:&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------&lt;br/&gt;
r1577784 | stack | 2014-03-14 21:30:20 -0700 (Fri, 14 Mar 2014) | 1 line&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10751&quot; title=&quot;TestHRegion testWritesWhileScanning occasional fail since HBASE-10514 went in&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10751&quot;&gt;&lt;del&gt;HBASE-10751&lt;/del&gt;&lt;/a&gt; TestHRegion testWritesWhileScanning occasional fail since &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10514&quot; title=&quot;Forward port HBASE-10466, possible data loss when failed flushes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10514&quot;&gt;&lt;del&gt;HBASE-10514&lt;/del&gt;&lt;/a&gt; went in&lt;/p&gt;

&lt;p&gt;But when I look at the commit, it is only the addendum import fix.  Sorry about that Lars.  Let me fix on this issue.&lt;/p&gt;
</comment>
                            <comment id="13973611" author="stack" created="Fri, 18 Apr 2014 00:20:14 +0000"  >&lt;p&gt;Patch that is backport of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10751&quot; title=&quot;TestHRegion testWritesWhileScanning occasional fail since HBASE-10514 went in&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10751&quot;&gt;&lt;del&gt;HBASE-10751&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13973614" author="stack" created="Fri, 18 Apr 2014 00:21:10 +0000"  >&lt;p&gt;Committed to 0.94.  Hopefully that does it Lars.  Sorry for pain caused.&lt;/p&gt;</comment>
                            <comment id="13973630" author="lhofhansl" created="Fri, 18 Apr 2014 00:34:15 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="13973742" author="hudson" created="Fri, 18 Apr 2014 03:08:43 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #472 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/472/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/472/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11017&quot; title=&quot;TestHRegionBusyWait.testWritesWhileScanning fails frequently in 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11017&quot;&gt;&lt;del&gt;HBASE-11017&lt;/del&gt;&lt;/a&gt; TestHRegionBusyWait.testWritesWhileScanning fails frequently in 0.94 (stack: rev 1588392)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13973747" author="hudson" created="Fri, 18 Apr 2014 03:15:36 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-on-Hadoop-2 #75 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/75/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/75/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11017&quot; title=&quot;TestHRegionBusyWait.testWritesWhileScanning fails frequently in 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11017&quot;&gt;&lt;del&gt;HBASE-11017&lt;/del&gt;&lt;/a&gt; TestHRegionBusyWait.testWritesWhileScanning fails frequently in 0.94 (stack: rev 1588392)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13973775" author="hudson" created="Fri, 18 Apr 2014 04:20:08 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1353 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1353/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1353/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11017&quot; title=&quot;TestHRegionBusyWait.testWritesWhileScanning fails frequently in 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11017&quot;&gt;&lt;del&gt;HBASE-11017&lt;/del&gt;&lt;/a&gt; TestHRegionBusyWait.testWritesWhileScanning fails frequently in 0.94 (stack: rev 1588392)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13973782" author="hudson" created="Fri, 18 Apr 2014 04:32:33 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-JDK7 #120 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/120/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/120/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11017&quot; title=&quot;TestHRegionBusyWait.testWritesWhileScanning fails frequently in 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11017&quot;&gt;&lt;del&gt;HBASE-11017&lt;/del&gt;&lt;/a&gt; TestHRegionBusyWait.testWritesWhileScanning fails frequently in 0.94 (stack: rev 1588392)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12640743" name="11017.txt" size="983" author="stack" created="Fri, 18 Apr 2014 00:20:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Apr 2014 00:17:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1uqlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>