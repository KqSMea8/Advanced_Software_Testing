<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:47:12 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-753/HBASE-753.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-753] Safe copy of tables using hdfs copy (WAS -&gt; Can&apos;t replace the data of a particular table by copying its files on HDFS)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-753</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I have 2 instances of hbase running. One is &lt;b&gt;production&lt;/b&gt; and the other one is &lt;b&gt;development&lt;/b&gt;. I want to be able to replace the content of a table (not all of them) in development by the content in production. Both of my environments are running hbase-trunk (a snapshot of july 9th). In hbase-0.1.x we used to be able to do that by simply stopping both hbases, copying the files of the required table directly from one HDFS to the other and then restart hbase.&lt;/p&gt;

&lt;p&gt;It doesn&apos;t work anymore. In hbase shell I do see the table but it&apos;s empty.&lt;/p&gt;

&lt;p&gt;There are no errors. I looked at the master&apos;s log and the regionservers logs as well, all in DEBUG mode... but I saw nothing interesting. I do see that the regions for that table are being assigned. So, if there&apos;s more than 1 region it means that it knows that the table isn&apos;t empty.&lt;/p&gt;

&lt;p&gt;So, I have to copy all the tables and then it&apos;s fine. It&apos;s not practical though.&lt;/p&gt;

&lt;p&gt;My guess is that .META. is holding old information about that table that doesn&apos;t get updated when I replace the table&apos;s data.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400532">HBASE-753</key>
            <summary>Safe copy of tables using hdfs copy (WAS -&gt; Can&apos;t replace the data of a particular table by copying its files on HDFS)</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="srainville">Sebastien Rainville</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Jul 2008 10:58:09 +0000</created>
                <updated>Sun, 1 Jan 2012 22:59:49 +0000</updated>
                            <resolved>Sun, 1 Jan 2012 20:46:57 +0000</resolved>
                                    <version>0.2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12614818" author="jimk" created="Fri, 18 Jul 2008 17:43:28 +0000"  >&lt;p&gt;You can&apos;t just copy a table&apos;s directories and expect it to work. It might if all the regions are the same, but if a region has split, data in the target META won&apos;t  have this information.&lt;/p&gt;

&lt;p&gt;Maybe when we get hbase-fsck you&apos;ll be able to do it if you run the fsck after the copy and before starting the cluster. Until that time, you&apos;ll either get lucky and it will work, or it won&apos;t.&lt;/p&gt;</comment>
                            <comment id="12615400" author="stack" created="Mon, 21 Jul 2008 20:16:03 +0000"  >&lt;p&gt;Sebastien:  Can we close this as won&apos;t fix or should we instead migrate this issue to be a feature request?  &quot;Make it so can copy tables in hdfs&quot;?&lt;/p&gt;</comment>
                            <comment id="12615424" author="srainville" created="Mon, 21 Jul 2008 21:02:43 +0000"  >&lt;p&gt;Let&apos;s migrate it to be a feature request. It&apos;s been very useful (when it was working in 0.1.x) to us for reducing the development time of our application.&lt;/p&gt;</comment>
                            <comment id="12615433" author="stack" created="Mon, 21 Jul 2008 21:26:11 +0000"  >&lt;p&gt;Made it into a feature request rather than bug; updated the summary.&lt;/p&gt;</comment>
                            <comment id="12643571" author="stack" created="Wed, 29 Oct 2008 18:15:35 +0000"  >&lt;p&gt;Should be a means of having region metadata dumped out into individual regions.  Once there, an HDFS copy could be done.  Restore would read the metadata from the region subdirs and repopulate the .META.&lt;/p&gt;</comment>
                            <comment id="13178229" author="qwertymaniac" created="Sun, 1 Jan 2012 20:46:57 +0000"  >&lt;p&gt;HBase presently has utilities that aid in copying over tables, among other things (live replication, etc.). These should be sufficient I&apos;d think.&lt;/p&gt;</comment>
                            <comment id="13178250" author="lhofhansl" created="Sun, 1 Jan 2012 22:59:49 +0000"  >&lt;p&gt;Something like this might still be useful, this would be far more efficient than a copy based on cells.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Jul 2008 17:43:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h98n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>