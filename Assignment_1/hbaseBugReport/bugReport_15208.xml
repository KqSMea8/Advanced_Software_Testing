<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:00:57 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-15208/HBASE-15208.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-15208] AsyncProcess seems to rely on regionId() to be unique which is not</title>
                <link>https://issues.apache.org/jira/browse/HBASE-15208</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;AsyncProcess is using getRegionId() to identify a region. It looks like the original implementation was using encodedName which is unique, but then we switched to regionIds with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9988&quot; title=&quot;DOn&amp;#39;t use HRI#getEncodedName in the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9988&quot;&gt;&lt;del&gt;HBASE-9988&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; canTakeOperation(HRegionLocation loc,
                                     Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;&amp;gt; regionsIncluded,
                                     Map&amp;lt;ServerName, &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;&amp;gt; serversIncluded) {
    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; regionId = loc.getRegionInfo().getRegionId();
    &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt; regionPrevious = regionsIncluded.get(regionId);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (regionPrevious != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      &lt;span class=&quot;code-comment&quot;&gt;// We already know what to &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; with &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; region.
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; regionPrevious;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The RegionId is not unique, since it is a timestamp. and specifically in case we create a table with splits each region get the same regionId. (from the doc of HRegionInfo about regionId, looks like that field should be named creationTimestamp or something like that for a more expressive name).&lt;/p&gt;

&lt;p&gt;I&apos;m unsure on what are the consequences. from a couple of tests and the code looks like it may just allow more tasks than the one configured by the max task allowed conf. but I&apos;d let someone else familiar with this code look into it.&lt;/p&gt;

&lt;p&gt;Also TestAsyncProcess has the HRegionInfo hr1, hr2, hr3 with different regionIds, if we switch them to be the same id we have a testSubmitBusyRegionServer() failing&lt;/p&gt;</description>
                <environment></environment>
        <key id="12936194">HBASE-15208</key>
            <summary>AsyncProcess seems to rely on regionId() to be unique which is not</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mbertozzi">Matteo Bertozzi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Feb 2016 00:15:08 +0000</created>
                <updated>Wed, 3 Feb 2016 00:15:08 +0000</updated>
                                            <version>2.0.0</version>
                    <version>1.2.0</version>
                    <version>1.3.0</version>
                    <version>1.0.3</version>
                    <version>1.1.3</version>
                    <version>0.98.16.1</version>
                                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2sbyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>