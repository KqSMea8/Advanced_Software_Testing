<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:41:17 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-125/HBASE-125.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-125] initializing a new HTable object against a nonexistent table throws a NoServerForRegionException instead of a TableNotFoundException when a different table has been created previously</title>
                <link>https://issues.apache.org/jira/browse/HBASE-125</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When a table has been created, initializing a new HTable object for that table works properly, as expected, but initializing a new HTable against a nonexistent table in the same context (a table exists), a NoServerForRegionException is thrown instead of TableNotFoundException, as would be expected.&lt;/p&gt;

&lt;p&gt;If there haven&apos;t been any tables created, initializing a new HTable object against &apos;nosuchTable&apos; throws TableNotFoundException, as expected.&lt;/p&gt;

&lt;p&gt;Running the following TestCase exposes the issue on my machine.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;TestHTable.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.hadoop.hbase;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.io.Text;

/**
 * Tests HTable
 */
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestHTable &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HBaseClusterTestCase &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; HConstants {
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testTableNotFoundExceptionWithoutAnyTables() {
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HTable(conf, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Text(&lt;span class=&quot;code-quote&quot;&gt;&quot;notATable&quot;&lt;/span&gt;));
      fail(&lt;span class=&quot;code-quote&quot;&gt;&quot;Should have thrown a TableNotFoundException&quot;&lt;/span&gt;);
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (TableNotFoundException e) {
      &lt;span class=&quot;code-comment&quot;&gt;// expected
&lt;/span&gt;    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
      e.printStackTrace();
      fail(&lt;span class=&quot;code-quote&quot;&gt;&quot;Should have thrown a TableNotFoundException instead of a &quot;&lt;/span&gt; +
          e.getClass());
    }
  }
  
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testTableNotFoundExceptionWithATable() {
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      HColumnDescriptor column =
        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HColumnDescriptor(COLUMN_FAMILY.toString());
      HBaseAdmin admin = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HBaseAdmin(conf);
      HTableDescriptor testTableADesc =
        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HTableDescriptor(&lt;span class=&quot;code-quote&quot;&gt;&quot;table&quot;&lt;/span&gt;);
      testTableADesc.addFamily(column);
      admin.createTable(testTableADesc);

      &lt;span class=&quot;code-comment&quot;&gt;// This should &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; a TableNotFoundException, it has not been created
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HTable(conf, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Text(&lt;span class=&quot;code-quote&quot;&gt;&quot;notATable&quot;&lt;/span&gt;));
      
      fail(&lt;span class=&quot;code-quote&quot;&gt;&quot;Should have thrown a TableNotFoundException&quot;&lt;/span&gt;);
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (TableNotFoundException e) {
      &lt;span class=&quot;code-comment&quot;&gt;// expected
&lt;/span&gt;    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
      e.printStackTrace();
      fail(&lt;span class=&quot;code-quote&quot;&gt;&quot;Should have thrown a TableNotFoundException instead of a &quot;&lt;/span&gt; +
          e.getClass());
    }
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12386030">HBASE-125</key>
            <summary>initializing a new HTable object against a nonexistent table throws a NoServerForRegionException instead of a TableNotFoundException when a different table has been created previously</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pdwryst">Peter Dolan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jan 2008 07:29:29 +0000</created>
                <updated>Fri, 22 Aug 2008 21:34:49 +0000</updated>
                            <resolved>Tue, 15 Jan 2008 15:59:25 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12557926" author="pdwryst" created="Fri, 11 Jan 2008 07:32:25 +0000"  >&lt;p&gt;(adding a missing fail line)&lt;/p&gt;</comment>
                            <comment id="12558758" author="bryanduxbury" created="Mon, 14 Jan 2008 19:59:28 +0000"  >&lt;p&gt;This patch includes Peter&apos;s new test cases and some fixes to HTable, HConnectionManager, HRegionServer, HRegion, and HStore to correctly handle the case when there&apos;s no tables at all in .META.&lt;/p&gt;</comment>
                            <comment id="12558777" author="bryanduxbury" created="Mon, 14 Jan 2008 20:52:16 +0000"  >&lt;p&gt;Tests pass locally, submitting to Hudson.&lt;/p&gt;</comment>
                            <comment id="12559000" author="hadoopqa" created="Tue, 15 Jan 2008 09:52:00 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
&lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12373119/2579.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12373119/2579.patch&lt;/a&gt;&lt;br/&gt;
against trunk revision r612025.&lt;/p&gt;

&lt;p&gt;    @author +1.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    javadoc +1.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    javac +1.  The applied patch does not generate any new compiler warnings.&lt;/p&gt;

&lt;p&gt;    findbugs +1.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    core tests +1.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    contrib tests +1.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1591/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1591/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1591/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1591/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1591/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1591/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1591/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1591/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12559095" author="stack" created="Tue, 15 Jan 2008 15:59:25 +0000"  >&lt;p&gt;Committed.  Resolving.  Thanks for the patch Bryan.&lt;/p&gt;</comment>
                            <comment id="12559603" author="hudson" created="Wed, 16 Jan 2008 17:31:26 +0000"  >&lt;p&gt;Integrated in Hadoop-Nightly #367 (See &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Nightly/367/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Nightly/367/&lt;/a&gt;)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12373119" name="2579.patch" size="5631" author="bryanduxbury" created="Mon, 14 Jan 2008 19:59:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Jan 2008 19:59:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h4lj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>