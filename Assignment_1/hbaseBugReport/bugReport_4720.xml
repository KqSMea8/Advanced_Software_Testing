<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:21:26 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4720/HBASE-4720.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4720] Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server </title>
                <link>https://issues.apache.org/jira/browse/HBASE-4720</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I have several large application/HBase clusters where an application node will occasionally need to talk to HBase from a different cluster.  In order to help ensure some of my consistency guarantees I have a sentinel table that is updated atomically as users interact with the system.  This works quite well for the &quot;regular&quot; hbase client but the REST client does not implement the checkAndPut and checkAndDelete operations.  This exposes the application to some race conditions that have to be worked around.  It would be ideal if the same checkAndPut/checkAndDelete operations could be supported by the REST client.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12529721">HBASE-4720</key>
            <summary>Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mubarakseyed">Mubarak Seyed</assignee>
                                    <reporter username="dlord">Daniel Lord</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Nov 2011 19:20:10 +0000</created>
                <updated>Tue, 26 Feb 2013 08:16:13 +0000</updated>
                            <resolved>Wed, 30 May 2012 18:41:19 +0000</resolved>
                                                    <fixVersion>0.94.1</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13164046" author="mubarakseyed" created="Wed, 7 Dec 2011 01:41:10 +0000"  >&lt;p&gt;Waiting for corporate approval to contribute this patch. Thanks.&lt;/p&gt;</comment>
                            <comment id="13168641" author="mubarakseyed" created="Tue, 13 Dec 2011 19:30:44 +0000"  >&lt;p&gt;My approach is to use a label in the URI path&lt;/p&gt;

&lt;p&gt;checkAndPut of HRemoteTable would send &lt;br/&gt;
PUT /check/&amp;lt;table&amp;gt;/&amp;lt;row&amp;gt;/&amp;lt;column&amp;gt;:&amp;lt;qualifier&amp;gt; ? ( / &amp;lt;timestamp&amp;gt; )?&lt;/p&gt;


&lt;p&gt;checkAndDelete of HRemoteTable would send&lt;br/&gt;
DELETE /check/&amp;lt;table&amp;gt;/&amp;lt;row&amp;gt;/&amp;lt;column&amp;gt;:&amp;lt;qualifier&amp;gt; ? ( / &amp;lt;timestamp&amp;gt; )?&lt;/p&gt;

&lt;p&gt;with Put object will be converted to content (byte[] from createProtobufOutput)  &lt;/p&gt;
</comment>
                            <comment id="13168834" author="stack" created="Tue, 13 Dec 2011 23:12:24 +0000"  >&lt;p&gt;Would using an attribute work?&lt;/p&gt;

&lt;p&gt;?check=true&lt;/p&gt;

&lt;p&gt;How you passing the value to check when PUT&apos;ing or DELETE&apos;ing?&lt;/p&gt;</comment>
                            <comment id="13169164" author="mubarakseyed" created="Wed, 14 Dec 2011 08:10:49 +0000"  >&lt;p&gt;Stack,&lt;/p&gt;

&lt;p&gt;Option 1:&lt;br/&gt;
If we send ?check=true then client can send value to check and value-to-check as part of URI like&lt;/p&gt;

&lt;p&gt;PUT or POST&lt;br/&gt;
/table/&amp;lt;row&amp;gt;/&amp;lt;column&amp;gt;:&amp;lt;qualifier&amp;gt; ?(/&amp;lt;check:true&amp;gt;) ?(/&amp;lt;value-to-check&amp;gt;) ?(/&amp;lt;timestamp&amp;gt;)&lt;br/&gt;
(with Put object as content)&lt;/p&gt;

&lt;p&gt;Delete on RowResource uses only request-URI and there is no way to get CellSetModel (which holds the content of Delete object, as part of checkAndDelete API). If we go by HTTP @Delete method then how do we send the entity-body (content)? Ref: &lt;a href=&quot;http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.7&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.7&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Can we treat checkAndDelete as HTTP PUT or POST operation and send the Delete object content as entity-body?&lt;/p&gt;

&lt;p&gt;so, the request URI would look like&lt;/p&gt;

&lt;p&gt;checkAndPut: PUT (or) POST /table/&amp;lt;row&amp;gt;/&amp;lt;column&amp;gt;:&amp;lt;qualifier&amp;gt; ?(/&amp;lt;checkandput:true&amp;gt;) ?(/&amp;lt;value-to-check&amp;gt;) ?(/&amp;lt;timestamp&amp;gt;)&lt;br/&gt;
checkAndDelete: PUT (or) POST /table/&amp;lt;row&amp;gt;/&amp;lt;column&amp;gt;:&amp;lt;qualifier&amp;gt; ?(/&amp;lt;checkanddelete:true&amp;gt;) ?(/&amp;lt;value-to-check&amp;gt;) ?(/&amp;lt;timestamp&amp;gt;)&lt;/p&gt;

&lt;p&gt;we can make use of put or post in RowResource and refactor the put()/post() code to handle both put/checkAndPut and delete/checkAndDelete.&lt;/p&gt;

&lt;p&gt;Option 2:&lt;br/&gt;
If we dont want to refactor the RowResource code, we can create new resource (such as /checkandput and /checkanddelete) then we can append the /table/&amp;lt;row&amp;gt;/... convention&lt;/p&gt;</comment>
                            <comment id="13169887" author="zhihyu@ebaysf.com" created="Thu, 15 Dec 2011 00:39:08 +0000"  >&lt;p&gt;I think option 2 is more favorable.&lt;/p&gt;</comment>
                            <comment id="13169911" author="mubarakseyed" created="Thu, 15 Dec 2011 01:45:39 +0000"  >&lt;p&gt;+1 for option 2&lt;/p&gt;</comment>
                            <comment id="13169969" author="stack" created="Thu, 15 Dec 2011 05:03:55 +0000"  >&lt;p&gt;Option 2 sounds better.  How do you pass the value to check in option 2?  You can&apos;t pass it as attribute because it could be binary, right?  Maybe in the body of the put, you have two values, first the one to check then the one to set if it pans out.  Ditto delete?&lt;/p&gt;</comment>
                            <comment id="13169975" author="mubarakseyed" created="Thu, 15 Dec 2011 05:29:34 +0000"  >&lt;p&gt;Thanks Stack. Yeah, i can pass the value-to-check in the body of the Put/Delete.&lt;/p&gt;</comment>
                            <comment id="13170757" author="mubarakseyed" created="Fri, 16 Dec 2011 04:18:27 +0000"  >&lt;p&gt;The attached file is a patch&lt;/p&gt;</comment>
                            <comment id="13171087" author="zhihyu@ebaysf.com" created="Fri, 16 Dec 2011 17:29:46 +0000"  >&lt;p&gt;The patch is of decent size, can you post on review board so that it is easier to correlate comments with code ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+ * Copyright 2010 The Apache Software Foundation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Year isn&apos;t needed in license.&lt;/p&gt;

&lt;p&gt;Looks like the two new CheckAndXXTableResource classes are cloned off of TableResource.java&lt;br/&gt;
It would be nice to reuse code from TableResource.java, such as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  void scanTransformAttrs() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Refactoring is always an integral part of new feature.&lt;/p&gt;

&lt;p&gt;Thanks for your effort, Mubarak.&lt;/p&gt;</comment>
                            <comment id="13171319" author="mubarakseyed" created="Fri, 16 Dec 2011 23:52:32 +0000"  >&lt;p&gt;Sure, will refactor and post it on review board. Thanks.&lt;/p&gt;</comment>
                            <comment id="13171436" author="mubarakseyed" created="Sat, 17 Dec 2011 03:30:22 +0000"  >&lt;p&gt;Thanks Ted. This is what i think about refactoring the TableResource and CheckAndXXXXResource.&lt;/p&gt;

&lt;p&gt;I can&apos;t extend from TableResource as WebContainer ends up look for @Path in TableResource after calling super(table) in CheckAndXXXXResource, which causes web container to throw incorrect URI exception. &lt;/p&gt;

&lt;p&gt;Even if i make some of the methods (scanTransformAttrs) to static, it breaks on variables scope.&lt;/p&gt;

&lt;p&gt;I think we need a superClass for both TableResource and CheckAndXXXXResource, which can carry most of the methods (scanTransformAttrs, getTransform, setTransform, tranform), it would look like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class BasicResource &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ResourceBase{

   -- All the common methods --
}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TableResource &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; BasicResource{

}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class CheckAndXXXXResource &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; BasicResource{

}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;OR we can move all the common methods to ResourceBase and we can have overloaded constructor to send table name, like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ResourceBase(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; table){

}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ResourceBase(){

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;so that all other resource classes (such as VersionResource, SchemaResource, etc) does not need to change.&lt;/p&gt;

&lt;p&gt;I am just hacking the code with option #2 (moving methods to ResourceBase), will test it out, post them on review board then wait for comments.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Mubarak&lt;/p&gt;</comment>
                            <comment id="13171442" author="zhihyu@ebaysf.com" created="Sat, 17 Dec 2011 03:51:31 +0000"  >&lt;p&gt;Sounds good. &lt;br/&gt;
Keep us posted. &lt;/p&gt;</comment>
                            <comment id="13171473" author="mubarakseyed" created="Sat, 17 Dec 2011 06:42:01 +0000"  >&lt;p&gt;Code is posted at &lt;a href=&quot;https://reviews.apache.org/r/3250/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3250/&lt;/a&gt; for review.&lt;/p&gt;</comment>
                            <comment id="13172041" author="zhihyu@ebaysf.com" created="Mon, 19 Dec 2011 06:13:42 +0000"  >&lt;p&gt;The diff was made against 0.90.5&lt;br/&gt;
I got the following when trying to apply to TRUNK:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
1 out of 2 hunks FAILED -- saving rejects to file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/TableResource.java.rej
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I suggest the following steps based on TRUNK:&lt;br/&gt;
1. continue with refactoring&lt;br/&gt;
2. add unit tests for the new XXResource classes (remember to add test category)&lt;br/&gt;
3. let Hadoop QA test the patch&lt;/p&gt;

&lt;p&gt;Minor comment: year isn&apos;t needed for license&lt;/p&gt;

&lt;p&gt;Thanks for your effort Mubarak.&lt;/p&gt;</comment>
                            <comment id="13172743" author="mubarakseyed" created="Mon, 19 Dec 2011 23:49:09 +0000"  >&lt;p&gt;Thanks Ted. I am done with refactor the code/unit-tests. Once unit test (with runLargeTests) ran, will update the diff to review board and update the patch here. Thanks.&lt;/p&gt;</comment>
                            <comment id="13172758" author="mubarakseyed" created="Tue, 20 Dec 2011 00:03:51 +0000"  >&lt;p&gt;Regarding unit test classes, i dont need separate TestXXXXResource.java as checkAndPut/checkAndDelete are related to RowResource. I just added few test methods in RowResource, is that ok? or do i need to create separate TestCheckAndPutResource.java/TestCheckAndDeleteResource.java? Please confirm. Thanks.&lt;/p&gt;</comment>
                            <comment id="13172763" author="zhihyu@ebaysf.com" created="Tue, 20 Dec 2011 00:10:49 +0000"  >&lt;p&gt;I think adding test methods in TestRowResource makes sense.&lt;/p&gt;</comment>
                            <comment id="13172876" author="mubarakseyed" created="Tue, 20 Dec 2011 03:04:19 +0000"  >&lt;p&gt;The attached file (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt;.v3.patch) contains refactored code with unit tests.&lt;/p&gt;</comment>
                            <comment id="13172879" author="mubarakseyed" created="Tue, 20 Dec 2011 03:12:13 +0000"  >&lt;p&gt;Uploaded the patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt;.v3.patch) to review board&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3250/diff/2/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3250/diff/2/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13172889" author="zhihyu@ebaysf.com" created="Tue, 20 Dec 2011 03:25:34 +0000"  >&lt;p&gt;I tried applying patch v3 on 0.92 and TRUNK but encountered similar errors.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
1 out of 1 hunk FAILED -- saving rejects to file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/TableResource.java.rej
1 out of 3 hunks FAILED -- saving rejects to file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/ExistsResource.java.rej
1 out of 30 hunks FAILED -- saving rejects to file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/client/RemoteHTable.java.rej
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please rebase patch on TRUNK so that Hadoop QA can test it.&lt;/p&gt;</comment>
                            <comment id="13172986" author="mubarakseyed" created="Tue, 20 Dec 2011 06:45:05 +0000"  >&lt;p&gt;This JIRA request was opened by my colleague as we need this feature in 0.90 branch as we have a requirement to use atomic update operations in production cluster. If this fix goes only in 0.92 and TRUNK then we need to wait a while. Can&apos;t we apply this patch under 0.90.6 branch? I can create a separate patch for 0.92 and TRUNK. Please confirm. Thanks.&lt;/p&gt;</comment>
                            <comment id="13172988" author="zhihyu@ebaysf.com" created="Tue, 20 Dec 2011 06:50:11 +0000"  >&lt;p&gt;I suggest working on patch for TRUNK.&lt;br/&gt;
Once the review is done and patch gets integrated, you can backport it to 0.90&lt;/p&gt;

&lt;p&gt;This means you would run patched 0.90 build in production for a while before the backport is finalized in 0.90.6&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4508&quot; title=&quot;Backport HBASE-3777 to 0.90 branch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4508&quot;&gt;&lt;del&gt;HBASE-4508&lt;/del&gt;&lt;/a&gt; is such an example.&lt;/p&gt;

&lt;p&gt;Is the above procedure acceptable ?&lt;/p&gt;</comment>
                            <comment id="13172989" author="zhihyu@ebaysf.com" created="Tue, 20 Dec 2011 06:52:28 +0000"  >&lt;p&gt;For patch based on 0.90 branch, you can still upload to reviewboard.&lt;br/&gt;
Here was from Jonathan Hsieh:&lt;/p&gt;

&lt;p&gt;Assuming you are using git and have a single committed patch which is your&lt;br/&gt;
current branch, I&apos;ve found using git&apos;s &apos;git format-patch HEAD^&apos; and using&lt;br/&gt;
the generated file with the &apos;hbase-git&apos; project to be the easiest.  The file&lt;br/&gt;
name generated should start with 0001-HBASE-xxxxx.patch.&lt;/p&gt;</comment>
                            <comment id="13172991" author="mubarakseyed" created="Tue, 20 Dec 2011 07:03:52 +0000"  >&lt;p&gt;Okay, i will work on patch for TRUNK then. Thanks.&lt;/p&gt;</comment>
                            <comment id="13173567" author="mubarakseyed" created="Tue, 20 Dec 2011 22:24:46 +0000"  >&lt;p&gt;when i ran the tests, it fails at &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.util.TestRegionSplitCalculator
Tests run: 14, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.077 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!

Failed tests:   testSplitCalculatorEq(org.apache.hadoop.hbase.util.TestRegionSplitCalculator): expected:&amp;lt;2&amp;gt; but was:&amp;lt;1&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13173639" author="mubarakseyed" created="Wed, 21 Dec 2011 00:00:59 +0000"  >&lt;p&gt;The attached file (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt;.trunk.v1.patch) contains changes (after rebased patch on TRUNK)&lt;/p&gt;</comment>
                            <comment id="13173641" author="mubarakseyed" created="Wed, 21 Dec 2011 00:02:38 +0000"  >&lt;p&gt;The attached file (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt;.trunk.v1.patch) contains changes after rebased on TRUNK.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13173646" author="zhihyu@ebaysf.com" created="Wed, 21 Dec 2011 00:07:12 +0000"  >&lt;p&gt;Can you update &lt;a href=&quot;https://reviews.apache.org/r/3250&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3250&lt;/a&gt; with patch for TRUNK ?&lt;/p&gt;</comment>
                            <comment id="13173650" author="zhihyu@ebaysf.com" created="Wed, 21 Dec 2011 00:10:19 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] /Users/zhihyu/trunk-hbase/src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/RootResource.java:[108,9] cannot find symbol
[ERROR] symbol  : class CheckAndPutTableResource
[ERROR] location: class org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.RootResource
[ERROR] 
[ERROR] /Users/zhihyu/trunk-hbase/src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/RootResource.java:[114,9] cannot find symbol
[ERROR] symbol  : class CheckAndDeleteTableResource
[ERROR] location: class org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.RootResource
[ERROR] 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think some new files were not added as part of TRUNK patch.&lt;/p&gt;</comment>
                            <comment id="13173657" author="mubarakseyed" created="Wed, 21 Dec 2011 00:19:32 +0000"  >&lt;p&gt;Sorry for the inconvenience, i forgot to do &apos;svn add &amp;lt;file&amp;gt;&apos; before the patch. The attached file contains updated patch. Thanks.&lt;/p&gt;</comment>
                            <comment id="13173857" author="stack" created="Wed, 21 Dec 2011 04:43:56 +0000"  >&lt;p&gt;@Mubarak That test fails for me too on a mac (I presume you are on a mac &amp;#8211; smile).  Need to dig in.&lt;/p&gt;</comment>
                            <comment id="13173861" author="stack" created="Wed, 21 Dec 2011 04:56:03 +0000"  >&lt;p&gt;On patch:&lt;/p&gt;

&lt;p&gt;+ Suggest you not do stuff like below in future because it bloats your patch making it more susceptible to rot and besides is not related directly to what you are trying to your fix so distracting for reviewers (for the next time):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HBaseRESTTestingUtility REST_TEST_UTIL = 
-    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HBaseRESTTestingUtility();
+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HBaseRESTTestingUtility REST_TEST_UTIL = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HBaseRESTTestingUtility();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;+ Is this safe?  e.g. what if row has binary characters in it?  Should these be base64&apos;d or something?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    path.append(&apos;/&apos;);
+    path.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;checkandput&quot;&lt;/span&gt;);
+    path.append(&apos;/&apos;);
+    path.append(table);
+    path.append(&apos;/&apos;);
+    path.append(row);
+    path.append(&apos;/&apos;);
+    path.append(column);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I suppose its not needed in a test (I missed that this is test code)&lt;/p&gt;

&lt;p&gt;You have some lines that are way too long.&lt;/p&gt;

&lt;p&gt;Else patch looks good to me on cursory review.&lt;/p&gt;</comment>
                            <comment id="13173914" author="mubarakseyed" created="Wed, 21 Dec 2011 06:49:36 +0000"  >&lt;p&gt;Thanks Stack.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Suggest you not do stuff like below in future because it bloats your patch making it more susceptible to rot and besides is not related directly to what you are trying to your fix so distracting for reviewers (for the next time):&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I had formatted the code using &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3678&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;del&gt;HBASE-3678&lt;/del&gt;&lt;/a&gt; &lt;tt&gt;eclipse_formatter_apache.xml&lt;/tt&gt;. I apologize for messing up with format. Can you please advice on code formatting? (i believe hbase book also refers &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3678&quot; title=&quot;Add Eclipse-based Apache Formatter to HBase Wiki&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3678&quot;&gt;&lt;del&gt;HBASE-3678&lt;/del&gt;&lt;/a&gt; for code formatting)&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is this safe? e.g. what if row has binary characters in it? Should these be base64&apos;d or something?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Other test methods in &lt;tt&gt;src/test/java/org/apache/hadoop/hbase/rest/TestRowResources.java&lt;/tt&gt; uses the same way to build the URI (&lt;tt&gt;deleteRow, deleteValue, putValuePB,&lt;/tt&gt; etc). I just copied the code from other methods.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;You have some lines that are way too long.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;tt&gt;eclipse-code-formatter.xml&lt;/tt&gt; uses line length as 80, please advice on line length. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;setting id=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jdt.core.formatter.comment.line_length&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;80&quot;&lt;/span&gt;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13174209" author="zhihyu@ebaysf.com" created="Wed, 21 Dec 2011 16:58:26 +0000"  >&lt;p&gt;I posted comment on review board.&lt;/p&gt;

&lt;p&gt;@Andrew:&lt;br/&gt;
Can you take a look at the latest patch ?&lt;/p&gt;</comment>
                            <comment id="13174236" author="zhihyu@ebaysf.com" created="Wed, 21 Dec 2011 17:22:29 +0000"  >&lt;p&gt;@Mubarak:&lt;br/&gt;
I think the rule you posted only governs comment.&lt;br/&gt;
I tried auto-formatting a long line which has 3 identical short statements. There was no auto-wrapping.&lt;/p&gt;</comment>
                            <comment id="13174345" author="mubarakseyed" created="Wed, 21 Dec 2011 19:36:26 +0000"  >&lt;p&gt;@Ted:&lt;br/&gt;
&lt;tt&gt;eclipse_formatter_apache.xml&lt;/tt&gt; does not work for long lines. Do you mind to post your eclipse formatter rule file? Thanks.&lt;/p&gt;</comment>
                            <comment id="13174351" author="zhihyu@ebaysf.com" created="Wed, 21 Dec 2011 19:40:52 +0000"  >&lt;p&gt;I used the formatter provided by Nicolas.&lt;/p&gt;

&lt;p&gt;Please adjust line length manually.&lt;/p&gt;</comment>
                            <comment id="13174517" author="mubarakseyed" created="Thu, 22 Dec 2011 00:05:03 +0000"  >&lt;p&gt;I addressed most of the review comments, will wait until get more review comments from Andrew (and others).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
parameter update is not being used in other places as well.

RowResoure.java:
----------------
Response update(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; CellSetModel model, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; replace)

Response updateBinary(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] message, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HttpHeaders headers,
      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; replace) 

ScannerResource.java:
---------------------
Response update(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ScannerModel model, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; replace,
      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; UriInfo uriInfo) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13174856" author="stack" created="Thu, 22 Dec 2011 15:52:05 +0000"  >&lt;p&gt;@Mubarak Understood (re: formatter).  Would suggest you not run it on total file when changing a few lines in the file only; we&apos;ve not been doing a good job enforcing formatting across the code base so forcing formatting on all of a file will usually turn up loads of changes.  When loads of changes, your patch gets big.  Big patches are harder to get reviews on.  Just some advice for next time.&lt;/p&gt;

&lt;p&gt;On the test URL making, sounds good.&lt;/p&gt;</comment>
                            <comment id="13175078" author="mubarakseyed" created="Thu, 22 Dec 2011 21:33:46 +0000"  >&lt;p&gt;The attached file (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt;.trunk.v2.patch) addresses most of the code review comments.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13175105" author="stack" created="Thu, 22 Dec 2011 22:06:32 +0000"  >&lt;p&gt;lgtm on cursory review.  I&apos;ll commit in a few days.  Maybe Andrew will take a look meantime.&lt;/p&gt;</comment>
                            <comment id="13175174" author="zhihyu@ebaysf.com" created="Thu, 22 Dec 2011 23:54:56 +0000"  >&lt;p&gt;@Mubarak:&lt;br/&gt;
Please resubmit patch for Hadoop QA - build machine was just restarted.&lt;/p&gt;</comment>
                            <comment id="13175177" author="mubarakseyed" created="Thu, 22 Dec 2011 23:57:46 +0000"  >&lt;p&gt;Per Ted&apos;s request, resubmitting the patch. Thanks.&lt;/p&gt;</comment>
                            <comment id="13175226" author="hadoopqa" created="Fri, 23 Dec 2011 01:44:40 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12508447/HBASE-4720.trunk.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12508447/HBASE-4720.trunk.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -151 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 77 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/583//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/583//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/583//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/583//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/583//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/583//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13175229" author="zhihyu@ebaysf.com" created="Fri, 23 Dec 2011 02:03:09 +0000"  >&lt;p&gt;The failed tests were due to NumberFormatException (see &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3583&quot; title=&quot;ProcfsBasedProcessTree#constructProcessInfo() may throw NumberFormatException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3583&quot;&gt;&lt;del&gt;MAPREDUCE-3583&lt;/del&gt;&lt;/a&gt;)&lt;br/&gt;
TestMasterReplication hung but shouldn&apos;t be caused by this JIRA.&lt;/p&gt;

&lt;p&gt;The latest patch should be good to go.&lt;/p&gt;</comment>
                            <comment id="13175231" author="hadoopqa" created="Fri, 23 Dec 2011 02:09:36 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12508468/HBASE-4720.trunk.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12508468/HBASE-4720.trunk.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -151 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 77 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestCoprocessorEndpoint&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/584//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/584//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/584//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/584//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/584//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/584//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13175233" author="mubarakseyed" created="Fri, 23 Dec 2011 02:11:09 +0000"  >&lt;p&gt;Thanks Ted and Stack.&lt;/p&gt;</comment>
                            <comment id="13184639" author="mubarakseyed" created="Thu, 12 Jan 2012 01:29:31 +0000"  >&lt;p&gt;The attached file (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt;.trunk.v3.patch) contains changes for Andrew Purtell&apos;s code review comments.&lt;/p&gt;

&lt;p&gt;This patch does not cover the following from Andrew&apos;s comments:&lt;/p&gt;

&lt;p&gt;&amp;gt;The REST gateway does support a batch put operation, where the supplied model contains multiple rows. The request URI will contain the table name and a row key, but the row key would be ignored and should be set to something known not to exist, like &quot;submit&quot;. (Row name in the model takes preference to whatever was supplied in the URI.) See RowResource, starting around line 160. This gives the client the option of submitting work in batch, to reduce overheads.&lt;/p&gt;

&lt;p&gt;So optionally here you could retrieve a list of rows and process them, building a response that includes the disposition of each.&lt;/p&gt;

&lt;p&gt;HTable.checkAndPut and HTable.checkAndDelete&lt;br/&gt;
API supports only one row at a time (&lt;a href=&quot;http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HTable.html#checkAndPut(byte[&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HTable.html#checkAndPut(byte[&lt;/a&gt;], byte[], byte[], byte[], org.apache.hadoop.hbase.client.Put)). I don&apos;t think we need to support batch of checkAndPut and checkAndDelete.&lt;/p&gt;

&lt;p&gt;&amp;gt;The URI format for requests is &apos;/&amp;lt;table&amp;gt;/&amp;lt;row&amp;gt;/ ...&apos; This violates that by adding, just for check-and cases, a prefix. Having a special case like that should be avoided. What about handling this in TableResource, with a query parameter? &apos;/&amp;lt;table&amp;gt;/&amp;lt;row&amp;gt;/?check&apos; E.g.Then you won&apos;t need CheckAndXTableResource classes. Additionally use the appropriate HTTP operations. PUT/POST for check-and-put. DELETE for check-and-delete. The spec does not forbid bodies in DELETE requests. (I am unsure if Jetty/Jersey will support it however.)&lt;/p&gt;

&lt;p&gt;We have discussed the design choices earlier (refer comments in the same JIRA), Stack and Ted have voted for option # 2 (/checkandput, /checkanddelete) option. If i have to go back to option #1 then i will have to re-work most of the stuff here.&lt;/p&gt;</comment>
                            <comment id="13184647" author="mubarakseyed" created="Thu, 12 Jan 2012 01:38:44 +0000"  >&lt;p&gt;This patch does not cover the following from Andrew&apos;s comments:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The REST gateway does support a batch put operation, where the supplied model contains multiple rows. The request URI will contain the table name and a row key, but the row key would be ignored and should be set to something known not to exist, like &quot;submit&quot;. (Row name in the model takes preference to whatever was supplied in the URI.) See RowResource, starting around line 160. This gives the client the option of submitting work in batch, to reduce overheads.&lt;/p&gt;

&lt;p&gt;So optionally here you could retrieve a list of rows and process them, building a response that includes the disposition of each.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HTable.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HTable.checkAndPut&lt;/a&gt; and &lt;a href=&quot;http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HTable.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HTable.checkAndDelete&lt;/a&gt;&lt;br/&gt;
API supports only one row at a time. I don&apos;t think we need to support batch of checkAndPut and checkAndDelete.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The URI format for requests is &apos;/&amp;lt;table&amp;gt;/&amp;lt;row&amp;gt;/ ...&apos; This violates that by adding, just for check-and cases, a prefix. Having a special case like that should be avoided. What about handling this in TableResource, with a query parameter? &apos;/&amp;lt;table&amp;gt;/&amp;lt;row&amp;gt;/?check&apos; E.g.Then you won&apos;t need CheckAndXTableResource classes. Additionally use the appropriate HTTP operations. PUT/POST for check-and-put. DELETE for check-and-delete. The spec does not forbid bodies in DELETE requests. (I am unsure if Jetty/Jersey will support it however.)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We have discussed the design choices earlier (refer comments in the same JIRA), Stack and Ted have voted for option # 2 (/checkandput, /checkanddelete) option. If i have to go back to option #1 then i will have to re-work most of the stuff here.&lt;/p&gt;</comment>
                            <comment id="13184671" author="hadoopqa" created="Thu, 12 Jan 2012 02:11:26 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12510293/HBASE-4720.trunk.v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12510293/HBASE-4720.trunk.v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -146 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 81 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.rest.TestRowResource&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/740//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/740//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/740//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/740//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/740//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/740//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13184694" author="mubarakseyed" created="Thu, 12 Jan 2012 03:18:05 +0000"  >&lt;p&gt;My local tests were keep failing on trunk, will fix the TestRowResource.&lt;/p&gt;</comment>
                            <comment id="13184707" author="mubarakseyed" created="Thu, 12 Jan 2012 04:00:36 +0000"  >&lt;p&gt;Tests were still failing for runMediumTests on trunk but i have fixed the TestRowResource. The attached file (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt;.trunk.v4.patch) is a latest patch. Thanks.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn clean test -P runMediumTests -Dtest=org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.*

Running org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.TestRowResource
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 22.099 se
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13184717" author="hadoopqa" created="Thu, 12 Jan 2012 04:37:01 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12510309/HBASE-4720.trunk.v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12510309/HBASE-4720.trunk.v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -146 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 81 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/743//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/743//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/743//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/743//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/743//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/743//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13184737" author="zhihyu@ebaysf.com" created="Thu, 12 Jan 2012 05:25:26 +0000"  >&lt;p&gt;Latest patch passed unit tests.&lt;/p&gt;</comment>
                            <comment id="13185150" author="zhihyu@ebaysf.com" created="Thu, 12 Jan 2012 19:10:03 +0000"  >&lt;p&gt;@Andrew:&lt;br/&gt;
Can you take a look at patch v4, please ?&lt;/p&gt;</comment>
                            <comment id="13185164" author="zhihyu@ebaysf.com" created="Thu, 12 Jan 2012 19:19:55 +0000"  >&lt;p&gt;Minor comments:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+   * Validates the input request parameters, parse columns from CellSetModel,
+   * and invoke checkAndPut on HTable.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;should read &apos;parses columns ... and invokes ...&apos;&lt;br/&gt;
Same applies to CheckAndDeleteRowResource.update()&lt;/p&gt;

&lt;p&gt;Please remove the year in CheckAndPutRowResource.java&lt;/p&gt;

&lt;p&gt;Nice job.&lt;/p&gt;</comment>
                            <comment id="13189400" author="zhihyu@ebaysf.com" created="Thu, 19 Jan 2012 21:43:51 +0000"  >&lt;p&gt;@Andrew:&lt;br/&gt;
Can you please review patch v4 ?&lt;/p&gt;</comment>
                            <comment id="13190168" author="zhihyu@ebaysf.com" created="Fri, 20 Jan 2012 22:12:59 +0000"  >&lt;p&gt;@Mubarak:&lt;br/&gt;
Now that Andy removed support for transformation, can you rebase your patch ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Hunk #2 FAILED at 49.
2 out of 2 hunks FAILED -- saving rejects to file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/TableResource.java.rej
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If you can address comment @ 12/Jan/12 19:19, that would great.&lt;/p&gt;</comment>
                            <comment id="13190597" author="mubarakseyed" created="Sun, 22 Jan 2012 04:22:44 +0000"  >&lt;p&gt;The attached patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt;.trunk.v5.patch) rebased on trunk, removed the previous refactoring (ResourceBase) and Unit tested.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
test-test:hbase-trunk-test mubarak$ patch -p0 -i ~/HBASE-4720.trunk.v5.patch 
patching file src/test/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/TestRowResource.java
patching file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/CheckAndPutTableResource.java
patching file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/CheckAndPutRowResource.java
patching file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/CheckAndDeleteTableResource.java
patching file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/CheckAndDeleteRowResource.java
patching file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/RootResource.java
patching file src/main/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/client/RemoteHTable.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13190607" author="hadoopqa" created="Sun, 22 Jan 2012 05:09:23 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12511419/HBASE-4720.trunk.v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12511419/HBASE-4720.trunk.v5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -145 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 85 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplicationPeer&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/832//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/832//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/832//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/832//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/832//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/832//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13190699" author="zhihyu@ebaysf.com" created="Sun, 22 Jan 2012 15:52:46 +0000"  >&lt;p&gt;Patch v5 looks good.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Response 200 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; OK and 304 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; not-modified
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;BAD_REQUEST is 400. Please update the above javadoc for the two update methods.&lt;/p&gt;

&lt;p&gt;@Andrew:&lt;br/&gt;
Do you have comments about patch v5 ?&lt;/p&gt;</comment>
                            <comment id="13191358" author="mubarakseyed" created="Mon, 23 Jan 2012 19:10:17 +0000"  >&lt;p&gt;The attached file (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt;.trunk.v6.patch) is updated patch file. Thanks.&lt;/p&gt;</comment>
                            <comment id="13191388" author="hadoopqa" created="Mon, 23 Jan 2012 19:48:09 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12511535/HBASE-4720.trunk.v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12511535/HBASE-4720.trunk.v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -145 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 85 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/841//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/841//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/841//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/841//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/841//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/841//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13191564" author="zhihyu@ebaysf.com" created="Mon, 23 Jan 2012 22:34:05 +0000"  >&lt;p&gt;Patch v6 looks good.&lt;br/&gt;
Will integrate if Andrew doesn&apos;t have further comment.&lt;/p&gt;</comment>
                            <comment id="13191690" author="lhofhansl" created="Tue, 24 Jan 2012 00:34:50 +0000"  >&lt;p&gt;Should we add another jira for supporting the new RowMutations? (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3584&quot; title=&quot;Allow atomic put/delete in one call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3584&quot;&gt;&lt;del&gt;HBASE-3584&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5203&quot; title=&quot;Group atomic put/delete operation into a single WALEdit to handle region server failures.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5203&quot;&gt;&lt;del&gt;HBASE-5203&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13191700" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 00:44:09 +0000"  >&lt;p&gt;@Lars:&lt;br/&gt;
Feel free to create one JIRA for RowMutations.&lt;/p&gt;</comment>
                            <comment id="13192290" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 17:20:44 +0000"  >&lt;p&gt;Integrated to TRUNK.&lt;/p&gt;

&lt;p&gt;Thanks for the patch Mubarak.&lt;/p&gt;

&lt;p&gt;Thanks for the review comments, Andrew.&lt;/p&gt;</comment>
                            <comment id="13192307" author="apurtell" created="Tue, 24 Jan 2012 17:49:39 +0000"  >&lt;p&gt;Ted, I am going to revert your commit.&lt;/p&gt;

&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;The URI format for requests is &apos;/&amp;lt;table&amp;gt;/&amp;lt;row&amp;gt;/ ...&apos; This violates that by adding, just for check-and cases, a prefix. Having a special case like that should be avoided. What about handling this in TableResource, with a query parameter? &apos;/&amp;lt;table&amp;gt;/&amp;lt;row&amp;gt;/?check&apos; E.g.Then you won&apos;t need CheckAndXTableResource classes. Additionally use the appropriate HTTP operations. PUT/POST for check-and-put. DELETE for check-and-delete. The spec does not forbid bodies in DELETE requests. (I am unsure if Jetty/Jersey will support it however.)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We have discussed the design choices earlier (refer comments in the same JIRA), Stack and Ted have voted for option # 2 (/checkandput, /checkanddelete) option. If i have to go back to option #1 then i will have to re-work most of the stuff here.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This has not changed, therefore -1.&lt;/p&gt;</comment>
                            <comment id="13192308" author="apurtell" created="Tue, 24 Jan 2012 17:50:48 +0000"  >&lt;p&gt;Actually Ted you should now honor my -1 and revert that commit. Next time allow me chance to find out there is even a discussion happening. Stack brought this to my attention late last night only.&lt;/p&gt;</comment>
                            <comment id="13192309" author="apurtell" created="Tue, 24 Jan 2012 17:52:06 +0000"  >&lt;p&gt;Either the current semantics for REST paths remain the same, that is /table/row/ ..., or every operation is changed to specify the operation first, e.g. /operation/table/row ... . &lt;/p&gt;</comment>
                            <comment id="13192323" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 18:06:56 +0000"  >&lt;p&gt;@Andrew:&lt;br/&gt;
Glad to see your response.&lt;/p&gt;

&lt;p&gt;Mubarak responded to your comment at the end of:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720?focusedCommentId=13184647&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13184647&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4720?focusedCommentId=13184647&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13184647&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;which refers to Stack&apos;s comment: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720?focusedCommentId=13169969&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13169969&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4720?focusedCommentId=13169969&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13169969&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have been requesting your comment since Jan. 12th: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720?focusedCommentId=13185150&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13185150&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4720?focusedCommentId=13185150&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13185150&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I didn&apos;t see a -1 until this morning.&lt;/p&gt;</comment>
                            <comment id="13192328" author="apurtell" created="Tue, 24 Jan 2012 18:10:31 +0000"  >&lt;p&gt;Ted, I raised a objection on this issue and you committed it with that objection unaddressed before I had a chance to ack the commit candidate. I apologize if it was not clear my objection earlier was a -1. It was. I thought it clear enough, my mistake.&lt;/p&gt;</comment>
                            <comment id="13192329" author="apurtell" created="Tue, 24 Jan 2012 18:12:02 +0000"  >&lt;p&gt;Anyway, my apologies, but this commit must be reverted. It is poor and IMO unacceptable design to have such an inconsistency in how request URLs should be constructed. Either the current semantics for REST paths remain the same, that is /table/row/ ..., or every operation is changed to specify the operation first, e.g. /operation/table/row ... .&lt;/p&gt;</comment>
                            <comment id="13192335" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 18:20:12 +0000"  >&lt;p&gt;That is Okay, Andy.&lt;br/&gt;
I have reverted the patch.&lt;/p&gt;

&lt;p&gt;Let&apos;s start from the beginning.&lt;/p&gt;

&lt;p&gt;@Mubarak:&lt;br/&gt;
Now that Andy has chosen option #1, can you work up a new patch ?&lt;/p&gt;</comment>
                            <comment id="13192349" author="mubarakseyed" created="Tue, 24 Jan 2012 18:38:42 +0000"  >&lt;p&gt;Sure, will do. Thanks.&lt;/p&gt;</comment>
                            <comment id="13192876" author="hudson" created="Wed, 25 Jan 2012 06:16:32 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #89 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/89/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/89/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt; revert until agreement is reached on solution&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt; Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server (Mubarak)&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndDeleteRowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndDeleteTableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndPutRowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndPutTableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/RootResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndDeleteRowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndDeleteTableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndPutRowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndPutTableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/RootResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13193546" author="hudson" created="Thu, 26 Jan 2012 03:57:25 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2646 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2646/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2646/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt; revert until agreement is reached on solution&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt; Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server (Mubarak)&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndDeleteRowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndDeleteTableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndPutRowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndPutTableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/RootResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndDeleteRowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndDeleteTableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndPutRowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/CheckAndPutTableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/RootResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13194372" author="mubarakseyed" created="Fri, 27 Jan 2012 02:38:03 +0000"  >&lt;p&gt;The attached file (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt;.trunk.v7.patch)   addresses option # 1 to add query param /table/row?check=put or /table/row?check=delete&lt;/p&gt;

&lt;p&gt;@Andrew&lt;br/&gt;
Can you please review the changes?&lt;/p&gt;</comment>
                            <comment id="13194399" author="zhihyu@ebaysf.com" created="Fri, 27 Jan 2012 03:22:26 +0000"  >&lt;p&gt;@Mubarak:&lt;br/&gt;
Thanks for your persistence.&lt;/p&gt;

&lt;p&gt;Please also describe the scenarios that you tested in your cluster.&lt;/p&gt;</comment>
                            <comment id="13194401" author="hadoopqa" created="Fri, 27 Jan 2012 03:26:44 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12512066/HBASE-4720.trunk.v7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12512066/HBASE-4720.trunk.v7.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -140 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 161 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.io.hfile.TestHFileBlock&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/856//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/856//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/856//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/856//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/856//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/856//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13195038" author="mubarakseyed" created="Fri, 27 Jan 2012 19:36:35 +0000"  >&lt;p&gt;@Ted&lt;br/&gt;
I have tested with unit test suite (using -P runMediumTests)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.TestMultiRowResource
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 21.421 sec
2012-01-27 11:32:49.762 java[82087:10803] Unable to load realm info from SCDynamicStore
Running org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.TestGzipFilter
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 30.149 sec
2012-01-27 11:32:58.404 java[82108:10803] Unable to load realm info from SCDynamicStore
Running org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.TestRowResource
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 36.876 sec
2012-01-27 11:33:27.716 java[82119:10803] Unable to load realm info from SCDynamicStore
Running org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.TestScannerResource
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 43.012 sec
2012-01-27 11:33:42.335 java[82141:10803] Unable to load realm info from SCDynamicStore
Running org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.TestScannersWithFilters
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 26.465 sec
2012-01-27 11:33:55.059 java[82151:10803] Unable to load realm info from SCDynamicStore
Running org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.TestStatusResource
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 20.569 sec
2012-01-27 11:34:16.689 java[82160:10803] Unable to load realm info from SCDynamicStore
Running org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.TestSchemaResource
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 54.973 sec
2012-01-27 11:34:38.275 java[82181:10803] Unable to load realm info from SCDynamicStore
Running org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.TestTableResource
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 40.286 sec
Running org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.TestVersionResource
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 22.001 sec

Results :
Tests run: 51, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13204998" author="mubarakseyed" created="Thu, 9 Feb 2012 23:02:32 +0000"  >&lt;p&gt;The following scenarios are tested:&lt;/p&gt;

&lt;p&gt;1. 5 nodes dev cluster, running trunk&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Generated load with curl for checkAndPut/checkAndDelete, tested for functional verification&lt;/li&gt;
	&lt;li&gt;Developed a test client, which uses HBaseAdmin APIs to test the atomic operations functionality (for   positive/negative testcases)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2. 7 nodes perf cluster, running trunk&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Developed a test client, which uses HBaseAdmin APIs to test the atomic operations functionality (for positive/negative testcases).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13205514" author="hadoopqa" created="Fri, 10 Feb 2012 15:50:08 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12512066/HBASE-4720.trunk.v7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12512066/HBASE-4720.trunk.v7.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -136 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 156 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.io.hfile.TestHFileBlock&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/940//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/940//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/940//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/940//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/940//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/940//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13234532" author="lhofhansl" created="Wed, 21 Mar 2012 17:22:22 +0000"  >&lt;p&gt;What is the status of this?&lt;br/&gt;
Moving to 0.96 for now. Pull back if you feel that this should go into 0.94.&lt;/p&gt;</comment>
                            <comment id="13234793" author="mubarakseyed" created="Wed, 21 Mar 2012 18:19:27 +0000"  >&lt;p&gt;I was expecting Andy to review the new patch. Once it is reviewed, i can pull back to 0.94.x. Thanks.&lt;/p&gt;</comment>
                            <comment id="13234801" author="stack" created="Wed, 21 Mar 2012 18:22:52 +0000"  >&lt;p&gt;Moving back to 0.94.0 so Lars sees it.&lt;/p&gt;</comment>
                            <comment id="13235668" author="lhofhansl" created="Thu, 22 Mar 2012 15:50:29 +0000"  >&lt;p&gt;Needs to be reviewed today to get into 0.94.0. Can still aim for 0.94.1.&lt;/p&gt;</comment>
                            <comment id="13235977" author="lhofhansl" created="Thu, 22 Mar 2012 20:18:22 +0000"  >&lt;p&gt;FYI: Rest is not really my area, so I can&apos;t do a faithful review.&lt;/p&gt;</comment>
                            <comment id="13237665" author="lhofhansl" created="Sat, 24 Mar 2012 20:44:46 +0000"  >&lt;p&gt;Let&apos;s try for 0.94.1&lt;/p&gt;</comment>
                            <comment id="13271976" author="mubarakseyed" created="Thu, 10 May 2012 00:18:39 +0000"  >&lt;p&gt;Hi Andy,&lt;/p&gt;

&lt;p&gt;Can you please review the patch? Thanks.&lt;/p&gt;</comment>
                            <comment id="13276379" author="apurtell" created="Wed, 16 May 2012 01:34:34 +0000"  >&lt;p&gt;Patch v7 still applies to trunk, but with some fuzz. Implementation looks fine, appropriate use of query parameters and HTTP return codes, thanks for implementing it this way Mubarak. The only thing that looks missing is a check for the not-modified case in TestRowResource and TestDelete.&lt;/p&gt;</comment>
                            <comment id="13276971" author="mubarakseyed" created="Wed, 16 May 2012 18:25:16 +0000"  >&lt;p&gt;Thanks Andy. Will fix your comments in test code and submit a patch. Thanks.&lt;/p&gt;</comment>
                            <comment id="13276983" author="apurtell" created="Wed, 16 May 2012 18:31:40 +0000"  >&lt;p&gt;While you are in there Mubarak please make sure that the tests also cover put and delete operations without &apos;?check=...&apos;.  &lt;/p&gt;</comment>
                            <comment id="13276993" author="mubarakseyed" created="Wed, 16 May 2012 18:36:31 +0000"  >&lt;p&gt;Sure, will do Andy. Thanks.&lt;/p&gt;</comment>
                            <comment id="13285105" author="jxiang" created="Tue, 29 May 2012 20:48:20 +0000"  >&lt;p&gt;I enhanced Mubarak&apos;s patch a little bit and rebased it to the latest trunk branch.&lt;/p&gt;

&lt;p&gt;Unit test is green:&lt;/p&gt;

&lt;p&gt;mvn -PrunMediumTests -Dtest=Test*Resource clean test&lt;/p&gt;</comment>
                            <comment id="13285115" author="jxiang" created="Tue, 29 May 2012 20:56:56 +0000"  >&lt;p&gt;The new review request is here: &lt;a href=&quot;https://reviews.apache.org/r/5259/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/5259/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13285118" author="mubarakseyed" created="Tue, 29 May 2012 20:59:59 +0000"  >&lt;p&gt;Thanks Jimmy for taking care of this JIRA.&lt;/p&gt;</comment>
                            <comment id="13285125" author="stack" created="Tue, 29 May 2012 21:04:53 +0000"  >&lt;p&gt;@Mubarak Do you like Jimmy&apos;s changes?&lt;/p&gt;

&lt;p&gt;Jimmy, should you do a define for &apos;put&apos;?  Should the compare lowercase first?&lt;/p&gt;

&lt;p&gt;Jimmy, there is no excuse for dup&apos;ing code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;put&quot;&lt;/span&gt;.equals(check)) {
+      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; checkAndPut(model);
+    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;delete&quot;&lt;/span&gt;.equals(check)) {
+      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; checkAndDelete(model);
+    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (check != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; check.length() &amp;gt; 0) {
+        LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unknown check value: &quot;&lt;/span&gt; + check + &lt;span class=&quot;code-quote&quot;&gt;&quot;, ignored&quot;&lt;/span&gt;);
+      }
+      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; update(model, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Else looks good to me Jimmy&lt;/p&gt;</comment>
                            <comment id="13285152" author="hadoopqa" created="Tue, 29 May 2012 21:32:53 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12530092/4720_trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12530092/4720_trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2033//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2033//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2033//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2033//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13285181" author="jxiang" created="Tue, 29 May 2012 22:11:27 +0000"  >&lt;p&gt;Addressed Stack&apos;s comments.&lt;/p&gt;

&lt;p&gt;@Stack, I moved the duplicated code to some shared place. &lt;br/&gt;
I defined constants put and delete.  I could not lowercase first&lt;br/&gt;
since it can be null.&lt;/p&gt;</comment>
                            <comment id="13285183" author="stack" created="Tue, 29 May 2012 22:12:36 +0000"  >&lt;p&gt;+1 on patch.  Tests look good.  Does it work for you Jimmy?&lt;/p&gt;</comment>
                            <comment id="13285238" author="hadoopqa" created="Tue, 29 May 2012 23:02:45 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12530103/4720_trunk_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12530103/4720_trunk_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.security.access.TestZKPermissionsWatcher&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2037//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2037//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2037//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2037//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13285340" author="jxiang" created="Wed, 30 May 2012 02:14:58 +0000"  >&lt;p&gt;Logged more info for put. It&apos;s tested on a live cluster and checkAndPut, checkAndDelete, and regular check work for me.&lt;/p&gt;</comment>
                            <comment id="13285345" author="jxiang" created="Wed, 30 May 2012 02:27:05 +0000"  >&lt;p&gt;The patch is good for 0.94 and 0.92 too.&lt;/p&gt;</comment>
                            <comment id="13285352" author="hadoopqa" created="Wed, 30 May 2012 03:03:00 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12530140/4720_trunk_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12530140/4720_trunk_v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2044//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2044//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2044//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2044//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13285364" author="stack" created="Wed, 30 May 2012 03:36:51 +0000"  >&lt;p&gt;Patch lgtm.&lt;/p&gt;

&lt;p&gt;Andrew?  What you reckon?&lt;/p&gt;</comment>
                            <comment id="13285780" author="apurtell" created="Wed, 30 May 2012 16:11:33 +0000"  >&lt;p&gt;+1 except for small debug logging nit that can be corrected on commit. See &lt;a href=&quot;https://reviews.apache.org/r/5259/diff/3/?file=110632#file110632line294&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/5259/diff/3/?file=110632#file110632line294&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13285801" author="jxiang" created="Wed, 30 May 2012 16:37:37 +0000"  >&lt;p&gt;Fix the logging issue Andrew found.&lt;/p&gt;

&lt;p&gt;Thanks Stack, Andrew, and Ted for reviewing.&lt;br/&gt;
Thanks Mubarak for the patch.&lt;/p&gt;</comment>
                            <comment id="13285831" author="hadoopqa" created="Wed, 30 May 2012 17:22:46 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12530230/4720_trunk_v3.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12530230/4720_trunk_v3.1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestSplitLogManager&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestLogsCleaner&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestServerCustomProtocol&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2055//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2055//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2055//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2055//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13285841" author="stack" created="Wed, 30 May 2012 17:37:01 +0000"  >&lt;p&gt;Retry just in case&lt;/p&gt;</comment>
                            <comment id="13285877" author="hadoopqa" created="Wed, 30 May 2012 18:24:39 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12530241/4720_trunk_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12530241/4720_trunk_v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestSplitLogManager&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2057//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2057//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2057//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2057//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13285894" author="stack" created="Wed, 30 May 2012 18:41:19 +0000"  >&lt;p&gt;Committed to 0.92, 0.94 and trunk.  Thanks for the patch  Jimmy and Mubarak.&lt;/p&gt;</comment>
                            <comment id="13285907" author="mubarakseyed" created="Wed, 30 May 2012 18:49:11 +0000"  >&lt;p&gt;Thanks Jimmy for the patch.&lt;/p&gt;</comment>
                            <comment id="13286033" author="hudson" created="Wed, 30 May 2012 20:49:55 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2956 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2956/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2956/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt; Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server (Revision 1344398)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/TableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13286045" author="hudson" created="Wed, 30 May 2012 20:59:57 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #235 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/235/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/235/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt; Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server (Revision 1344399)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/rest/TableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13286151" author="hudson" created="Wed, 30 May 2012 22:45:15 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #434 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/434/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/434/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt; Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server (Revision 1344400)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/rest/TableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13286218" author="hudson" created="Thu, 31 May 2012 00:03:12 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #33 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/33/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/33/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt; Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server (Revision 1344398)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/TableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13287171" author="hudson" created="Fri, 1 Jun 2012 05:42:54 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #33 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/33/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/33/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt; Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server (Revision 1344399)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/rest/TableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13287244" author="hudson" created="Fri, 1 Jun 2012 08:08:19 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #109 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/109/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4720&quot; title=&quot;Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4720&quot;&gt;&lt;del&gt;HBASE-4720&lt;/del&gt;&lt;/a&gt; Implement atomic update operations (checkAndPut, checkAndDelete) for REST client/server (Revision 1344400)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/rest/TableResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12530092" name="4720_trunk.patch" size="20323" author="jxiang" created="Tue, 29 May 2012 20:46:15 +0000"/>
                            <attachment id="12530103" name="4720_trunk_v2.patch" size="20051" author="jxiang" created="Tue, 29 May 2012 22:09:06 +0000"/>
                            <attachment id="12530230" name="4720_trunk_v3.1.patch" size="20498" author="jxiang" created="Wed, 30 May 2012 16:37:37 +0000"/>
                            <attachment id="12530241" name="4720_trunk_v3.patch" size="20498" author="stack" created="Wed, 30 May 2012 17:37:01 +0000"/>
                            <attachment id="12530140" name="4720_trunk_v3.patch" size="20499" author="jxiang" created="Wed, 30 May 2012 02:13:13 +0000"/>
                            <attachment id="12508162" name="HBASE-4720.trunk.v1.patch" size="48011" author="mubarakseyed" created="Wed, 21 Dec 2011 00:19:32 +0000"/>
                            <attachment id="12508468" name="HBASE-4720.trunk.v2.patch" size="48655" author="mubarakseyed" created="Thu, 22 Dec 2011 23:57:46 +0000"/>
                            <attachment id="12510293" name="HBASE-4720.trunk.v3.patch" size="48804" author="mubarakseyed" created="Thu, 12 Jan 2012 01:29:31 +0000"/>
                            <attachment id="12510309" name="HBASE-4720.trunk.v4.patch" size="49289" author="mubarakseyed" created="Thu, 12 Jan 2012 04:00:36 +0000"/>
                            <attachment id="12511419" name="HBASE-4720.trunk.v5.patch" size="29058" author="mubarakseyed" created="Sun, 22 Jan 2012 04:22:44 +0000"/>
                            <attachment id="12511535" name="HBASE-4720.trunk.v6.patch" size="29070" author="mubarakseyed" created="Mon, 23 Jan 2012 19:10:17 +0000"/>
                            <attachment id="12512066" name="HBASE-4720.trunk.v7.patch" size="19057" author="mubarakseyed" created="Fri, 27 Jan 2012 02:38:03 +0000"/>
                            <attachment id="12507645" name="HBASE-4720.v1.patch" size="35655" author="mubarakseyed" created="Fri, 16 Dec 2011 04:18:27 +0000"/>
                            <attachment id="12508033" name="HBASE-4720.v3.patch" size="76717" author="mubarakseyed" created="Tue, 20 Dec 2011 03:04:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Dec 2011 01:41:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>215580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02h8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>