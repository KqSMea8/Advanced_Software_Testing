<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:58:46 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8811/HBASE-8811.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8811] REST service ignores misspelled &quot;check=&quot; parameter, causing unexpected mutations</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8811</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In rest.RowResource.update(), this code keeps executing a request if a misspelled check= parameter is provided.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    if (CHECK_PUT.equalsIgnoreCase(check)) {
      return checkAndPut(model);
    } else if (CHECK_DELETE.equalsIgnoreCase(check)) {
      return checkAndDelete(model);
    } else if (check != null &amp;amp;&amp;amp; check.length() &amp;gt; 0) {
      LOG.warn(&quot;Unknown check value: &quot; + check + &quot;, ignored&quot;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;By my reading of the code, this results in the provided cell value that was intended as a check instead being treated as a mutation, which is sure to destroy user data.  Thus the priority of this bug, as it can cause corruption.&lt;/p&gt;

&lt;p&gt;I suggest that a better reaction than a warning would be, approximately:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;return Response.status(Response.Status.BAD_REQUEST)
        .type(MIMETYPE_TEXT).entity(&quot;Invalid check value &apos;&quot; + check + &quot;&apos;&quot;)
        .build();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12655052">HBASE-8811</key>
            <summary>REST service ignores misspelled &quot;check=&quot; parameter, causing unexpected mutations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chipdude">Chip Salzenberg</assignee>
                                    <reporter username="chipdude">Chip Salzenberg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Jun 2013 02:00:14 +0000</created>
                <updated>Wed, 24 Jul 2013 19:08:04 +0000</updated>
                            <resolved>Thu, 27 Jun 2013 05:07:39 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.95.2</version>
                    <version>0.94.9</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                    <fixVersion>0.94.10</fixVersion>
                                    <component>REST</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13694471" author="apurtell" created="Thu, 27 Jun 2013 04:10:16 +0000"  >&lt;p&gt;Agreed, let me commit this after testing the change. Thanks for reporting this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chipdude&quot; class=&quot;user-hover&quot; rel=&quot;chipdude&quot;&gt;Chip Salzenberg&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13694492" author="apurtell" created="Thu, 27 Jun 2013 05:07:39 +0000"  >&lt;p&gt;Committed trivial patch for serious issue. Added unit test to TestRowResource for this case. New unit test and REST tests pass on trunk, 0.95, and 0.94.&lt;/p&gt;</comment>
                            <comment id="13694502" author="hudson" created="Thu, 27 Jun 2013 05:25:13 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #1028 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1028/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1028/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8811&quot; title=&quot;REST service ignores misspelled &amp;quot;check=&amp;quot; parameter, causing unexpected mutations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8811&quot;&gt;&lt;del&gt;HBASE-8811&lt;/del&gt;&lt;/a&gt;. REST service ignores misspelled &apos;check&apos; parameter, causing unexpected mutations (Chip Salzenberg and Andrew Purtell) (Revision 1497211)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13694512" author="hudson" created="Thu, 27 Jun 2013 05:56:18 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #183 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/183/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/183/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8811&quot; title=&quot;REST service ignores misspelled &amp;quot;check=&amp;quot; parameter, causing unexpected mutations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8811&quot;&gt;&lt;del&gt;HBASE-8811&lt;/del&gt;&lt;/a&gt;. REST service ignores misspelled &apos;check&apos; parameter, causing unexpected mutations (Chip Salzenberg and Andrew Purtell) (Revision 1497211)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13694528" author="hudson" created="Thu, 27 Jun 2013 06:46:06 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #272 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/272/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/272/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8811&quot; title=&quot;REST service ignores misspelled &amp;quot;check=&amp;quot; parameter, causing unexpected mutations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8811&quot;&gt;&lt;del&gt;HBASE-8811&lt;/del&gt;&lt;/a&gt;. REST service ignores misspelled &apos;check&apos; parameter, causing unexpected mutations (Chip Salzenberg and Andrew Purtell) (Revision 1497210)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13694662" author="hudson" created="Thu, 27 Jun 2013 12:30:51 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #151 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/151/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/151/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8811&quot; title=&quot;REST service ignores misspelled &amp;quot;check=&amp;quot; parameter, causing unexpected mutations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8811&quot;&gt;&lt;del&gt;HBASE-8811&lt;/del&gt;&lt;/a&gt;. REST service ignores misspelled &apos;check&apos; parameter, causing unexpected mutations (Chip Salzenberg and Andrew Purtell) (Revision 1497210)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13694675" author="hudson" created="Thu, 27 Jun 2013 12:41:21 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #586 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/586/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/586/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8811&quot; title=&quot;REST service ignores misspelled &amp;quot;check=&amp;quot; parameter, causing unexpected mutations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8811&quot;&gt;&lt;del&gt;HBASE-8811&lt;/del&gt;&lt;/a&gt;. REST service ignores misspelled &apos;check&apos; parameter, causing unexpected mutations (Chip Salzenberg and Andrew Purtell) (Revision 1497209)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/RowResource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/rest/TestRowResource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589833" name="8811-0.94.patch" size="1889" author="apurtell" created="Thu, 27 Jun 2013 05:03:47 +0000"/>
                            <attachment id="12589832" name="8811.patch" size="1828" author="apurtell" created="Thu, 27 Jun 2013 05:03:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Jun 2013 04:10:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335329</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lucf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>