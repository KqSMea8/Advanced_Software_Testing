<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:30:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12166/HBASE-12166.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12166] TestDistributedLogSplitting.testMasterStartsUpWithLogReplayWork</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12166</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11204//testReport/org.apache.hadoop.hbase.master/TestDistributedLogSplitting/testMasterStartsUpWithLogReplayWork/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11204//testReport/org.apache.hadoop.hbase.master/TestDistributedLogSplitting/testMasterStartsUpWithLogReplayWork/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The namespace region gets stuck.  It is never &apos;recovered&apos; even though we have finished log splitting.  Here is the main exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
4941 2014-10-03 02:00:36,862 DEBUG [B.defaultRpcServer.handler=1,queue=0,port=37113] ipc.CallRunner(111): B.defaultRpcServer.handler=1,queue=0,port=37113: callId: 211 service: ClientService methodName: Get
      size: 99 connection: 67.195.81.144:44526
4942 org.apache.hadoop.hbase.exceptions.RegionInRecoveryException: hbase:namespace,,1412301462277.eba5d23de65f2718715eeb22edf7edc2. is recovering
4943   at org.apache.hadoop.hbase.regionserver.HRegion.startRegionOperation(HRegion.java:6058)
4944   at org.apache.hadoop.hbase.regionserver.HRegion.getScanner(HRegion.java:2086)
4945   at org.apache.hadoop.hbase.regionserver.HRegion.getScanner(HRegion.java:2072)
4946   at org.apache.hadoop.hbase.regionserver.HRegion.get(HRegion.java:5014)
4947   at org.apache.hadoop.hbase.regionserver.HRegion.get(HRegion.java:4988)
4948   at org.apache.hadoop.hbase.regionserver.RSRpcServices.get(RSRpcServices.java:1690)
4949   at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:30418)
4950   at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2020)
4951   at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:108)
4952   at org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:114)
4953   at org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:94)
4954   at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)  
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;See how we&apos;ve finished log splitting long time previous:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-10-03 01:57:48,129 INFO  [M_LOG_REPLAY_OPS-asf900:37113-1] master.SplitLogManager(294): finished splitting (more than or equal to) 197337 bytes in 1 log files in [hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:49601/user/jenkins/hbase/WALs/asf900.gq1.ygridcore.net,40732,1412301461887-splitting] in 379ms&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I grep for the deleting of znodes on recovery, which is when we set the recovering flag to false, I see a bunch of regions but not my namespace one:&lt;/p&gt;

&lt;p&gt;2014-10-03 01:57:47,330 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9216-EventThread&amp;#93;&lt;/span&gt; zookeeper.RecoveringRegionWatcher(66): /hbase/recovering-regions/1588230740 znode deleted. Region: 1588230740 completes recovery.&lt;br/&gt;
2014-10-03 01:57:48,119 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9216-EventThread&amp;#93;&lt;/span&gt; zookeeper.RecoveringRegionWatcher(66): /hbase/recovering-regions/adfdcf958dd958f0e2ce59072ce2209d znode deleted. Region: adfdcf958dd958f0e2ce59072ce2209d completes recovery.&lt;br/&gt;
2014-10-03 01:57:48,121 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9216-EventThread&amp;#93;&lt;/span&gt; zookeeper.RecoveringRegionWatcher(66): /hbase/recovering-regions/41d438848305831b61d708a406d5ecde znode deleted. Region: 41d438848305831b61d708a406d5ecde completes recovery.&lt;br/&gt;
2014-10-03 01:57:48,122 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9216-EventThread&amp;#93;&lt;/span&gt; zookeeper.RecoveringRegionWatcher(66): /hbase/recovering-regions/6a7cada80de2ae5d774fe8cd33bd4cda znode deleted. Region: 6a7cada80de2ae5d774fe8cd33bd4cda completes recovery.&lt;br/&gt;
2014-10-03 01:57:48,124 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9216-EventThread&amp;#93;&lt;/span&gt; zookeeper.RecoveringRegionWatcher(66): /hbase/recovering-regions/65451bd5b38bd16a31e25b62b3305533 znode deleted. Region: 65451bd5b38bd16a31e25b62b3305533 completes recovery.&lt;br/&gt;
2014-10-03 01:57:48,125 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9216-EventThread&amp;#93;&lt;/span&gt; zookeeper.RecoveringRegionWatcher(66): /hbase/recovering-regions/07afdc3748894cf2b56e0075272a95a0 znode deleted. Region: 07afdc3748894cf2b56e0075272a95a0 completes recovery.&lt;br/&gt;
2014-10-03 01:57:48,126 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9216-EventThread&amp;#93;&lt;/span&gt; zookeeper.RecoveringRegionWatcher(66): /hbase/recovering-regions/a4337ad2874ee7e599ca2344fce21583 znode deleted. Region: a4337ad2874ee7e599ca2344fce21583 completes recovery.&lt;br/&gt;
2014-10-03 01:57:48,128 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9216-EventThread&amp;#93;&lt;/span&gt; zookeeper.RecoveringRegionWatcher(66): /hbase/recovering-regions/9d91d6eafe260ce33e8d7d23ccd13192 znode deleted. Region: 9d91d6eafe260ce33e8d7d23ccd13192 completes recovery.&lt;/p&gt;

&lt;p&gt;This would seem to indicate that we successfully wrote zk that we are recovering:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-10-03 01:57:47,672 DEBUG [MASTER_SERVER_OPERATIONS-asf900:37113-0] coordination.ZKSplitLogManagerCoordination(647): Mark region eba5d23de65f2718715eeb22edf7edc2 recovering from failed region server asf900.gq1.ygridcore.net,42071,1412301461790
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As part of the open of namespace, we updated our last flushed id successfully:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2ae5d774fe8cd33bd4cda/family
2014-10-03 01:57:47,698 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-9216-EventThread] zookeeper.ZooKeeperWatcher(304): master:37113-0x148d3b7d84b020f, quorum=localhost:50702, baseZNode=/hbase Received ZooKeeper Event, type=NodeDataChanged, state=SyncConnected, path=/hbase/recovering-regions/eba5d23de65f2718715eeb22edf7edc2
2014-10-03 01:57:47,699 DEBUG [PostOpenDeployTasks:eba5d23de65f2718715eeb22edf7edc2] regionserver.HRegionServer(2947): Update last flushed sequence id of region eba5d23de65f2718715eeb22edf7edc2 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; asf900.gq1.ygridcore.net,42071,1412301461790
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not sure why this node is up in zk.&lt;/p&gt;

&lt;p&gt;Let me dig again later.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12745679">HBASE-12166</key>
            <summary>TestDistributedLogSplitting.testMasterStartsUpWithLogReplayWork</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Oct 2014 05:47:59 +0000</created>
                <updated>Sat, 21 Feb 2015 23:41:46 +0000</updated>
                            <resolved>Sat, 4 Oct 2014 00:28:19 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.99.1</fixVersion>
                                    <component>test</component>
                    <component>wal</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14157706" author="stack" created="Fri, 3 Oct 2014 05:48:40 +0000"  >&lt;p&gt;Here is log from a failed test.&lt;/p&gt;</comment>
                            <comment id="14157715" author="stack" created="Fri, 3 Oct 2014 06:02:12 +0000"  >&lt;p&gt;A bit of cleanup while in here.&lt;/p&gt;</comment>
                            <comment id="14158275" author="stack" created="Fri, 3 Oct 2014 18:12:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Problem here is that master is carrying hbase:namespace but when recovering we act as though it only is hosting hbase:meta.&lt;/p&gt;

&lt;p&gt;We mark hbase:meta as recovering and do its log splitting.&lt;/p&gt;

&lt;p&gt;For hbase:namespace, we find it along w/ other regions and mark it as recovering only because it was on the master &amp;#8211; and master no longer has associated WALs because of above meta processing &amp;#8211; it just stays stuck in recovering mode.&lt;/p&gt;

&lt;p&gt;If you have suggestion I&apos;m all ears else I&apos;ll hack something in.&lt;/p&gt;</comment>
                            <comment id="14158319" author="jxiang" created="Fri, 3 Oct 2014 18:34:57 +0000"  >&lt;p&gt;Good investigation. Table namespace is handled just the same as any other user tables. Let me take look.&lt;/p&gt;</comment>
                            <comment id="14158340" author="stack" created="Fri, 3 Oct 2014 18:46:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt; A simple &apos;fix&apos; would be to not host meta:namespace on master?  I don&apos;t mind finishing this one (I can make it fail reliably). Was just looking for input on how you&apos;d like it solved.&lt;/p&gt;</comment>
                            <comment id="14158375" author="jxiang" created="Fri, 3 Oct 2014 18:59:35 +0000"  >&lt;p&gt;You are right. Not hosting namespace on master can solve the issue. Your fix is fine with me. I&apos;d like to look into it further to find out the root. Thanks.&lt;/p&gt;</comment>
                            <comment id="14158455" author="stack" created="Fri, 3 Oct 2014 20:08:47 +0000"  >&lt;p&gt;The problem is that the meta region has no edits in it so when we list the filesystem to find crashed servers, we see this:&lt;/p&gt;

&lt;p&gt; 476 2014-10-03 10:21:42,470 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.ServerManager(918): Finished waiting for region servers count to settle; checked in 6, slept for 1012 ms, expecting minimum of 5, maximum of 6, master is running&lt;br/&gt;
 477 2014-10-03 10:21:42,471 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.MasterFileSystem(253): Log folder hdfs://localhost:58772/user/stack/hbase/WALs/localhost,61565,1412356895892 belongs to an existing region server&lt;br/&gt;
 478 2014-10-03 10:21:42,471 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.MasterFileSystem(249): Log folder hdfs://localhost:58772/user/stack/hbase/WALs/localhost,61572,1412356895952 doesn&apos;t belong to a known region server, splitting&lt;br/&gt;
 479 2014-10-03 10:21:42,471 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.MasterFileSystem(253): Log folder hdfs://localhost:58772/user/stack/hbase/WALs/localhost,61576,1412356896091 belongs to an existing region server&lt;br/&gt;
 480 2014-10-03 10:21:42,471 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.MasterFileSystem(253): Log folder hdfs://localhost:58772/user/stack/hbase/WALs/localhost,61579,1412356896131 belongs to an existing region server&lt;br/&gt;
 481 2014-10-03 10:21:42,471 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.MasterFileSystem(253): Log folder hdfs://localhost:58772/user/stack/hbase/WALs/localhost,61582,1412356896169 belongs to an existing region server&lt;br/&gt;
 482 2014-10-03 10:21:42,471 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.MasterFileSystem(253): Log folder hdfs://localhost:58772/user/stack/hbase/WALs/localhost,61586,1412356896205 belongs to an existing region server&lt;br/&gt;
 483 2014-10-03 10:21:42,471 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.MasterFileSystem(253): Log folder hdfs://localhost:58772/user/stack/hbase/WALs/localhost,61591,1412356896245 belongs to an existing region server&lt;/p&gt;

&lt;p&gt;i.e. all servers but the dead master which in this case is localhost,61562,1412356895859&lt;/p&gt;

&lt;p&gt;When we go to online hbase:meta, it complains that there is no WAL file:&lt;/p&gt;

&lt;p&gt; 501 2014-10-03 10:21:42,478 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.MasterFileSystem(325): Log dir for server localhost,61562,1412356895859 does not exist&lt;br/&gt;
 502 2014-10-03 10:21:42,479 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.MasterFileSystem(323): Renamed region directory: hdfs://localhost:58772/user/stack/hbase/WALs/localhost,61572,1412356895952-splitting&lt;br/&gt;
 503 2014-10-03 10:21:42,479 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.SplitLogManager(536): dead splitlog workers &lt;span class=&quot;error&quot;&gt;&amp;#91;localhost,61562,1412356895859, localhost,61572,1412356895952&amp;#93;&lt;/span&gt;&lt;br/&gt;
 504 2014-10-03 10:21:42,480 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.SplitLogManager(172): hdfs://localhost:58772/user/stack/hbase/WALs/localhost,61572,1412356895952-splitting is empty dir, no logs to split&lt;br/&gt;
 505 2014-10-03 10:21:42,480 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.SplitLogManager(235): Scheduling batch of logs to split&lt;br/&gt;
 506 2014-10-03 10:21:42,480 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMasterManager&amp;#93;&lt;/span&gt; master.SplitLogManager(237): started splitting 0 logs in &lt;span class=&quot;error&quot;&gt;&amp;#91;hdfs://localhost:58772/user/stack/hbase/WALs/localhost,61572,1412356895952-splitting&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="14158515" author="jxiang" created="Fri, 3 Oct 2014 21:02:35 +0000"  >&lt;p&gt;I think I found out the cause. In ZKSplitLogManagerCoordination#removeRecoveringRegions:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;              listSize = failedServers.size();
              for (int j = 0; j &amp;lt; listSize; j++) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The listSize is redefined.&lt;/p&gt;</comment>
                            <comment id="14158522" author="jxiang" created="Fri, 3 Oct 2014 21:08:56 +0000"  >&lt;p&gt;Attached a simple patch. The test is ok locally now. Let&apos;s see what the jenkins says. Hope this is the last DLR bug.&lt;/p&gt;</comment>
                            <comment id="14158621" author="hadoopqa" created="Fri, 3 Oct 2014 22:42:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12672838/hbase-12166.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12672838/hbase-12166.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12672838&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestMasterObserver&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.regionserver.TestRegionReplicaReplicationEndpoint&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11211//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14158641" author="jxiang" created="Fri, 3 Oct 2014 22:58:04 +0000"  >&lt;p&gt;TestMasterObserver should be fixed by the addendumo of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12167&quot; title=&quot;NPE in AssignmentManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12167&quot;&gt;&lt;del&gt;HBASE-12167&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14158645" author="jxiang" created="Fri, 3 Oct 2014 23:01:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeffreyz&quot; class=&quot;user-hover&quot; rel=&quot;jeffreyz&quot;&gt;Jeffrey Zhong&lt;/a&gt;, could you take a look the patch? Thanks.&lt;/p&gt;</comment>
                            <comment id="14158649" author="jxiang" created="Fri, 3 Oct 2014 23:04:59 +0000"  >&lt;p&gt;TestRegionReplicaReplicationEndpoint is ok locally. I can increase the timeout a little at checkin (from 1000 to 6000?).&lt;/p&gt;</comment>
                            <comment id="14158663" author="stack" created="Fri, 3 Oct 2014 23:13:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt; Yeah, thats it. I just ran into it (Didn&apos;t believe it...). Test passed for me when I made the change,  +1 and +1 to upping timeout (Am checking other uses of &apos;listSize&apos; &amp;#8211; smile).&lt;/p&gt;</comment>
                            <comment id="14158667" author="jeffreyz" created="Fri, 3 Oct 2014 23:14:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;Good catch! Looks good to me(+1). Better change the variable name listSize2 to tmpFailedServerSizse though.&lt;/p&gt;</comment>
                            <comment id="14158673" author="stack" created="Fri, 3 Oct 2014 23:17:22 +0000"  >&lt;p&gt;There is another bomb in that same class &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14158679" author="jxiang" created="Fri, 3 Oct 2014 23:20:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, good catch! Unbeliveable!&lt;/p&gt;</comment>
                            <comment id="14158691" author="jxiang" created="Fri, 3 Oct 2014 23:26:37 +0000"  >&lt;p&gt;Attched v2 that fixed the issue Stack found.&lt;/p&gt;</comment>
                            <comment id="14158760" author="hadoopqa" created="Sat, 4 Oct 2014 00:11:05 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12672876/hbase-12166_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12672876/hbase-12166_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12672876&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.hadoop.hbase.io.crypto.TestCipherProvider.testCustomProvider(TestCipherProvider.java:132)&lt;br/&gt;
	at org.apache.karaf.main.MainStartTest.testStopWithTimeout(MainStartTest.java:94)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11214//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14158762" author="stack" created="Sat, 4 Oct 2014 00:11:55 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14158788" author="jxiang" created="Sat, 4 Oct 2014 00:28:19 +0000"  >&lt;p&gt;Integrated into branch 1 and master. Thanks.&lt;/p&gt;</comment>
                            <comment id="14158839" author="hudson" created="Sat, 4 Oct 2014 01:05:07 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #273 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/273/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/273/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12166&quot; title=&quot;TestDistributedLogSplitting.testMasterStartsUpWithLogReplayWork&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12166&quot;&gt;&lt;del&gt;HBASE-12166&lt;/del&gt;&lt;/a&gt; TestDistributedLogSplitting.testMasterStartsUpWithLogReplayWork (jxiang: rev 12fd6d2a2495533726d84759fd6cc754b5f7eb97)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coordination/ZKSplitLogManagerCoordination.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14158891" author="hudson" created="Sat, 4 Oct 2014 02:19:47 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5619 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5619/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5619/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12166&quot; title=&quot;TestDistributedLogSplitting.testMasterStartsUpWithLogReplayWork&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12166&quot;&gt;&lt;del&gt;HBASE-12166&lt;/del&gt;&lt;/a&gt; TestDistributedLogSplitting.testMasterStartsUpWithLogReplayWork (jxiang: rev ef35182f1fcb8e23566e66211f78eb5200168122)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestRegionReplicaReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coordination/ZKSplitLogManagerCoordination.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331547" author="enis" created="Sat, 21 Feb 2015 23:41:46 +0000"  >&lt;p&gt;Closing this issue after 0.99.1 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12672743" name="12166.txt" size="7027" author="stack" created="Fri, 3 Oct 2014 06:02:12 +0000"/>
                            <attachment id="12672838" name="hbase-12166.patch" size="1116" author="jxiang" created="Fri, 3 Oct 2014 21:07:46 +0000"/>
                            <attachment id="12672876" name="hbase-12166_v2.patch" size="2992" author="jxiang" created="Fri, 3 Oct 2014 23:26:37 +0000"/>
                            <attachment id="12672738" name="log.txt" size="1211934" author="stack" created="Fri, 3 Oct 2014 05:48:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Oct 2014 18:34:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20rg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>