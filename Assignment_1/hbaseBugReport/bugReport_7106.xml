<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:42:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7106/HBASE-7106.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7106] [89-fb] Fix the NPE in unit tests for JDK7</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7106</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In JDK7, it will throw out NPE if put a NULL into a TreeSet. And in the unit tests, user can add a NULL as qualifier into the family map for GET or SCAN. &lt;br/&gt;
So we shall do the followings: &lt;/p&gt;

&lt;p&gt;1) Make sure the semantics of NULL column qualifier is equal to that of the EMPYT_BYTE_ARRAY column qualifier.&lt;/p&gt;

&lt;p&gt;2) An easy fix is to use the EMPYT_BYTE_ARRAY qualifier to replace NULL qualifier in the family map for the GET or SCAN objects, and everything else shall be backward compatible.&lt;/p&gt;

&lt;p&gt;3) Add a jdk option in the pom.xml (Assuming user installed the fb packaged jdk)&lt;br/&gt;
eg: mvn test -Dtest=TestFromClientSide -Pjdk7&lt;/p&gt;</description>
                <environment></environment>
        <key id="12615032">HBASE-7106</key>
            <summary>[89-fb] Fix the NPE in unit tests for JDK7</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Nov 2012 22:19:25 +0000</created>
                <updated>Mon, 23 Mar 2015 17:40:50 +0000</updated>
                            <resolved>Mon, 23 Mar 2015 17:40:50 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13493176" author="gustavoanatoly" created="Thu, 8 Nov 2012 13:52:00 +0000"  >&lt;p&gt;Hi, Liyin.&lt;/p&gt;

&lt;p&gt;I understood your idea, but I&apos;m confused how to replace NULL qualifier when [ -Pjdk7 ] profile is executed. I did think if when running profile we would have a separted package with specific test to JDK 7, using HConstants.EMPTY_BYTE_ARRAY.&lt;/p&gt;

&lt;p&gt;Could you explain me, please?&lt;/p&gt;</comment>
                            <comment id="13493323" author="jxiang" created="Thu, 8 Nov 2012 17:33:05 +0000"  >&lt;p&gt;I have some fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6206&quot; title=&quot;Large tests fail with jdk1.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6206&quot;&gt;&lt;del&gt;HBASE-6206&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13493401" author="liyin" created="Thu, 8 Nov 2012 19:11:13 +0000"  >&lt;p&gt;Gustavo Anatoly: I didn&apos;t fully understand your questions &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; The pom change is orthogonal with the code change.&lt;/p&gt;

&lt;p&gt;Jimmy, The semantics of NULL column qualifier is equal to that of the EMPYT_BYTE_ARRAY column qualifier. &lt;br/&gt;
However, the fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6206&quot; title=&quot;Large tests fail with jdk1.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6206&quot;&gt;&lt;del&gt;HBASE-6206&lt;/del&gt;&lt;/a&gt; will skip the NULL qualifier.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;set.add(qualifier);&lt;br/&gt;
+    if (qualifier != null) 
{
+      set.add(qualifier);
+    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;=========&lt;br/&gt;
I think the correct fix shall be:&lt;/p&gt;

&lt;p&gt;if (qualifier != null) &lt;/p&gt;
{
  set.add(qualifier);
}
&lt;p&gt; else &lt;/p&gt;
{
  set.add(HConstants.EMPTY_BYTE_ARRAY);
}</comment>
                            <comment id="13493468" author="gustavoanatoly" created="Thu, 8 Nov 2012 20:29:38 +0000"  >&lt;p&gt;Hi, Liyin.&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I understood changes using HConstants.EMPTY_BYTE_ARRAY, but I was understanding incorrect part of your explanation about the pom profile. &lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;

&lt;p&gt;Could I contribute with a patch for review?&lt;/p&gt;</comment>
                            <comment id="13493471" author="jxiang" created="Thu, 8 Nov 2012 20:36:56 +0000"  >&lt;p&gt;Liyin, you are right. I will fix that (in trunk). I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7130&quot; title=&quot;NULL qualifier is ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7130&quot;&gt;&lt;del&gt;HBASE-7130&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13493478" author="liyin" created="Thu, 8 Nov 2012 20:53:35 +0000"  >&lt;p&gt;Gustavo Anatoly, sure ! &lt;/p&gt;</comment>
                            <comment id="13499476" author="gustavoanatoly" created="Sat, 17 Nov 2012 17:45:59 +0000"  >&lt;p&gt;Hi, Liyin.&lt;/p&gt;

&lt;p&gt;About this issue, Jimmy Xiang fixed null qualifier &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7130&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HBASE-7130&lt;/a&gt;, and the jdk7 profile on maven is opened yet to be implemented?&lt;/p&gt;</comment>
                            <comment id="14021453" author="apurtell" created="Sun, 8 Jun 2014 22:07:30 +0000"  >&lt;p&gt;No reason for this to be open still, right?&lt;/p&gt;</comment>
                            <comment id="14376247" author="eclark" created="Mon, 23 Mar 2015 17:40:50 +0000"  >&lt;p&gt;89-fb is deprecated.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12560588">HBASE-6206</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12615376">HBASE-7130</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Nov 2012 13:52:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255584</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0fsm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90234</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>