<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:36:25 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6399/HBASE-6399.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6399] MetricsContext should be different between RegionServerMetrics and RegionServerDynamicMetrics</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6399</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In hadoop-metrics.properties, GangliaContext is optional metrics context, I think we will use ganglia to monitor hbase cluster generally.&lt;/p&gt;

&lt;p&gt;However, I find a serious problem:&lt;br/&gt;
RegionServerDynamicMetrics will generate lots of rrd file because we would move region or create/delete table. &lt;br/&gt;
Especially if table is created everyday in some applications, there are much more and more rrd files in Gmetad Server. It will make Gmetad Server corrupted.&lt;/p&gt;

&lt;p&gt;IMO, MetricsContext should be different between RegionServerMetrics and RegionServerDynamicMetrics&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599074">HBASE-6399</key>
            <summary>MetricsContext should be different between RegionServerMetrics and RegionServerDynamicMetrics</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zjushch">chunhui shen</assignee>
                                    <reporter username="zjushch">chunhui shen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jul 2012 07:27:46 +0000</created>
                <updated>Mon, 23 Sep 2013 18:31:41 +0000</updated>
                            <resolved>Fri, 7 Sep 2012 18:45:29 +0000</resolved>
                                    <version>0.94.0</version>
                                    <fixVersion>0.95.0</fixVersion>
                                    <component>metrics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13416171" author="zhihyu@ebaysf.com" created="Tue, 17 Jul 2012 13:32:46 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+# dynamic.fileName=/tmp/metrics_jvm.log
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The filename should be metrics_dynamic.log or similar, right ?&lt;/p&gt;

&lt;p&gt;There are no rrd file pileup with the patch applied, I assume.&lt;/p&gt;</comment>
                            <comment id="13416350" author="eclark" created="Tue, 17 Jul 2012 16:46:18 +0000"  >&lt;p&gt;I agree giving users the choice is the correct thing to do.  However i&apos;m pretty sure there is already a way that these metrics can be turned off.  Adding a different context would break users who expect dynamic metrics to be in a certain location.  So I don&apos;t think this should go into 0.94.X as we shouldn&apos;t break people in a point release.&lt;/p&gt;

&lt;p&gt;In addition I think we would need a better name for the context. &quot;dynamic&quot; does not give enough context to what this will hold.  &quot;hbase-dynamic&quot; or something like that seems better.&lt;/p&gt;</comment>
                            <comment id="13416834" author="zjushch" created="Wed, 18 Jul 2012 03:05:39 +0000"  >&lt;p&gt;Updating patch as the suggestion.&lt;/p&gt;</comment>
                            <comment id="13416838" author="zjushch" created="Wed, 18 Jul 2012 03:11:18 +0000"  >&lt;p&gt;We find this problem when using 0.94 version, It is serious to us.&lt;br/&gt;
If not go into 0.94.X, I could accpet.&lt;/p&gt;</comment>
                            <comment id="13416839" author="zhihyu@ebaysf.com" created="Wed, 18 Jul 2012 03:13:29 +0000"  >&lt;p&gt;Patch v2 looks good to me.&lt;/p&gt;</comment>
                            <comment id="13417142" author="stack" created="Wed, 18 Jul 2012 14:54:26 +0000"  >&lt;p&gt;@Chunhui Shouldn&apos;t the comments in the properties file explain why there are two hbase contexts that can be loaded?  i.e. one does basic metrics and the hbase-dynamic adds a bunch more.... but beware, enabling it could overwhelm your monitoring as... etc.&lt;/p&gt;</comment>
                            <comment id="13417975" author="zjushch" created="Thu, 19 Jul 2012 01:57:27 +0000"  >&lt;p&gt;Adding comments in the properties file as Stack suggested&lt;/p&gt;</comment>
                            <comment id="13418173" author="stack" created="Thu, 19 Jul 2012 09:08:47 +0000"  >&lt;p&gt;Thanks Chunhui.  Looks good to me.  Passing by hadoopqa.&lt;/p&gt;</comment>
                            <comment id="13418174" author="stack" created="Thu, 19 Jul 2012 09:09:32 +0000"  >&lt;p&gt;Marking fix for 0.96, not 0.94, because of Elliott comment above.&lt;/p&gt;</comment>
                            <comment id="13418203" author="hadoopqa" created="Thu, 19 Jul 2012 10:25:01 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12537119/HBASE-6399v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12537119/HBASE-6399v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 12 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestRowProcessorEndpoint&lt;br/&gt;
                  org.apache.hadoop.hbase.catalog.TestMetaReaderEditor&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2409//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13427084" author="zjushch" created="Thu, 2 Aug 2012 03:02:13 +0000"  >&lt;p&gt;I think this issus is ok now, anyone take a see?&lt;/p&gt;</comment>
                            <comment id="13427123" author="zhihyu@ebaysf.com" created="Thu, 2 Aug 2012 05:29:28 +0000"  >&lt;p&gt;I ran the two failed tests locally and they passed.&lt;/p&gt;

&lt;p&gt;Integrated to trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Chunhui.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Elliot and Stack.&lt;/p&gt;</comment>
                            <comment id="13427138" author="hudson" created="Thu, 2 Aug 2012 06:25:16 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3188 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3188/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3188/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6399&quot; title=&quot;MetricsContext should be different between RegionServerMetrics and RegionServerDynamicMetrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6399&quot;&gt;&lt;del&gt;HBASE-6399&lt;/del&gt;&lt;/a&gt; MetricsContext should be different between RegionServerMetrics and RegionServerDynamicMetrics (Chunhui) (Revision 1368354)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/conf/hadoop-metrics.properties&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/metrics/RegionServerDynamicMetrics.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13427248" author="hudson" created="Thu, 2 Aug 2012 11:41:38 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #118 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/118/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/118/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6399&quot; title=&quot;MetricsContext should be different between RegionServerMetrics and RegionServerDynamicMetrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6399&quot;&gt;&lt;del&gt;HBASE-6399&lt;/del&gt;&lt;/a&gt; MetricsContext should be different between RegionServerMetrics and RegionServerDynamicMetrics (Chunhui) (Revision 1368354)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/conf/hadoop-metrics.properties&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/metrics/RegionServerDynamicMetrics.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13450608" author="mdrzal" created="Fri, 7 Sep 2012 13:19:12 +0000"  >&lt;p&gt;It looks like this can be closed.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhihyu%40ebaysf.com&quot; class=&quot;user-hover&quot; rel=&quot;zhihyu@ebaysf.com&quot;&gt;Ted Yu&lt;/a&gt; any objections?&lt;/p&gt;</comment>
                            <comment id="13450885" author="stack" created="Fri, 7 Sep 2012 18:45:29 +0000"  >&lt;p&gt;Committed to trunk by Ted a while back.  Resolving.&lt;/p&gt;</comment>
                            <comment id="13775524" author="stack" created="Mon, 23 Sep 2013 18:31:41 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12536788" name="HBASE-6399.patch" size="1864" author="zjushch" created="Tue, 17 Jul 2012 07:42:10 +0000"/>
                            <attachment id="12536945" name="HBASE-6399v2.patch" size="1946" author="zjushch" created="Wed, 18 Jul 2012 03:05:38 +0000"/>
                            <attachment id="12537119" name="HBASE-6399v3.patch" size="2122" author="zjushch" created="Thu, 19 Jul 2012 01:57:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jul 2012 13:32:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256599</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0huwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102270</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>