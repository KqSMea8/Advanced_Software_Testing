<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:19:40 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4522/HBASE-4522.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4522] Make hbase-site-custom.xml override the hbase-site.xml</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4522</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The motivation for diff is that we want to override some config change for any specific cluster easily by just adding the config entries in the hbase-site-custom.xml for that cluster. This change adds the hbase-site-custom.xml configuration file into HBaseConfiguration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525348">HBASE-4522</key>
            <summary>Make hbase-site-custom.xml override the hbase-site.xml</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="mikhail">Mikhail Bautin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Sep 2011 18:29:35 +0000</created>
                <updated>Fri, 12 Oct 2012 05:35:01 +0000</updated>
                            <resolved>Tue, 4 Oct 2011 22:14:41 +0000</resolved>
                                                    <fixVersion>0.94.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13118275" author="streamy" created="Fri, 30 Sep 2011 18:46:57 +0000"  >&lt;p&gt;Can&apos;t hbase-site import hbase-site-custom?&lt;/p&gt;</comment>
                            <comment id="13118284" author="liyin" created="Fri, 30 Sep 2011 19:01:04 +0000"  >&lt;p&gt;@Jonathon: It can&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;br/&gt;
That&apos;s why I am wondering should I open source this change&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;For us, hbase-site.xml works as hbase-default.xml and hbase-site-custom.xml works as hbase-site xml.&lt;br/&gt;
That&apos;s why we need to make hbase-site-custom.xml overrides to hbase-site.xml.&lt;br/&gt;
But in the open source trunk, we don&apos;t even have hbase-site-custom.xml at all.&lt;/p&gt;</comment>
                            <comment id="13118300" author="mikhail" created="Fri, 30 Sep 2011 19:22:36 +0000"  >&lt;p&gt;I discussed this with Kannan, and we thought that this might be good for people operating multiple HBase clusters for the same application. In that case hbase-site.xml could hold configuration for the entire application and hbase-site-custom.xml would have cluster-specific settings, e.g. the ZK quorum.&lt;/p&gt;</comment>
                            <comment id="13118312" author="mikhail" created="Fri, 30 Sep 2011 19:31:40 +0000"  >&lt;p&gt;Discussed this with Liyin. To clarify Liyin&apos;s point above: in our setup, we have multiple clusters per application, and hbase-site.xml works as the application-specific configuration, while hbase-site-custom.xml is the cluster-specific configuration within a particular application. So in our case hbase-site.xml does not hard-code any host names. The reason we cannot use hbase-default.xml for application-specific configuration is that there is already an hbase-default.xml file in the HBase jar, and overriding it would make us dependent on the relative ordering of HBase configuration directory and the HBase jar in the classpath, which is an unnecessarily brittle approach. With the hbase-site-custom.xml file, however, we get additional flexibility in configuring our HBase clusters without breaking backwards-compatibility. If the hbase-site-custom.xml file is not there, everything will function exactly as before.&lt;/p&gt;</comment>
                            <comment id="13118329" author="tlipcon" created="Fri, 30 Sep 2011 19:41:02 +0000"  >&lt;p&gt;Why not just use template-based configuration management here? This seems like an HBase feature papering over poor config management, no?&lt;/p&gt;</comment>
                            <comment id="13118334" author="mikhail" created="Fri, 30 Sep 2011 19:50:23 +0000"  >&lt;p&gt;@Todd: if I understand correctly, template-based configuration management means you generate configuration files using an external site-specific tool. As far as I see, there is no standardized tool like that so far in the HBase user community (could you please point it out to me if I&apos;m wrong?)  Our approach does not require an external template system (it only relies on copying/symlinking the right files into the conf directory) and provides a clearer separation of between application-specific and site-specific configuration. The &quot;feature&quot; in this JIRA is around two lines of code and does not break existing functionality while providing additional flexibility. That said, it would be very interesting to hear about alternative approaches to Hadoop/HBase configuration management for large multi-cluster deployments &amp;#8211; please feel free to share.&lt;/p&gt;</comment>
                            <comment id="13118341" author="tlipcon" created="Fri, 30 Sep 2011 19:57:19 +0000"  >&lt;p&gt;We do configuration management here using puppet. Other deploys I&quot;m aware of use Chef or bcfg2.&lt;/p&gt;

&lt;p&gt;It&apos;s not that I think the feature is risky, really... it just feels like bloat and yet another thing to document. Do any other organizations find this feature useful?&lt;/p&gt;

&lt;p&gt;A more general solution that I&apos;d support would be to support something like &quot;hbase/conf.d&quot; where any XML files in that directory would be sorted by name, and loaded in that order. So you could have 01-site.xml, 02-myapplication.xml, 03-my-machine-overrides.xml, etc. This is a more familiar construct for most sysadmins.&lt;/p&gt;</comment>
                            <comment id="13118380" author="mikhail" created="Fri, 30 Sep 2011 20:14:48 +0000"  >&lt;p&gt;In our case what you call 01-site.xml and 02-myapplication.xml correspond to hbase-site.xml, and 03-my-cluster-overrides.xml is what we call hbase-site-custom.xml. Right now we only need another level of indirection, so implementing the conf.d approach would probably be an overkill for now. We definitely need to keep hbase-site.xml, and I am open for suggestions for a better name for the next level of customization above hbase-site.xml than hbase-site-custom.xml.&lt;/p&gt;

&lt;p&gt;We used &amp;lt;xi:include&amp;gt; to include the per-cluster configuration into hbase-site.xml previously, but that created problems when we tried to override some properties in hbase-site-custom.xml that were already present in hbase-site.xml, since if there are multiple occurrences of the same key in a single configuration file, currently there is no guarantee that the earliest or the latest one will take precedence, as far as I know. This is why we moved to a multi-file approach.&lt;/p&gt;

&lt;p&gt;On the feature bloat and documentation side, we are probably looking at two lines of code and a few lines of documentation here...&lt;/p&gt;</comment>
                            <comment id="13118401" author="jiraposter@reviews.apache.org" created="Fri, 30 Sep 2011 20:28:45 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for Paul Lindner.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;The motivation for diff is that we want to override some config change for any specific cluster easily by just adding the config entries in the hbase-site-custom.xml for that cluster. This change adds the hbase-site-custom.xml configuration file into HBaseConfiguration.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4522&quot; title=&quot;Make hbase-site-custom.xml override the hbase-site.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4522&quot;&gt;&lt;del&gt;HBASE-4522&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4522&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4522&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java 06fd29c &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This has been in production on multiple clusters for a few weeks.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Mikhail&lt;/p&gt;
</comment>
                            <comment id="13118405" author="jiraposter@reviews.apache.org" created="Fri, 30 Sep 2011 20:30:45 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2135/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-30 20:30:01.515458)&lt;/p&gt;


&lt;p&gt;Review request for hbase, Todd Lipcon and Jonathan Gray.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Changing reviewers &amp;#8211; sorry for spam.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;The motivation for diff is that we want to override some config change for any specific cluster easily by just adding the config entries in the hbase-site-custom.xml for that cluster. This change adds the hbase-site-custom.xml configuration file into HBaseConfiguration.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4522&quot; title=&quot;Make hbase-site-custom.xml override the hbase-site.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4522&quot;&gt;&lt;del&gt;HBASE-4522&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4522&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4522&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java 06fd29c &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2135/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2135/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This has been in production on multiple clusters for a few weeks.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Mikhail&lt;/p&gt;
</comment>
                            <comment id="13119048" author="mikhail" created="Sun, 2 Oct 2011 19:16:13 +0000"  >&lt;p&gt;@Michael, J-D, anyone else at StumbleUpon: how do you guys do configuration management? Would there be any benefit in having a way to override the settings in hbase-site.xml with another configuration file?&lt;/p&gt;</comment>
                            <comment id="13119063" author="jdcryans" created="Sun, 2 Oct 2011 20:37:34 +0000"  >&lt;p&gt;Our applications use thrift and define a topology (currently just a dumb list of servers and ports) per cluster. So the dev basically does &quot;I want to access that $table on that $cluster&quot;.&lt;/p&gt;

&lt;p&gt;It seems that even if you used the java API directly, you could have the same topology configuration file (or it could live in ZK, or whatever) and then on the fly do the proper configurations before creating the HTable.&lt;/p&gt;</comment>
                            <comment id="13119397" author="stack" created="Mon, 3 Oct 2011 16:55:23 +0000"  >&lt;p&gt;@Mikhail We do Puppet at SU with per-cluster configs burned into the checked-in puppet scripts.&lt;/p&gt;</comment>
                            <comment id="13120522" author="mikhail" created="Tue, 4 Oct 2011 22:13:56 +0000"  >&lt;p&gt;OK, discarding this JIRA. Implemented as an internal patch instead.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Sep 2011 18:46:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08r3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>