<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:43:20 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13438/HBASE-13438.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13438] [branch-1] Backport Basic quota support for namespaces</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13438</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This task for backporting &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8410&quot; title=&quot;Basic quota support for namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8410&quot;&gt;&lt;del&gt;HBASE-8410&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12936&quot; title=&quot;Quota support for namespace should take region merge into account&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12936&quot;&gt;&lt;del&gt;HBASE-12936&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13357&quot; title=&quot;If maxTables/maxRegions exceeds quota in a namespace, throw QuotaExceededException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13357&quot;&gt;&lt;del&gt;HBASE-13357&lt;/del&gt;&lt;/a&gt; to branch-1&lt;/p&gt;</description>
                <environment></environment>
        <key id="12819622">HBASE-13438</key>
            <summary>[branch-1] Backport Basic quota support for namespaces</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashish singhi">Ashish Singhi</assignee>
                                    <reporter username="ashish singhi">Ashish Singhi</reporter>
                        <labels>
                            <label>quota</label>
                    </labels>
                <created>Thu, 9 Apr 2015 10:05:28 +0000</created>
                <updated>Wed, 3 Jun 2015 15:28:32 +0000</updated>
                            <resolved>Tue, 14 Apr 2015 11:48:02 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14487115" author="ashish singhi" created="Thu, 9 Apr 2015 10:39:11 +0000"  >&lt;p&gt;Please review.&lt;/p&gt;</comment>
                            <comment id="14487304" author="hadoopqa" created="Thu, 9 Apr 2015 12:42:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12724196/HBASE-13438-branch-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12724196/HBASE-13438-branch-1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 80dbf06651e527ec0421ce51e4712ffb2f1d078b.&lt;br/&gt;
  ATTACHMENT ID: 12724196&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestZKLessSplitOnCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.namespace.TestNamespaceAuditor&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestZKLessMergeOnCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13646//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13646//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13646//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13646//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13646//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13646//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13646//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13646//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14487419" author="ashish singhi" created="Thu, 9 Apr 2015 14:26:42 +0000"  >&lt;p&gt;v1 patch to fix the reported test failures.&lt;/p&gt;</comment>
                            <comment id="14487637" author="hadoopqa" created="Thu, 9 Apr 2015 16:40:29 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12724226/HBASE-13438-branch-1-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12724226/HBASE-13438-branch-1-v1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 80dbf06651e527ec0421ce51e4712ffb2f1d078b.&lt;br/&gt;
  ATTACHMENT ID: 12724226&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13648//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13648//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13648//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13648//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13648//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13648//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13648//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13648//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14487886" author="avandana" created="Thu, 9 Apr 2015 18:28:59 +0000"  >&lt;p&gt;@ashish &amp;#8211; The patch looks good for zkless assignment, but branch-1 has both zkless and zk assignment. So I think you need to handle split/merge regions for zk assignment too.&lt;/p&gt;</comment>
                            <comment id="14489068" author="ashish singhi" created="Fri, 10 Apr 2015 06:58:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=avandana&quot; class=&quot;user-hover&quot; rel=&quot;avandana&quot;&gt;Vandana Ayyalasomayajula&lt;/a&gt; thanks for looking into this.&lt;br/&gt;
We already have some UT&apos;s for split/merge regions for zk assignment like &lt;tt&gt;TestRegionMergeTransactionOnCluster&lt;/tt&gt; and &lt;tt&gt;TestSplitTransactionOnCluster&lt;/tt&gt; which are passing. So I think with the patch its been already handled.&lt;br/&gt;
Am I missing anything ?&lt;/p&gt;</comment>
                            <comment id="14489073" author="avandana" created="Fri, 10 Apr 2015 07:03:39 +0000"  >&lt;p&gt;The piece that is missing is updating namespace quota information during region merge and region split with zk assignment. So your unit test will essentially fail, if you set assignment to use zk. &lt;/p&gt;</comment>
                            <comment id="14490133" author="ashish singhi" created="Fri, 10 Apr 2015 19:00:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;So your unit test will essentially fail, if you set assignment to use zk.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No, it does not. I have set the &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hbase.assignment.usezk to &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; and it passes locally all the time to me.&lt;br/&gt;
Any ways I have attached new patch which will test all the test cases in &lt;tt&gt;TestNamespaceAuditor&lt;/tt&gt; with both ZK and ZK less assignment.&lt;/p&gt;</comment>
                            <comment id="14490371" author="hadoopqa" created="Fri, 10 Apr 2015 21:08:38 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12724626/HBASE-13438-branch-1-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12724626/HBASE-13438-branch-1-v2.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit f6512065c2ee84a9c5af7d03f674c57c978b0b68.&lt;br/&gt;
  ATTACHMENT ID: 12724626&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13663//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13663//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13663//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13663//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13663//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13663//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13663//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13663//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14490490" author="avandana" created="Fri, 10 Apr 2015 22:44:01 +0000"  >&lt;p&gt;For me when I execute:&lt;br/&gt;
mvn clean package  -Dtest=TestNamespaceAuditor&lt;/p&gt;

&lt;p&gt;I get the following:&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Running org.apache.hadoop.hbase.namespace.TestNamespaceAuditor&lt;br/&gt;
Tests run: 7, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 26.52 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.namespace.TestNamespaceAuditor&lt;br/&gt;
testRegionOperations(org.apache.hadoop.hbase.namespace.TestNamespaceAuditor)  Time elapsed: 6.222 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;3&amp;gt;&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:88)&lt;br/&gt;
	at org.junit.Assert.failNotEquals(Assert.java:743)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:118)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:555)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:542)&lt;br/&gt;
	at org.apache.hadoop.hbase.namespace.TestNamespaceAuditor.testRegionOperations(TestNamespaceAuditor.java:473)&lt;/p&gt;


&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Failed tests:&lt;br/&gt;
  TestNamespaceAuditor.testRegionOperations:473 expected:&amp;lt;2&amp;gt; but was:&amp;lt;3&amp;gt;&lt;/p&gt;

&lt;p&gt;which I expect. The namespace state manager needs to listen to the zk events ( split/merge) and then update quota. &lt;/p&gt;</comment>
                            <comment id="14490502" author="avandana" created="Fri, 10 Apr 2015 22:55:41 +0000"  >&lt;p&gt;The above patch actually makes the test pass. We can keep this jira for zk less assignment and the for zk assignment I will open another jira and attach the above addendum patch. &lt;/p&gt;

&lt;p&gt;@ashish &amp;#8211; could you please remove the test which uses the zk assignment, then I can +1 the final patch. &lt;/p&gt;
</comment>
                            <comment id="14490518" author="hadoopqa" created="Fri, 10 Apr 2015 23:10:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12724694/HBASE-13438_withzk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12724694/HBASE-13438_withzk.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit e994b491aca8ab2edeb60a328c690ddbc88f8b51.&lt;br/&gt;
  ATTACHMENT ID: 12724694&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13665//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13665//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14490633" author="avandana" created="Sat, 11 Apr 2015 00:42:35 +0000"  >&lt;p&gt;@ashish &amp;#8211; you can actually combine my addendum patch on top of your latest patch. That will makes things simple. I can review then the latest patch. Thanks!!&lt;/p&gt;</comment>
                            <comment id="14490991" author="ashish singhi" created="Sat, 11 Apr 2015 12:17:31 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=avandana&quot; class=&quot;user-hover&quot; rel=&quot;avandana&quot;&gt;Vandana Ayyalasomayajula&lt;/a&gt; for the addendum and look into this.&lt;br/&gt;
I have applied the addendum and also kept the test with zk assignment.&lt;/p&gt;

&lt;p&gt;Please review.&lt;/p&gt;</comment>
                            <comment id="14491044" author="hadoopqa" created="Sat, 11 Apr 2015 14:24:24 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12724757/HBASE-13438-branch-1-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12724757/HBASE-13438-branch-1-v3.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit e75c6201c69e57416525135a397a971ad4d1b902.&lt;br/&gt;
  ATTACHMENT ID: 12724757&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13672//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13672//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13672//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13672//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13672//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13672//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13672//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13672//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14492725" author="avandana" created="Mon, 13 Apr 2015 17:47:13 +0000"  >&lt;p&gt;@ashish  &amp;#8211; In the latest patch, I realized that in the case of MERGE_REVERTED, the assignment manager is not updating the quota. You need to add another hook in RegionStateListener class just like split. &lt;/p&gt;</comment>
                            <comment id="14493559" author="ashish singhi" created="Tue, 14 Apr 2015 04:56:53 +0000"  >&lt;p&gt;Yes, I noticed that before thought will handle as a separate jira. As it is not handled in master branch as well.&lt;br/&gt;
what you suggest, doing with a separate jira is ok ?&lt;/p&gt;</comment>
                            <comment id="14493650" author="avandana" created="Tue, 14 Apr 2015 06:16:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish+singhi&quot; class=&quot;user-hover&quot; rel=&quot;ashish singhi&quot;&gt;Ashish Singhi&lt;/a&gt; &amp;#8211; yes that could be done, as that case is not handled in the master branch too. Please open a JIRA. Otherwise the latest patch looks good to me +1.&lt;/p&gt;</comment>
                            <comment id="14493865" author="yuzhihong@gmail.com" created="Tue, 14 Apr 2015 10:11:05 +0000"  >&lt;p&gt;Planning to integrate to branch-1 if there is no further comment. &lt;/p&gt;</comment>
                            <comment id="14494009" author="yuzhihong@gmail.com" created="Tue, 14 Apr 2015 11:48:02 +0000"  >&lt;p&gt;Thanks for the patch, Ashish.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Vandana.&lt;/p&gt;</comment>
                            <comment id="14494027" author="ashish singhi" created="Tue, 14 Apr 2015 12:12:04 +0000"  >&lt;p&gt;Thanks Ted&lt;/p&gt;</comment>
                            <comment id="14494036" author="ashish singhi" created="Tue, 14 Apr 2015 12:23:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;I realized that in the case of MERGE_REVERTED, the assignment manager is not updating the quota&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=avandana&quot; class=&quot;user-hover&quot; rel=&quot;avandana&quot;&gt;Vandana Ayyalasomayajula&lt;/a&gt;, on further investigating the code. The current code looks fine.&lt;br/&gt;
We are decreasing the region count in namespace quota only on successful merge. So we need not handle MERGE_REVERTED until and unless user explicitly call this which does not seems to me reasonable.&lt;/p&gt;</comment>
                            <comment id="14494044" author="yuzhihong@gmail.com" created="Tue, 14 Apr 2015 12:32:16 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; READY_TO_MERGE:
    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; MERGE_PONR:
    &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; MERGED:
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        regionStateListener.onRegionMerged(hri);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;regionStateListener.onRegionMerged() is called for READY_TO_MERGE.&lt;/p&gt;

&lt;p&gt;I think we still need to handle reverted merge.&lt;/p&gt;</comment>
                            <comment id="14494053" author="ashish singhi" created="Tue, 14 Apr 2015 12:44:57 +0000"  >&lt;p&gt;Yes Ted we need to do this in branch-1 only.&lt;br/&gt;
I was looking into master branch code and there it is not required.&lt;/p&gt;</comment>
                            <comment id="14494148" author="hudson" created="Tue, 14 Apr 2015 14:04:57 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #393 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/393/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/393/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13438&quot; title=&quot;[branch-1] Backport Basic quota support for namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13438&quot;&gt;&lt;del&gt;HBASE-13438&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;branch-1&amp;#93;&lt;/span&gt; Backport Basic quota support for namespaces (Ashish Singhi) (tedyu: rev daa82b9fd988b7f32ea323ad14ddd2350212873c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/namespace/TestZKLessNamespaceAuditor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/quotas/RegionStateListener.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/TableNamespaceManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/DeleteTableHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/CreateTableHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/namespace/TestNamespaceAuditor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/namespace/NamespaceTableAndRegionInfo.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/namespace/NamespaceAuditor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/quotas/MasterQuotaManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/namespace/NamespaceStateManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14522147" author="avandana" created="Thu, 30 Apr 2015 20:00:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; &amp;#8211; can this JIRA be back ported to 98 branch ? If its possible, I will create another JIRA for back port into 98. Thanks !!&lt;/p&gt;</comment>
                            <comment id="14522372" author="apurtell" created="Thu, 30 Apr 2015 22:10:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;can this JIRA be back ported to 98 branch ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s a big job &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=avandana&quot; class=&quot;user-hover&quot; rel=&quot;avandana&quot;&gt;Vandana Ayyalasomayajula&lt;/a&gt;. Not only this patch would need to be backported but also some supporting code. We can take new features in 0.98 though, as long as the following rules are followed:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;No incompatible changes to existing functionality&lt;/li&gt;
	&lt;li&gt;New functionality is off by default&lt;/li&gt;
	&lt;li&gt;Any changes to Public or LimitedPrivate annotated interface are compatible according to the compatibility checker tool (I can help you with this)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14523473" author="avandana" created="Fri, 1 May 2015 17:13:34 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; for the reply. I am thinking the patch will not be very difficult as branch-1 and 98 code are not too diverged. Since now the branch-1 has the quota framework back ported, it should be easy to back port the same to 98. I will ping you for help with compatibility checked tool.  &lt;/p&gt;</comment>
                            <comment id="14523689" author="apurtell" created="Fri, 1 May 2015 18:56:46 +0000"  >&lt;p&gt;Sure, ready when you are&lt;/p&gt;</comment>
                            <comment id="14571046" author="ndimiduk" created="Wed, 3 Jun 2015 15:28:32 +0000"  >&lt;p&gt;Closing issues released in 1.1.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12724226" name="HBASE-13438-branch-1-v1.patch" size="69363" author="ashish singhi" created="Thu, 9 Apr 2015 14:26:42 +0000"/>
                            <attachment id="12724626" name="HBASE-13438-branch-1-v2.patch" size="71673" author="ashish singhi" created="Fri, 10 Apr 2015 18:55:35 +0000"/>
                            <attachment id="12724757" name="HBASE-13438-branch-1-v3.patch" size="74169" author="ashish singhi" created="Sat, 11 Apr 2015 12:09:42 +0000"/>
                            <attachment id="12724196" name="HBASE-13438-branch-1.patch" size="69084" author="ashish singhi" created="Thu, 9 Apr 2015 10:34:22 +0000"/>
                            <attachment id="12724694" name="HBASE-13438_withzk.patch" size="6166" author="avandana" created="Fri, 10 Apr 2015 22:55:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 9 Apr 2015 12:42:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d0vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>