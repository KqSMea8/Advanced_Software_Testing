<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:56:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1832/HBASE-1832.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1832] Faster enable/disable/delete</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1832</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The enable/disable/delete is slow.  Looking at code, its heavyweight.  It doesn&apos;t do bulk scanning nor bulk writing.  Try doing some code client side that does bulk scan and bulk puts.  It might run faster. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12435498">HBASE-1832</key>
            <summary>Faster enable/disable/delete</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Sat, 12 Sep 2009 05:19:34 +0000</created>
                <updated>Fri, 20 Nov 2015 13:01:26 +0000</updated>
                            <resolved>Mon, 5 Oct 2009 21:25:39 +0000</resolved>
                                                    <fixVersion>0.20.1</fixVersion>
                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12754487" author="stack" created="Sat, 12 Sep 2009 05:56:54 +0000"  >&lt;p&gt;Could try HTable.getHRegionInfos().  This returns HRIs for a table.  The implementation of getHRIs doesn&apos;t do bulk scanning.  Fix.  Then, bulk change the HRIs and then bulk write them.  Pity there is no bulk delete....&lt;/p&gt;</comment>
                            <comment id="12754603" author="stack" created="Sat, 12 Sep 2009 20:34:30 +0000"  >&lt;p&gt;A 1600 region table the first time through times out when I try to disable it but then subsequent enable/deletes take &amp;lt; 18 seconds and even &amp;lt; 10 if I do it enough.  The delete runs just as fast.  Moving out of 0.20.1 till learn more.  &lt;/p&gt;

&lt;p&gt;These table transitions are done internally by the master.  Should just be a client-side action.  There ain&apos;t nothing special that run from the master adds.&lt;/p&gt;</comment>
                            <comment id="12759920" author="stack" created="Sat, 26 Sep 2009 16:42:32 +0000"  >&lt;p&gt;Bringing back into 0.20.1 for another look... An organization embedding hbase has hundreds of tests to run.  If this process ran smoother, it would save them a bunch of headache.&lt;/p&gt;</comment>
                            <comment id="12759921" author="stack" created="Sat, 26 Sep 2009 16:43:47 +0000"  >&lt;p&gt;Can I do anything about &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1636&quot; title=&quot;disable and drop of table is flakey still&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1636&quot;&gt;&lt;del&gt;HBASE-1636&lt;/del&gt;&lt;/a&gt; too?&lt;/p&gt;</comment>
                            <comment id="12761512" author="adragomir" created="Fri, 2 Oct 2009 09:02:22 +0000"  >&lt;p&gt;As I see in the HBaseAdmin, all the table modification operations go to the master, and everything there is synchronized on the RegionManager on the HMaster. Can we change these semantics ? What happens if client code disables the table while another client enables it ?&lt;/p&gt;

&lt;p&gt;The second observation is that, there are about three or four different patterns in the code to scan the meta / get a table&apos;s regions (MetaScanner, MetaUtils, direct HTable(meta), etc). I think it would be better to have only one pattern.&lt;/p&gt;
</comment>
                            <comment id="12761524" author="stack" created="Fri, 2 Oct 2009 10:32:44 +0000"  >&lt;p&gt;@Andrei Thanks for taking a look.  Yes, the way things currently work is way broke.  Your second observation above particularly bugs me.  Master is being rewritten for 0.21 to move state transitions to go via zk (and to clean up the hairball master has become).  This issue is just about trying to figure if I can make enable/disable run faster in 0.20.&lt;/p&gt;</comment>
                            <comment id="12761552" author="adragomir" created="Fri, 2 Oct 2009 11:36:36 +0000"  >&lt;p&gt;I see. I think that the simplest solution then is to have something like bulk scanner in TableOperations, instead of single row server.next call that we use right now. For large tables with lots of regions, I think that will improve the performance a bit. &lt;/p&gt;</comment>
                            <comment id="12761981" author="stack" created="Sun, 4 Oct 2009 03:33:05 +0000"  >&lt;p&gt;This is a bit of miscellany.  Adds batching of meta scans so should be faster figuring if table enabled//disabled, etc.  We were checking at least one time too many enable/disable state.  Fixed other minor items like the rough count at head of master ui so now its more likely close to actual region count.  This is probably good enough for 0.20.1 methinks.&lt;/p&gt;</comment>
                            <comment id="12762361" author="jdcryans" created="Mon, 5 Oct 2009 20:52:54 +0000"  >&lt;p&gt;Code looks good. Tried the patch, works well but I guess this won&apos;t make a difference for &amp;lt; 50 regions table. +1 for commit&lt;/p&gt;</comment>
                            <comment id="12762364" author="streamy" created="Mon, 5 Oct 2009 20:54:43 +0000"  >&lt;p&gt;Have not tested, but reviewed patch closely and it looks good.  Are there any good enable/disable/delete tests out there?&lt;/p&gt;

&lt;p&gt;+1 if stack is confident it works&lt;/p&gt;</comment>
                            <comment id="12762390" author="stack" created="Mon, 5 Oct 2009 21:25:39 +0000"  >&lt;p&gt;Resolving for now.  This will all change in 0.21 (instantaneous?).&lt;/p&gt;

&lt;p&gt;Thanks for the reviews lads.&lt;/p&gt;

&lt;p&gt;Applied branch and trunk.&lt;/p&gt;</comment>
                            <comment id="15017801" author="lars_francke" created="Fri, 20 Nov 2015 13:01:26 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12421218" name="fasterenabledisable-v3.patch" size="20631" author="stack" created="Sun, 4 Oct 2009 03:33:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Oct 2009 09:02:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hfif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99775</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>