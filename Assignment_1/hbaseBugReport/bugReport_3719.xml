<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:12:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3719/HBASE-3719.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3719] Workload has to drain before hlog can be rolled</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3719</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In the current implementation, the regionserver blocks new transactions from occuring when the HLog is rolled. Closing the existing HLog sometimes takes more than a few seconds and during this time all new puts/increments are blocked. It will be nice if we can continue to write new transactions to the new HLog (but maybe not commit those transactions) while the old HLog is being closed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502976">HBASE-3719</key>
            <summary>Workload has to drain before hlog can be rolled</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="dhruba">dhruba borthakur</assignee>
                                    <reporter username="dhruba">dhruba borthakur</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Mar 2011 04:55:15 +0000</created>
                <updated>Tue, 30 Dec 2014 17:38:44 +0000</updated>
                                                                            <component>regionserver</component>
                    <component>wal</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13014712" author="stack" created="Fri, 1 Apr 2011 16:05:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;It will be nice if we can continue to write new transactions to the new HLog (but maybe not commit those transactions) while the old HLog is being closed.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We&apos;d hold up clients while this was going on?  We&apos;d not return to clients until after the commital to the new HLog had gone through?&lt;/p&gt;</comment>
                            <comment id="13014945" author="dhruba" created="Sat, 2 Apr 2011 03:50:35 +0000"  >&lt;p&gt;Of course, clients requests will not get a response back until the old log is closed and the newly written transactions to the new HLog are also hflushed/sync&lt;/p&gt;</comment>
                            <comment id="14260380" author="stack" created="Mon, 29 Dec 2014 19:53:55 +0000"  >&lt;p&gt;Is this still the case?  Will it be the case in multiwal case?  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt;, you might have a notion.&lt;/p&gt;</comment>
                            <comment id="14261284" author="busbey" created="Tue, 30 Dec 2014 17:38:44 +0000"  >&lt;p&gt;client request to those regions that share the WAL that is rolling will wait, yes. I don&apos;t think we actually need to wait for the log close though, provided we had waited for a sync (that is, our persistence promise is already met at sync time).&lt;/p&gt;

&lt;p&gt;One of the suggestions I&apos;ve seen in connection with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10278&quot; title=&quot;Provide better write predictability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10278&quot;&gt;HBASE-10278&lt;/a&gt; is to always use a hot spare HDFS pipeline to do the rolling. I think that&apos;s a great idea and we could combine it with having a worker handle the closing outside of the critical section. That should go a long way to minimizing how much of a time hit clients take at roll time.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Apr 2011 16:05:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33166</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02fjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>