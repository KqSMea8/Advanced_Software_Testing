<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:48:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-927/HBASE-927.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-927] We don&apos;t recover if HRS hosting -ROOT-/.META. goes down</title>
                <link>https://issues.apache.org/jira/browse/HBASE-927</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;To replicate, set up a cluster with a master and a regionserver.  Start up the the cluster.  Kill the regionserver.  Master just does this over and over:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;...
2008-10-14 18:54:14,737 INFO org.apache.hadoop.hbase.master.BaseScanner: RegionManager.metaScanner scanning meta region {regionname: .META.,,1, startKey: &amp;lt;&amp;gt;, server: XX.XX.XX.XX:60020}
2008-10-14 18:54:15,739 INFO org.apache.hadoop.ipc.Client: Retrying connect to server:XX.XX.XX.XX:60020. Already tried 0 time(s).
2008-10-14 18:54:16,742 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: XX.XX.XX.XX:60020. Already tried 1 time(s).
2008-10-14 18:54:17,744 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: XX.XX.XX.XX:60020. Already tried 2 time(s).
2008-10-14 18:54:18,747 INFO org.apache.hadoop.ipc.Client: Retrying connect to server:XX.XX.XX.XX:60020. Already tried 3 time(s).
2008-10-14 18:54:19,749 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: XX.XX.XX.XX:60020. Already tried 4 time(s).
2008-10-14 18:54:20,752 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: XX.XX.XX.XX:60020. Already tried 5 time(s).
2008-10-14 18:54:21,755 INFO org.apache.hadoop.ipc.Client: Retrying connect to server: XX.XX.XX.XX:60020. Already tried 6 time(s).
2008-10-14 18:54:22,757 INFO org.apache.hadoop.ipc.Client: Retrying connect to server:XX.XX.XX.XX:60020. Already tried 7 time(s).
2008-10-14 18:54:23,759 INFO org.apache.hadoop.ipc.Client: Retrying connect to server:XX.XX.XX.XX:60020. Already tried 8 time(s).
2008-10-14 18:54:24,762 INFO org.apache.hadoop.ipc.Client: Retrying connect to server:XX.XX.XX.XX:60020. Already tried 9 time(s).
2008-10-14 18:54:24,763 WARN org.apache.hadoop.hbase.master.BaseScanner: Scan one META region: {regionname: .META.,,1, startKey: &amp;lt;&amp;gt;, server: XX.XX.XX.XX:60020}
java.io.IOException: Call failed on local exception
        at org.apache.hadoop.ipc.Client.call(Client.java:718)
        at org.apache.hadoop.hbase.ipc.HbaseRPC$Invoker.invoke(HbaseRPC.java:245)
        at $Proxy2.openScanner(Unknown Source)
        at org.apache.hadoop.hbase.master.BaseScanner.scanRegion(BaseScanner.java:159)
        at org.apache.hadoop.hbase.master.MetaScanner.scanOneMetaRegion(MetaScanner.java:74)
        at org.apache.hadoop.hbase.master.MetaScanner.maintenanceScan(MetaScanner.java:129)
        at org.apache.hadoop.hbase.master.BaseScanner.chore(BaseScanner.java:139)
        at org.apache.hadoop.hbase.Chore.run(Chore.java:62)
Caused by: java.net.ConnectException: Connection refused
        at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
        at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:592)
        at sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:118)
        at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:300)
        at org.apache.hadoop.ipc.Client$Connection.access$1700(Client.java:177)
        at org.apache.hadoop.ipc.Client.getConnection(Client.java:789)
        at org.apache.hadoop.ipc.Client.call(Client.java:704)
        ... 7 more
2008-10-14 18:54:24,766 INFO org.apache.hadoop.hbase.master.BaseScanner: all meta regions scanned
...

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Made it a blocker.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12406426">HBASE-927</key>
            <summary>We don&apos;t recover if HRS hosting -ROOT-/.META. goes down</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jimk">Jim Kellerman</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Oct 2008 18:57:34 +0000</created>
                <updated>Mon, 28 Dec 2009 19:24:55 +0000</updated>
                            <resolved>Thu, 4 Dec 2008 01:01:10 +0000</resolved>
                                                    <fixVersion>0.19.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12640445" author="jimk" created="Fri, 17 Oct 2008 05:57:09 +0000"  >&lt;p&gt;This is really tricky. I have managed to prevent the root region from being assigned to multiple servers, but still &lt;br/&gt;
have to work out how to prevent meta regions from being assigned to multiple servers.&lt;/p&gt;</comment>
                            <comment id="12648672" author="stack" created="Tue, 18 Nov 2008 17:50:41 +0000"  >&lt;p&gt;Should we move this out of 0.19.0?  Will it be easier and a better fix when ZK is in mix?&lt;/p&gt;</comment>
                            <comment id="12648722" author="stack" created="Tue, 18 Nov 2008 19:45:12 +0000"  >&lt;p&gt;Scatch my comment above.  This needs fixing for 0.19.0.  Just happened to jgray.&lt;/p&gt;</comment>
                            <comment id="12649552" author="jimk" created="Fri, 21 Nov 2008 00:14:41 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="12649560" author="jimk" created="Fri, 21 Nov 2008 01:22:37 +0000"  >&lt;p&gt;Still broken. Reopening.&lt;/p&gt;</comment>
                            <comment id="12649564" author="stack" created="Fri, 21 Nov 2008 01:25:43 +0000"  >&lt;p&gt;Did your last commit double the traffic to the master adding a get of root region every time the regionserver does its heartbeat?&lt;/p&gt;</comment>
                            <comment id="12652635" author="jimk" created="Wed, 3 Dec 2008 00:52:31 +0000"  >&lt;p&gt;Fixed, tested, committed.&lt;/p&gt;</comment>
                            <comment id="12652638" author="streamy" created="Wed, 3 Dec 2008 01:10:13 +0000"  >&lt;p&gt;Thanks Jim!  I think this issue might exist in 0.18, Andrew can you confirm that?  If so, I think this alone is worth an 0.18.2 release (though there are some other things related to OOME, etc that are always worth backporting)&lt;/p&gt;</comment>
                            <comment id="12652655" author="apurtell" created="Wed, 3 Dec 2008 02:36:52 +0000"  >&lt;p&gt;Yes this has happened to me using 0.18.1.&lt;/p&gt;</comment>
                            <comment id="12652693" author="jimk" created="Wed, 3 Dec 2008 05:59:32 +0000"  >&lt;p&gt;Backport for 0.18.2&lt;/p&gt;</comment>
                            <comment id="12652856" author="stack" created="Wed, 3 Dec 2008 17:02:11 +0000"  >&lt;p&gt;This patch looks to have broken trunk.  Hudson fails.  If I revert my trunk to r722704, the version before hbase-1042, build fails in tests like org.apache.hadoop.hbase.TestGlobalMemcacheLimit  with below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2008-12-03 08:57:01,369 DEBUG [HMaster] master.HMaster(421): Main processing loop: PendingOpenOperation from 127.0.0.1:39337
2008-12-03 08:57:01,371 INFO  [HMaster] master.ProcessRegionOpen$1(71): .META.,,1 open on 127.0.0.1:39337
2008-12-03 08:57:01,372 INFO  [HMaster] master.ProcessRegionOpen$1(82): updating row .META.,,1 in region -ROOT-,,0 with startcode 1228323417464 and server 127.0.0.1:39337
2008-12-03 08:57:03,185 DEBUG [main] client.HConnectionManager$TableServers(792): Found ROOT REGION =&amp;gt; {NAME =&amp;gt; &apos;-ROOT-,,0&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 70236052, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;-ROOT-&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, FAMILIES =&amp;gt; 
{NAME =&amp;gt; &apos;info&apos;, BLOOMFILTER =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;10&apos;, LENGTH =&amp;gt; &apos;2147483647&apos;, TTL =&amp;gt; &apos;-1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;}]}}
2008-12-03 08:57:03,225 ERROR [main] hbase.HBaseClusterTestCase(130): Exception in setup!
org.apache.hadoop.hbase.master.NotAllMetaRegionsOnlineException: org.apache.hadoop.hbase.master.NotAllMetaRegionsOnlineException
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:596)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.hbase.ipc.HbaseRPC$Server.call(HbaseRPC.java:634)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:892)

	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.apache.hadoop.hbase.RemoteExceptionHandler.decodeRemoteException(RemoteExceptionHandler.java:82)
	at org.apache.hadoop.hbase.client.HBaseAdmin.createTableAsync(HBaseAdmin.java:195)
	at org.apache.hadoop.hbase.client.HBaseAdmin.createTable(HBaseAdmin.java:153)
	at org.apache.hadoop.hbase.TestGlobalMemcacheLimit.postHBaseClusterSetup(TestGlobalMemcacheLimit.java:70)
	at org.apache.hadoop.hbase.HBaseClusterTestCase.setUp(HBaseClusterTestCase.java:128)
	at junit.framework.TestCase.runBare(TestCase.java:125)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2008-12-03 08:57:03,226 DEBUG [main] hbase.LocalHBaseCluster(254): Shutting down HBase Cluster
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12652858" author="stack" created="Wed, 3 Dec 2008 17:05:51 +0000"  >&lt;p&gt;Here is what was applied &amp;#8211;  svn diff -r722690:722704 &amp;gt; hbase-927.patch.  Going to back it out.&lt;/p&gt;</comment>
                            <comment id="12652864" author="stack" created="Wed, 3 Dec 2008 17:23:56 +0000"  >&lt;p&gt;Jim is trying to fix the breakage.&lt;/p&gt;</comment>
                            <comment id="12653092" author="jimk" created="Thu, 4 Dec 2008 01:01:10 +0000"  >&lt;p&gt;Fixed trunk. Back-ported to 0.18 branch for 0.18.2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395197" name="hbase-927.patch" size="25788" author="stack" created="Wed, 3 Dec 2008 17:05:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Oct 2008 05:57:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25480</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0haav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>