<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:50:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14223/HBASE-14223.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14223] Meta WALs are not cleared if meta region was closed and RS aborts</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14223</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When an RS opens meta, and later closes it, the WAL(FSHlog) is not closed. The last WAL file just sits there in the RS WAL directory. If RS stops gracefully, the WAL file for meta is deleted. Otherwise if RS aborts, WAL for meta is not cleaned. It is also not split (which is correct) since master determines that the RS no longer hosts meta at the time of RS abort. &lt;/p&gt;

&lt;p&gt;From a cluster after running ITBLL with CM, I see a lot of &lt;tt&gt;-splitting&lt;/tt&gt; directories left uncleaned: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[root@os-enis-dal-test-jun-4-7 cluster-os]# sudo -u hdfs hadoop fs -ls /apps/hbase/data/WALs
Found 31 items
drwxr-xr-x   - hbase hadoop          0 2015-06-05 01:14 /apps/hbase/data/WALs/hregion-58203265
drwxr-xr-x   - hbase hadoop          0 2015-06-05 07:54 /apps/hbase/data/WALs/os-enis-dal-test-jun-4-1.openstacklocal,16020,1433489308745-splitting
drwxr-xr-x   - hbase hadoop          0 2015-06-05 09:28 /apps/hbase/data/WALs/os-enis-dal-test-jun-4-1.openstacklocal,16020,1433494382959-splitting
drwxr-xr-x   - hbase hadoop          0 2015-06-05 10:01 /apps/hbase/data/WALs/os-enis-dal-test-jun-4-1.openstacklocal,16020,1433498252205-splitting
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The directories contain WALs from meta: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[root@os-enis-dal-test-jun-4-7 cluster-os]# sudo -u hdfs hadoop fs -ls /apps/hbase/data/WALs/os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285-splitting
Found 2 items
-rw-r--r--   3 hbase hadoop     201608 2015-06-05 03:15 /apps/hbase/data/WALs/os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285-splitting/os-enis-dal-test-jun-4-5.openstacklocal%2C16020%2C1433466904285..meta.1433470511501.meta
-rw-r--r--   3 hbase hadoop      44420 2015-06-05 04:36 /apps/hbase/data/WALs/os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285-splitting/os-enis-dal-test-jun-4-5.openstacklocal%2C16020%2C1433466904285..meta.1433474111645.meta
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The RS hosted the meta region for some time: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-06-05 03:14:28,692 INFO  [PostOpenDeployTasks:1588230740] zookeeper.MetaTableLocator: Setting hbase:meta region location in ZooKeeper as os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285
...
2015-06-05 03:15:17,302 INFO  [RS_CLOSE_META-os-enis-dal-test-jun-4-5:16020-0] regionserver.HRegion: Closed hbase:meta,,1.1588230740
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In between, a WAL is created: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-06-05 03:15:11,707 INFO  [RS_OPEN_META-os-enis-dal-test-jun-4-5:16020-0-MetaLogRoller] wal.FSHLog: Rolled WAL /apps/hbase/data/WALs/os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285/os-enis-dal-test-jun-4-5.openstacklocal%2C16020%2C1433466904285..meta.1433470511501.meta with entries=385, filesize=196.88 KB; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; WAL /apps/hbase/data/WALs/os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285/os-enis-dal-test-jun-4-5.openstacklocal%2C16020%2C1433466904285..meta.1433474111645.meta
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When CM killed the region server later master did not see these WAL files: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
./hbase-hbase-master-os-enis-dal-test-jun-4-3.log:2015-06-05 03:36:46,075 INFO  [MASTER_SERVER_OPERATIONS-os-enis-dal-test-jun-4-3:16000-0] master.SplitLogManager: started splitting 2 logs in [hdfs:&lt;span class=&quot;code-comment&quot;&gt;//os-enis-dal-test-jun-4-1.openstacklocal:8020/apps/hbase/data/WALs/os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285-splitting] &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; [os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285]
&lt;/span&gt;./hbase-hbase-master-os-enis-dal-test-jun-4-3.log:2015-06-05 03:36:47,300 INFO  [main-EventThread] wal.WALSplitter: Archived processed log hdfs:&lt;span class=&quot;code-comment&quot;&gt;//os-enis-dal-test-jun-4-1.openstacklocal:8020/apps/hbase/data/WALs/os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285-splitting/os-enis-dal-test-jun-4-5.openstacklocal%2C16020%2C1433466904285.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.1433475074436 to hdfs://os-enis-dal-test-jun-4-1.openstacklocal:8020/apps/hbase/data/oldWALs/os-enis-dal-test-jun-4-5.openstacklocal%2C16020%2C1433466904285.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.1433475074436
&lt;/span&gt;./hbase-hbase-master-os-enis-dal-test-jun-4-3.log:2015-06-05 03:36:50,497 INFO  [main-EventThread] wal.WALSplitter: Archived processed log hdfs:&lt;span class=&quot;code-comment&quot;&gt;//os-enis-dal-test-jun-4-1.openstacklocal:8020/apps/hbase/data/WALs/os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285-splitting/os-enis-dal-test-jun-4-5.openstacklocal%2C16020%2C1433466904285.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.1433475175329 to hdfs://os-enis-dal-test-jun-4-1.openstacklocal:8020/apps/hbase/data/oldWALs/os-enis-dal-test-jun-4-5.openstacklocal%2C16020%2C1433466904285.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.1433475175329
&lt;/span&gt;./hbase-hbase-master-os-enis-dal-test-jun-4-3.log:2015-06-05 03:36:50,507 WARN  [MASTER_SERVER_OPERATIONS-os-enis-dal-test-jun-4-3:16000-0] master.SplitLogManager: returning success without actually splitting and deleting all the log files in path hdfs:&lt;span class=&quot;code-comment&quot;&gt;//os-enis-dal-test-jun-4-1.openstacklocal:8020/apps/hbase/data/WALs/os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285-splitting
&lt;/span&gt;./hbase-hbase-master-os-enis-dal-test-jun-4-3.log:2015-06-05 03:36:50,508 INFO  [MASTER_SERVER_OPERATIONS-os-enis-dal-test-jun-4-3:16000-0] master.SplitLogManager: finished splitting (more than or equal to) 129135000 bytes in 2 log files in [hdfs:&lt;span class=&quot;code-comment&quot;&gt;//os-enis-dal-test-jun-4-1.openstacklocal:8020/apps/hbase/data/WALs/os-enis-dal-test-jun-4-5.openstacklocal,16020,1433466904285-splitting] in 4433ms&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12856137">HBASE-14223</key>
            <summary>Meta WALs are not cleared if meta region was closed and RS aborts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Aug 2015 11:35:58 +0000</created>
                <updated>Wed, 23 Nov 2016 04:24:11 +0000</updated>
                                                            <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.0.4</fixVersion>
                    <fixVersion>1.3.1</fixVersion>
                    <fixVersion>1.1.7</fixVersion>
                    <fixVersion>1.2.5</fixVersion>
                    <fixVersion>0.98.24</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="14696976" author="enis" created="Fri, 14 Aug 2015 13:14:16 +0000"  >&lt;p&gt;Just parking a v0 patch. We call releaseWAL() when closing a region. We close the meta WAL and meta WAL provider when we are closing the meta region so that its WAL files get archived. &lt;/p&gt;</comment>
                            <comment id="14697772" author="stack" created="Fri, 14 Aug 2015 21:23:04 +0000"  >&lt;p&gt;Patch looks reasonable &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;.  No dataloss? We are just leaving a mess behind when hbase:meta moves? Nice cleanup.&lt;/p&gt;</comment>
                            <comment id="14987312" author="asamir" created="Tue, 3 Nov 2015 14:01:29 +0000"  >&lt;p&gt;As per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; suggestion from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;del&gt;HBASE-14729&lt;/del&gt;&lt;/a&gt; i have pickup his patch for testing, and i was able  with few additions to build hbase on master branch. After applying patch issue was still present ( i was testing on distributed cluster : :hadoop-2.5.2, zookeeper-3.4.6, hbase-2.0.0-SNAPSHOT ) but i have found some interesting things in logs which may put some more light on this issue.&lt;br/&gt;
I was tracking single case when meta WALs file is not cleared here is sequence:&lt;br/&gt;
HDFS layout:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[hadoop@hnode2 ~]$ hadoop fs -ls -R /hbase/WALs
drwxr-xr-x   - hbase supergroup          0 2015-11-03 10:14 /hbase/WALs/hnode2,16000,1446541683349-splitting
-rw-r--r--   3 hbase supergroup         83 2015-11-03 10:13 /hbase/WALs/hnode2,16000,1446541683349-splitting/hnode2%2C16000%2C1446541683349.meta.1446541987763.meta
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Few time in logs i have notice that we are reporting 0 files in &lt;del&gt;splitting&lt;/del&gt; folder but files were on HDFS so i have added some additional logging in DefaultWALProvider#isMetaFile(), we were using this method to filter files from WALs folder&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isMetaFile(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; p) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (p != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; p.endsWith(META_WAL_PROVIDER_ID)) {
      LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;***Returning TRUE &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: &quot;&lt;/span&gt; + p);
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
    }
    LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;***Returning FALSE &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: &quot;&lt;/span&gt;+p);
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;And here are logs for active master that was processing WALs file:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-11-03 10:14:32,059 INFO  [hnode2:16000.activeMasterManager] master.MasterFileSystem: Log folder hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/WALs/hnode2,16000,1446541683349 doesn&apos;t belong to a known region server, splitting
&lt;/span&gt;2015-11-03 10:14:33,686 DEBUG [hnode2:16000.activeMasterManager] procedure2.ProcedureExecutor: Procedure ServerCrashProcedure serverName=hnode2,16000,1446541683349, shouldSplitWal=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, carryingMeta=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; id=852 state=RUNNABLE:SERVER_CRASH_START added to the store.
2015-11-03 10:14:33,921 DEBUG [ProcedureExecutor-1] procedure.ServerCrashProcedure: Splitting logs from hnode2,16000,1446541683349; region count=0
2015-11-03 10:14:33,944 DEBUG [ProcedureExecutor-1] master.MasterFileSystem: Renamed region directory: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/WALs/hnode2,16000,1446541683349-splitting
&lt;/span&gt;2015-11-03 10:14:33,944 INFO  [ProcedureExecutor-1] master.SplitLogManager: dead splitlog workers [hnode2,16000,1446541683349]
2015-11-03 10:14:33,968 INFO  [ProcedureExecutor-1] wal.DefaultWALProvider: ***Returning FALSE &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: hnode2%2C16000%2C1446541683349.1446541986629
2015-11-03 10:14:33,969 INFO  [ProcedureExecutor-1] wal.DefaultWALProvider: ***Returning TRUE &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: hnode2%2C16000%2C1446541683349.meta.1446541987763.meta
2015-11-03 10:14:33,969 INFO  [ProcedureExecutor-1] master.SplitLogManager: Started splitting 1 logs in [hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/WALs/hnode2,16000,1446541683349-splitting] &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; [hnode2,16000,1446541683349]
&lt;/span&gt;2015-11-03 10:14:34,065 INFO  [SplitLogWorker-hnode2:16000] wal.DefaultWALProvider: ***Returning FALSE &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629
2015-11-03 10:14:34,080 DEBUG [main-EventThread] coordination.SplitLogManagerCoordination: put up splitlog task at znode /hbase/splitWAL/WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629
2015-11-03 10:14:34,123 INFO  [main-EventThread] coordination.SplitLogManagerCoordination: task /hbase/splitWAL/WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629 acquired by hnode5,16020,1446455348779
2015-11-03 10:14:34,135 INFO  [main-EventThread] coordination.ZkSplitLogWorkerCoordination: task /hbase/splitWAL/WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629 preempted from hnode2,16000,1446542058824, current task state and owner=OWNED hnode5,16020,1446455348779
2015-11-03 10:14:34,963 INFO  [hnode2,16000,1446542058824_splitLogManager__ChoreService_1] master.SplitLogManager: total tasks = 1 unassigned = 0 tasks={/hbase/splitWAL/WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629=last_update = 1446542074134 last_version = 2 cur_worker_name = hnode5,16020,1446455348779 status = in_progress incarnation = 0 resubmits = 0 batch = installed = 1 done = 0 error = 0}
2015-11-03 10:14:38,183 INFO  [main-EventThread] coordination.SplitLogManagerCoordination: task /hbase/splitWAL/WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629 entered state: DONE hnode5,16020,1446455348779
2015-11-03 10:14:38,199 INFO  [main-EventThread] wal.WALSplitter: Archived processed log hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/WALs/hnode2,16000,1446541683349-splitting/hnode2%2C16000%2C1446541683349.1446541986629 to hdfs://P3cluster/hbase/oldWALs/hnode2%2C16000%2C1446541683349.1446541986629
&lt;/span&gt;2015-11-03 10:14:38,202 INFO  [main-EventThread] coordination.SplitLogManagerCoordination: Done splitting /hbase/splitWAL/WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629

2015-11-03 10:14:38,209 WARN  [ProcedureExecutor-1] master.SplitLogManager: Returning success without actually splitting and deleting all the log files in path hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/WALs/hnode2,16000,1446541683349-splitting: [FileStatus{path=hdfs://P3cluster/hbase/WALs/hnode2,16000,1446541683349-splitting/hnode2%2C16000%2C1446541683349.meta.1446541987763.meta; isDirectory=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; length=83; replication=3; blocksize=268435456; modification_time=1446541987767; access_time=1446541987767; owner=hbase; group=supergroup; permission=rw-r--r--; isSymlink=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}]
&lt;/span&gt;org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.fs.PathIsNotEmptyDirectoryException): `/hbase/WALs/hnode2,16000,1446541683349-splitting is non empty&apos;: Directory is not empty

2015-11-03 10:14:38,210 INFO  [ProcedureExecutor-1] master.SplitLogManager: finished splitting (more than or equal to) 83 bytes in 1 log files in [hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/WALs/hnode2,16000,1446541683349-splitting] in 4241ms
&lt;/span&gt;
2015-11-03 10:14:38,422 INFO  [ProcedureExecutor-0] procedure.ServerCrashProcedure: Finished processing of crashed hnode2,16000,1446541683349
2015-11-03 10:14:38,526 DEBUG [ProcedureExecutor-0] procedure2.ProcedureExecutor: Procedure completed in 4.8450sec: ServerCrashProcedure serverName=hnode2,16000,1446541683349, shouldSplitWal=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, carryingMeta=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; id=852 state=FINISHED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What look wrong here are this lines:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-11-03 10:14:34,065 INFO  [SplitLogWorker-hnode2:16000] wal.DefaultWALProvider: ***Returning FALSE &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629
2015-11-03 10:14:34,080 DEBUG [main-EventThread] coordination.SplitLogManagerCoordination: put up splitlog task at znode /hbase/splitWAL/WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629
2015-11-03 10:14:34,123 INFO  [main-EventThread] coordination.SplitLogManagerCoordination: task /hbase/splitWAL/WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629 acquired by hnode5,16020,1446455348779
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We are clearly sending non existing WALs file to be processed. I&apos;m not sure why file name was deformed (i suspect on PathFilter filter). And rs which acquires this task throws:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-11-03 10:14:38,118 INFO  [RS_LOG_REPLAY_OPS-hnode5:16020-0] util.FSHDFSUtils: Recovered lease, attempt=1 on file=hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/WALs/hnode2,16000,1446541683349-splitting/hnode2%2C16000%2C1446541683349.1446541986629 after 4005ms
&lt;/span&gt;2015-11-03 10:14:38,120 WARN  [RS_LOG_REPLAY_OPS-hnode5:16020-0] shortcircuit.DomainSocketFactory: error creating DomainSocket
java.net.ConnectException: connect(2) error: No such file or directory when trying to connect to &apos;none&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;So i have removed filter parametar from SplitLogManager#getFileList()&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-      FileStatus[] logfiles = FSUtils.listStatus(fs, logDir, filter);
+      FileStatus[] logfiles = FSUtils.listStatus(fs, logDir);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and as result issue was gone in my case. I will attach logs from master in case with filter and without filter.&lt;/p&gt;

</comment>
                            <comment id="14987872" author="enis" created="Tue, 3 Nov 2015 19:03:20 +0000"  >&lt;p&gt;Thanks for following up. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;So i have removed filter parameter from SplitLogManager#getFileList()&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The filter is needed since we are doing WAL splitting for meta and the regular WALs differently. Removing the filter has the effect of splitting (and hance recovering) the meta WALs that were not needed to be recovered. This may end up bringing back old data that is already deleted from meta, so it is not something safe. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;m not sure why file name was deformed (i suspect on PathFilter filter). &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The znodes have the hdfs path encoded in them. The split task is coordinated via znodes, so that file name to split is turned into a znode path. &lt;/p&gt;</comment>
                            <comment id="14988189" author="asamir" created="Tue, 3 Nov 2015 21:42:21 +0000"  >&lt;p&gt;Thanks for clarification &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I did not explain well this part when splitlog task is put to znode. Here is more precise difference between cases when filter is present and without filter:&lt;br/&gt;
With filter:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-11-03 10:14:34,080 DEBUG [main-EventThread] coordination.SplitLogManagerCoordination: put up splitlog task at znode /hbase/splitWAL/WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.1446541986629
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Without filter:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-11-03 10:18:43,747 DEBUG [main-EventThread] coordination.SplitLogManagerCoordination: put up splitlog task at znode /hbase/splitWAL/WALs%2Fhnode2%2C16000%2C1446541683349-splitting%2Fhnode2%252C16000%252C1446541683349.meta.1446541987763.meta
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What i meant with deformed file is why in case with filter .meta suffix is removed and in case without filter same suffix is present. Regarding that i see on master branch we have replaced SSH with ServerCrashProcedure which process failed servers and in logs i see this lines:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2015-11-03 10:18:43,350 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;hnode1:16000.activeMasterManager&amp;#93;&lt;/span&gt; procedure2.ProcedureExecutor: Procedure ServerCrashProcedure serverName=hnode2,16000,1446541683349, shouldSplitWal=true, carryingMeta=false id=855 state=RUNNABLE:SERVER_CRASH_START added to the store.&lt;br/&gt;
2015-11-03 10:18:43,618 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;ProcedureExecutor-0&amp;#93;&lt;/span&gt; procedure.ServerCrashProcedure: Splitting logs from hnode2,16000,1446541683349; region count=0&lt;br/&gt;
{code]&lt;br/&gt;
Which indicates that server was processed  as regionserver not carrying hbase:meta table and in my testing case hnode2 was active master which means it was carrying meta table for sure. &lt;br/&gt;
Could this be also part of problem ?&lt;/p&gt;
</comment>
                            <comment id="14991793" author="chenheng" created="Thu, 5 Nov 2015 15:20:55 +0000"  >&lt;p&gt;The patch seems that we only clean meta wals when close region.&lt;br/&gt;
What about if RS was killed directly?  The meta wals will be cleaned?&lt;br/&gt;
Maybe we should use HMaster to clean unused meta wals?&lt;/p&gt;</comment>
                            <comment id="14992301" author="enis" created="Thu, 5 Nov 2015 19:22:03 +0000"  >&lt;p&gt;The logic is something like this in server failover: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;check whether the failed region server was carrying meta, if so split the meta wals and assign meta. Split the other wals after that.&lt;/li&gt;
	&lt;li&gt;else, split only the files that matches the regular log file pattern and assign the regions. If there is a .meta WAL, the file is left there in the splitting directory.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So, if a region server dies while hosting meta, the regular recovery process recovers the meta wal files and cleans them. Only in cases where a meta region was opened in some region server, then the meta was moved to someplace else when the region server failed, we are left with a meta WAL file in the WALs directory. &lt;/p&gt;</comment>
                            <comment id="14993993" author="asamir" created="Fri, 6 Nov 2015 17:08:58 +0000"  >&lt;p&gt;Thanks for explanation &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;. I will keep digging around this issue.&lt;/p&gt;</comment>
                            <comment id="14996013" author="chenheng" created="Mon, 9 Nov 2015 04:28:24 +0000"  >&lt;blockquote&gt;
&lt;p&gt;So, if a region server dies while hosting meta, the regular recovery process recovers the meta wal files and cleans them. Only in cases where a meta region was opened in some region server, then the meta was moved to someplace else when the region server failed, we are left with a meta WAL file in the WALs directory.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Got it!  Thanks for your explation &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;.  By the way, it seems the patch is not complete,  we do nothing when releaseWALIfNeeded&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+
+  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void releaseWALIfNeeded() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
+    &lt;span class=&quot;code-comment&quot;&gt;// release the WAL &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; needed. Only meta does &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; now.
&lt;/span&gt;+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And why we need to check &lt;tt&gt;abort&lt;/tt&gt; before releaseWALIfNeeded?  &lt;/p&gt;
</comment>
                            <comment id="14999927" author="enis" created="Wed, 11 Nov 2015 04:27:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;By the way, it seems the patch is not complete, we do nothing when releaseWALIfNeeded&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;CloseMetaHandler is run when the meta region is closed, otherwise CloseRegionHandler is called. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;And why we need to check abort before releaseWALIfNeeded?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Because if we are aborting, we should not try to close the WAL. This might result in hanging if HDFS is unresponsive. The abort will do the WAL replay anyway. &lt;/p&gt;</comment>
                            <comment id="14999929" author="enis" created="Wed, 11 Nov 2015 04:30:40 +0000"  >&lt;p&gt;Here is a more complete patch with a unit test. I think the issue only applies to branch-1, since in master branch, the meta is always hosted in hmaster and not closed. We can still commit the changes without the test though. &lt;/p&gt;

&lt;p&gt;I&apos;ll put this patch up in a cluster and run some CM tests with it. &lt;/p&gt;</comment>
                            <comment id="15000050" author="hadoopqa" created="Wed, 11 Nov 2015 07:18:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12771693/hbase-14223_v1-branch-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12771693/hbase-14223_v1-branch-1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 96b2c0703b32b7e2eff03cdb4a05d7ad13b17909.&lt;br/&gt;
  ATTACHMENT ID: 12771693&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3776 checkstyle errors (more than the master&apos;s current 3773 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +  private boolean isHostingMeta(FileSystem fs, Path wals, ServerName serverName) throws IOException {&lt;br/&gt;
+          return target.equals(rl.getRegionLocation(HConstants.EMPTY_START_ROW, true).getServerName());&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16491//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16491//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16491//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16491//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16491//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16491//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16491//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16491//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15003436" author="enis" created="Fri, 13 Nov 2015 02:30:12 +0000"  >&lt;p&gt;Updated branch-1 patch. This is the same as v1, but I&apos;ve added an CM action for moving the meta table. This action helps with testing conditions if meta is moved as a normal operation (instead of meta server being killed).&lt;/p&gt;

&lt;p&gt;I&apos;ve run ITBLL writing 450M records without any issues. &lt;/p&gt;

&lt;p&gt;The master patch is similar, but it does not have the test since in master meta is always colocated. &lt;/p&gt;
</comment>
                            <comment id="15003454" author="hadoopqa" created="Fri, 13 Nov 2015 02:48:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772099/hbase-14223_v2-branch-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772099/hbase-14223_v2-branch-1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 789f8a5a70242c16ce10bc95401c51c7d04debfa.&lt;br/&gt;
  ATTACHMENT ID: 12772099&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 19 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16506//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16506//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15003467" author="enis" created="Fri, 13 Nov 2015 02:58:41 +0000"  >&lt;p&gt;rebased.&lt;/p&gt;</comment>
                            <comment id="15003599" author="hadoopqa" created="Fri, 13 Nov 2015 06:09:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772103/hbase-14223_v3-branch-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772103/hbase-14223_v3-branch-1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 789f8a5a70242c16ce10bc95401c51c7d04debfa.&lt;br/&gt;
  ATTACHMENT ID: 12772103&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 19 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3776 checkstyle errors (more than the master&apos;s current 3773 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16507//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16507//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16507//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16507//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16507//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16507//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16507//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16507//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15016701" author="hadoopqa" created="Fri, 20 Nov 2015 12:17:20 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12773478/hbase-14223_v3-branch-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12773478/hbase-14223_v3-branch-1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 8dbbe96e040cdee2a94b2a0ac53462a5c8f5c233.&lt;br/&gt;
  ATTACHMENT ID: 12773478&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 19 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3782 checkstyle errors (more than the master&apos;s current 3779 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16610//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16610//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16610//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16610//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16610//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16610//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16610//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16610//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15019165" author="enis" created="Sat, 21 Nov 2015 00:20:44 +0000"  >&lt;p&gt;Any reviews? &lt;/p&gt;</comment>
                            <comment id="15023280" author="devaraj" created="Mon, 23 Nov 2015 23:00:03 +0000"  >&lt;p&gt;Looks fine to me. One question I have is why is a null wal passed to the method HRegion.warmupHRegion&lt;/p&gt;</comment>
                            <comment id="15023657" author="enis" created="Tue, 24 Nov 2015 02:54:30 +0000"  >&lt;p&gt;Thanks Devaraj. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;why is a null wal passed to the method HRegion.warmupHRegion&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Warmup operation should open the region in strictly read-only mode and also there is no guarantee that if warmup region is called, the region will be opened by the region server. So if a meta region is called for warmup, then we would be initializing the meta WAL which may never get closed. It is safer to pass null as WAL since warmup is read-only anyway. &lt;/p&gt;</comment>
                            <comment id="15025117" author="devaraj" created="Tue, 24 Nov 2015 19:04:28 +0000"  >&lt;p&gt;Thanks for the explanation, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;, +1.&lt;/p&gt;</comment>
                            <comment id="15032346" author="enis" created="Mon, 30 Nov 2015 19:53:55 +0000"  >&lt;p&gt;Attaching master patch. The difference between the master and branch-1 patch is t that master patch does not have the unit test since meta cannot be moved out of the hmaster in the master branch. &lt;/p&gt;

&lt;p&gt;The issue affects branch-1 mostly (where meta can be hosted by any regionserver), but we should still commit the other changes to master branch as well.  &lt;/p&gt;</comment>
                            <comment id="15032680" author="hadoopqa" created="Mon, 30 Nov 2015 23:04:48 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12774870/hbase-14223_v3-master.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12774870/hbase-14223_v3-master.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 999ae691559a49321138eb7718eb204435639db9.&lt;br/&gt;
  ATTACHMENT ID: 12774870&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated new checkstyle errors. Check build console for list of new errors.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16702//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16702//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16702//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16702//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16702//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16702//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16702//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16702//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16702//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16702//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15032773" author="enis" created="Tue, 1 Dec 2015 00:20:54 +0000"  >&lt;p&gt;Javadoc warnings unrelated: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
4 warnings
[WARNING] Javadoc Warnings
[WARNING] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/util/RegionMover.java:111: warning - Tag @link: can&apos;t find RegionMover(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) in org.apache.hadoop.hbase.util.RegionMover.RegionMoverBuilder
[WARNING] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALKey.java:94: warning - Tag @see:illegal character: &lt;span class=&quot;code-quote&quot;&gt;&quot;123&quot;&lt;/span&gt; in &lt;span class=&quot;code-quote&quot;&gt;&quot;{@link #setWriteEntry(MultiVersionConcurrencyControl.WriteEntry)}&quot;&lt;/span&gt;
[WARNING] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALKey.java:94: warning - Tag @see:illegal character: &lt;span class=&quot;code-quote&quot;&gt;&quot;64&quot;&lt;/span&gt; in &lt;span class=&quot;code-quote&quot;&gt;&quot;{@link #setWriteEntry(MultiVersionConcurrencyControl.WriteEntry)}&quot;&lt;/span&gt;
[WARNING] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALKey.java:94: warning - Tag @see: reference not found: {@link #setWriteEntry(MultiVersionConcurrencyControl.WriteEntry)}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We should clean them. &lt;/p&gt;

&lt;p&gt;I&apos;ll fix the checkstyle on commit. &lt;/p&gt;</comment>
                            <comment id="15033007" author="hudson" created="Tue, 1 Dec 2015 03:24:08 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #347 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/347/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/347/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed and RS (enis: rev c719e8c456f32152410b4bc6fb4be4424996b64e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15033033" author="enis" created="Tue, 1 Dec 2015 04:01:11 +0000"  >&lt;p&gt;I have committed this. &lt;/p&gt;</comment>
                            <comment id="15033056" author="hudson" created="Tue, 1 Dec 2015 04:28:32 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2-IT #317 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/317/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/317/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed and RS (enis: rev 89aa2f1a800469adb3f43177bdb68e3159cbaeca)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15033064" author="hudson" created="Tue, 1 Dec 2015 04:38:46 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #516 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/516/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/516/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed and RS (enis: rev 756e6de2a0948c39a4fb3ab880dd9d182d645dbc)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15033261" author="hudson" created="Tue, 1 Dec 2015 07:30:03 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #412 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/412/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/412/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed and RS (enis: rev 89aa2f1a800469adb3f43177bdb68e3159cbaeca)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15033280" author="hudson" created="Tue, 1 Dec 2015 07:51:54 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1-JDK8 #1698 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1698/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1698/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed and RS (enis: rev 41e1677ccf9231c4bc1f69c606e817598bacdc8b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15033286" author="hudson" created="Tue, 1 Dec 2015 07:58:26 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #405 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/405/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/405/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed and RS (enis: rev c719e8c456f32152410b4bc6fb4be4424996b64e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15033406" author="hudson" created="Tue, 1 Dec 2015 09:30:17 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK7 #1610 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK7/1610/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK7/1610/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed and RS (enis: rev 41e1677ccf9231c4bc1f69c606e817598bacdc8b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15034014" author="stack" created="Tue, 1 Dec 2015 16:36:11 +0000"  >&lt;p&gt;Reopening. Can you take a look at the fails over in 1.2 &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;? Since this went in, TestRegionRebalancing on 1.7 builds is failing every build:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.2/414/jdk=latest1.7,label=Hadoop/testReport/TEST-org.apache.hadoop.hbase.TestRegionRebalancing/xml/_init_/history/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.2/414/jdk=latest1.7,label=Hadoop/testReport/TEST-org.apache.hadoop.hbase.TestRegionRebalancing/xml/_init_/history/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It passed when it went in originally on 1.3 but then failed on subsequent build:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.3/406/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.3/406/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Punt back to me and reresolve this issue if you don&apos;t think related. Thanks.&lt;/p&gt;
</comment>
                            <comment id="15034016" author="stack" created="Tue, 1 Dec 2015 16:36:55 +0000"  >&lt;p&gt;I could try reverting this on branch-1 and branch-1.2 too to see if this the cause. I&apos;ve started new builds to see if we get issue again.&lt;/p&gt;</comment>
                            <comment id="15034038" author="stack" created="Tue, 1 Dec 2015 16:43:58 +0000"  >&lt;p&gt;Test passes locally.&lt;/p&gt;

&lt;p&gt;Logs are full of spew up on apache builds: &lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.2/414/jdk=latest1.7,label=Hadoop/artifact/hbase-server/target/surefire-reports/org.apache.hadoop.hbase.TestRegionRebalancing-output.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.2/414/jdk=latest1.7,label=Hadoop/artifact/hbase-server/target/surefire-reports/org.apache.hadoop.hbase.TestRegionRebalancing-output.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15034046" author="stack" created="Tue, 1 Dec 2015 16:48:36 +0000"  >&lt;p&gt;This test has a flakey test categorization on it up top. Runs simple load balancer (we should just axe this) and then stochastic load balancer.&lt;/p&gt;</comment>
                            <comment id="15034075" author="hudson" created="Tue, 1 Dec 2015 17:05:33 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1118 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1118/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1118/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed and RS (enis: rev 5f9e8a879cc4f3ace09ecb65aa6109e65ff00001)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15034790" author="enis" created="Tue, 1 Dec 2015 22:51:11 +0000"  >&lt;p&gt;Let me check. master and branch-1 tests passed, but I had not run the branch-1.2 tests. &lt;/p&gt;</comment>
                            <comment id="15034852" author="enis" created="Tue, 1 Dec 2015 23:29:45 +0000"  >&lt;p&gt;Yes, I can reproduce the failures with the patch. Running the test from a prev commit id in branch-1.2 does not fail when run 3+ times. Let me inspect and see whether we need an addendum. Otherwise we can revert. &lt;/p&gt;</comment>
                            <comment id="15034861" author="stack" created="Tue, 1 Dec 2015 23:32:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; thanks for taking a look... Can wait a while unless you think addendum will take a while... then I&apos;ll revert for now. I&apos;ve been trying to nurture the blue dots and the red ones freak me out.&lt;/p&gt;</comment>
                            <comment id="15034903" author="enis" created="Tue, 1 Dec 2015 23:54:49 +0000"  >&lt;p&gt;Alright, lets revert now. We can re-commit once we figure out what is wrong. &lt;/p&gt;</comment>
                            <comment id="15034923" author="stack" created="Wed, 2 Dec 2015 00:05:13 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; Reverted from branch-1 and branch-1.2 (master does not seem to have this TestRegionRebalancing issue so I left the master patch in place).&lt;/p&gt;</comment>
                            <comment id="15035202" author="hudson" created="Wed, 2 Dec 2015 03:32:30 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #349 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/349/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/349/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed (stack: rev c4bc1c07bc3b7e3edc2be9f524d1f1c3fd818081)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15035241" author="hudson" created="Wed, 2 Dec 2015 04:19:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #409 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/409/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/409/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed (stack: rev c4bc1c07bc3b7e3edc2be9f524d1f1c3fd818081)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15035253" author="hudson" created="Wed, 2 Dec 2015 04:36:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #321 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/321/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/321/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed (stack: rev 2566b6d4891fcb3666351154cabfd60c9985071e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15035415" author="hudson" created="Wed, 2 Dec 2015 07:40:10 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #417 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/417/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/417/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed (stack: rev 2566b6d4891fcb3666351154cabfd60c9985071e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15038623" author="enis" created="Thu, 3 Dec 2015 21:27:27 +0000"  >&lt;p&gt;I have figured out the root cause of the test failure. The regionserver aborts when the meta is opened again on that same regionserver at a later time, since we are closing the WalProvider and FSHLog. FSHLog assumes that it is created only once in the regionserver lifecycle, so it throws this exception: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ABORTING region server localhost,65058,1449097601151: Unhandled: Target WAL already exists within directory hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:65046/user/enis/test-data/634ae5f2-2249-42a3-aec8-8a0bc47a8a51/WALs/localhost,6
&lt;/span&gt;Cause:
java.io.IOException: Target WAL already exists within directory hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:65046/user/enis/test-data/634ae5f2-2249-42a3-aec8-8a0bc47a8a51/WALs/localhost,65058,1449097601151
&lt;/span&gt;  at org.apache.hadoop.hbase.regionserver.wal.FSHLog.&amp;lt;init&amp;gt;(FSHLog.java:491)
  at org.apache.hadoop.hbase.wal.DefaultWALProvider.init(DefaultWALProvider.java:97)
  at org.apache.hadoop.hbase.wal.WALFactory.getProvider(WALFactory.java:147)
  at org.apache.hadoop.hbase.wal.WALFactory.getMetaWAL(WALFactory.java:239)
  at org.apache.hadoop.hbase.regionserver.HRegionServer.getWAL(HRegionServer.java:1850)
  at org.apache.hadoop.hbase.regionserver.HRegionServer.buildServerLoad(HRegionServer.java:1203)
  at org.apache.hadoop.hbase.regionserver.HRegionServer.tryRegionServerReport(HRegionServer.java:1145)
  at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:962)
  at org.apache.hadoop.hbase.MiniHBaseCluster$MiniHBaseClusterRegionServer.runRegionServer(MiniHBaseCluster.java:156)
  at org.apache.hadoop.hbase.MiniHBaseCluster$MiniHBaseClusterRegionServer.access$000(MiniHBaseCluster.java:108)
  at org.apache.hadoop.hbase.MiniHBaseCluster$MiniHBaseClusterRegionServer$1.run(MiniHBaseCluster.java:140)
  at java.security.AccessController.doPrivileged(Native Method)
  at javax.security.auth.Subject.doAs(Subject.java:356)
  at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1594)
  at org.apache.hadoop.hbase.security.User$SecureHadoopUser.runAs(User.java:334)
  at org.apache.hadoop.hbase.MiniHBaseCluster$MiniHBaseClusterRegionServer.run(MiniHBaseCluster.java:138)
  at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Interestingly, the test in the patch already checks whether the meta can be opened in the same regionserver that previously closed the meta, but apparently the regionserver was aborting without causing the test to fail. &lt;/p&gt;

&lt;p&gt;There is also a race condition between closing of the region (and hence WAL) versus regionServerReport() which calls HRegionServer.getWAL() which can re-open the closed meta WAL. &lt;/p&gt;

&lt;p&gt;I&apos;ll revert the patch from all branches for now until we can find a better plan. &lt;/p&gt;</comment>
                            <comment id="15038716" author="stack" created="Thu, 3 Dec 2015 22:23:31 +0000"  >&lt;p&gt;Nice digging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15038862" author="hudson" created="Thu, 3 Dec 2015 23:51:27 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK8 #1699 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1699/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1699/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed (enis: rev 5de218e070d1b930822548246ec4730a1212bab9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15039487" author="hudson" created="Fri, 4 Dec 2015 00:24:32 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1-JDK7 #1611 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK7/1611/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK7/1611/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed (enis: rev 5de218e070d1b930822548246ec4730a1212bab9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15039696" author="hudson" created="Fri, 4 Dec 2015 03:33:07 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #529 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/529/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/529/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed (enis: rev bbd53b846ef6d78740f54f5cea3c73bd992dde09)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15041781" author="hudson" created="Fri, 4 Dec 2015 17:10:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.0 #1119 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1119/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1119/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14223&quot; title=&quot;Meta WALs are not cleared if meta region was closed and RS aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14223&quot;&gt;HBASE-14223&lt;/a&gt; Meta WALs are not cleared if meta region was closed (enis: rev c4aab43a1ac1617890bb4535c9611fa0e31a59c2)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/wal/WALFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/wal/TestMetaWALsAreClosed.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/SlowDeterministicMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/NoKillMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseMetaHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MockRegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/handler/CloseRegionHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/MoveMetaAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/StressAssignmentManagerMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15422236" author="stack" created="Tue, 16 Aug 2016 05:53:32 +0000"  >&lt;p&gt;Moved fix version to 1.2.4 from 1.2.3 (Patch here was committed then reverted)&lt;/p&gt;</comment>
                            <comment id="15688870" author="stack" created="Wed, 23 Nov 2016 04:24:11 +0000"  >&lt;p&gt;Any luck w/ progress on this one &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; What you thinking? Maybe I could carry it home? Thanks boss.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12770325" name="HBASE-14223logs" size="9925" author="asamir" created="Tue, 3 Nov 2015 14:04:19 +0000"/>
                            <attachment id="12750506" name="hbase-14223_v0.patch" size="7076" author="enis" created="Fri, 14 Aug 2015 13:14:16 +0000"/>
                            <attachment id="12771693" name="hbase-14223_v1-branch-1.patch" size="19441" author="enis" created="Wed, 11 Nov 2015 04:30:40 +0000"/>
                            <attachment id="12772099" name="hbase-14223_v2-branch-1.patch" size="26350" author="enis" created="Fri, 13 Nov 2015 02:30:12 +0000"/>
                            <attachment id="12773478" name="hbase-14223_v3-branch-1.patch" size="24978" author="enis" created="Fri, 20 Nov 2015 09:11:44 +0000"/>
                            <attachment id="12772103" name="hbase-14223_v3-branch-1.patch" size="24978" author="enis" created="Fri, 13 Nov 2015 02:58:41 +0000"/>
                            <attachment id="12774870" name="hbase-14223_v3-master.patch" size="10883" author="enis" created="Mon, 30 Nov 2015 19:53:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Aug 2015 21:23:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ixa7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>