<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:37:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6490/HBASE-6490.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6490] &apos;dfs.client.block.write.retries&apos; value could be increased in HBase</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6490</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When allocating a new node during writing, hdfs tries &apos;dfs.client.block.write.retries&apos; times (default 3) to write the block. When it fails, it goes back to the nanenode for a new list, and raises an error if the number of retries is reached. In HBase, if the error is while we&apos;re writing a hlog file, it will trigger a region server abort (as hbase does not trust the log anymore). For simple case (new, and as such empty log file), this seems to be ok, and we don&apos;t lose data. There could be some complex cases if the error occurs on a hlog file with already multiple blocks written.&lt;/p&gt;

&lt;p&gt;Logs lines are:&lt;br/&gt;
&quot;Exception in createBlockOutputStream&quot;, then &quot;Abandoning block &quot; followed by &quot;Excluding datanode &quot; for a retry.&lt;br/&gt;
IOException: &quot;Unable to create new block.&quot;, when the number of retries is reached.&lt;/p&gt;

&lt;p&gt;Probability of occurence seems quite low, (number of bad nodes / number of nodes)^(number of retries), and it implies that you have a region server without its datanode. But it&apos;s per new block.&lt;/p&gt;

&lt;p&gt;Increasing the default value of &apos;dfs.client.block.write.retries&apos; could make sense to be better covered in chaotic conditions.&lt;/p&gt;</description>
                <environment>&lt;p&gt;all&lt;/p&gt;</environment>
        <key id="12601090">HBASE-6490</key>
            <summary>&apos;dfs.client.block.write.retries&apos; value could be increased in HBase</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Aug 2012 16:20:20 +0000</created>
                <updated>Wed, 16 Nov 2016 22:07:16 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>master</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13438854" author="stack" created="Tue, 21 Aug 2012 16:58:36 +0000"  >&lt;p&gt;What should we increase it to N?  We can&apos;t increase it just for WAL... it&apos;d be globally?&lt;/p&gt;</comment>
                            <comment id="13438863" author="nkeywal" created="Tue, 21 Aug 2012 17:07:00 +0000"  >&lt;p&gt;I don&apos;t think it&apos;s an issue to increase globally. I haven&apos;t yet looked at the memstore flush, but I think it&apos;s gonna be the same or worse: we don&apos;t really expecting a write to fail.&lt;br/&gt;
I need to check if it can be a fixed value or if we need to take into account the replication factor or the number of machine...&lt;/p&gt;</comment>
                            <comment id="13580246" author="qwertymaniac" created="Sun, 17 Feb 2013 18:30:31 +0000"  >&lt;p&gt;Would &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4246&quot; title=&quot;The exclude node list should be more forgiving, for each output stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4246&quot;&gt;&lt;del&gt;HDFS-4246&lt;/del&gt;&lt;/a&gt; help here?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12551766">HBASE-5843</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Aug 2012 16:58:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02f9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12073</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>