<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:38:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6588/HBASE-6588.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6588] enable table throws npe and leaves trash in zk in competition with delete table</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6588</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;2012-08-15 19:23:36,178 DEBUG org.apache.hadoop.hbase.client.ClientScanner: Creating scanner over .META. starting at key &apos;test,,&apos;&lt;br/&gt;
2012-08-15 19:23:36,178 DEBUG org.apache.hadoop.hbase.client.ClientScanner: Advancing internal scanner to startKey at &apos;test,,&apos;&lt;br/&gt;
2012-08-15 19:24:09,180 DEBUG org.apache.hadoop.hbase.client.ClientScanner: Creating scanner over .META. starting at key &apos;&apos;&lt;br/&gt;
2012-08-15 19:24:09,180 DEBUG org.apache.hadoop.hbase.client.ClientScanner: Advancing internal scanner to startKey at &apos;&apos;&lt;br/&gt;
2012-08-15 19:24:09,183 DEBUG org.apache.hadoop.hbase.client.ClientScanner: Finished with scanning at &lt;/p&gt;
{NAME =&amp;gt; &apos;.META.,,1&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 1028785192,}&lt;br/&gt;
2012-08-15 19:24:09,183 DEBUG org.apache.hadoop.hbase.master.CatalogJanitor: Scanned 2 catalog row(s) and gc&apos;d 0 unreferenced parent region(s)&lt;br/&gt;
2012-08-15 19:25:12,260 DEBUG org.apache.hadoop.hbase.master.handler.DeleteTableHandler: Deleting region test,,1345029764571.d1e24b251ca6286c840a9a5f571b7db1. from META and FS&lt;br/&gt;
2012-08-15 19:25:12,263 INFO org.apache.hadoop.hbase.catalog.MetaEditor: Deleted region test,,1345029764571.d1e24b251ca6286c840a9a5f571b7db1. from META&lt;br/&gt;
2012-08-15 19:25:12,265 INFO org.apache.hadoop.hbase.master.handler.EnableTableHandler: Attemping to enable the table test&lt;br/&gt;
2012-08-15 19:25:12,265 WARN org.apache.hadoop.hbase.zookeeper.ZKTable: Moving table test state to enabling but was not first in disabled state: null&lt;br/&gt;
2012-08-15 19:25:12,267 DEBUG org.apache.hadoop.hbase.client.ClientScanner: Creating scanner over .META. starting at key &apos;test,,&apos;&lt;br/&gt;
2012-08-15 19:25:12,267 DEBUG org.apache.hadoop.hbase.client.ClientScanner: Advancing internal scanner to startKey at &apos;test,,&apos;&lt;br/&gt;
2012-08-15 19:25:12,270 DEBUG org.apache.hadoop.hbase.client.ClientScanner: Finished with scanning at {NAME =&amp;gt; &apos;.META.,,1&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 1028785192,}
&lt;p&gt;2012-08-15 19:25:12,270 ERROR org.apache.hadoop.hbase.executor.EventHandler: Caught throwable while processing event C_M_ENABLE_TABLE&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hbase.master.handler.EnableTableHandler.handleEnableTable(EnableTableHandler.java:116)&lt;br/&gt;
        at org.apache.hadoop.hbase.master.handler.EnableTableHandler.process(EnableTableHandler.java:97)&lt;br/&gt;
        at org.apache.hadoop.hbase.executor.EventHandler.run(EventHandler.java:169)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;/p&gt;



&lt;p&gt;table is disabled now, then we enable and delete the table at the same time. &lt;/p&gt;

&lt;p&gt;Since the thread num of MASTER_TABLE_OPERATIONS is 1 by default. The two operations are serial in master.Before deletetable deletes all the regions in meta, CreateTableHandler ships the check of tableExists,then it will block until deletetable finishs, then CreateTableHandler will set zk enabling, and find no data in meta:&lt;/p&gt;

&lt;p&gt; regionsInMeta = MetaReader.getTableRegions(this.ct, tableName, true);&lt;br/&gt;
 int countOfRegionsInTable = regionsInMeta.size();&lt;/p&gt;

&lt;p&gt;npe will be throwed here. And we could not create the same table anymore.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12603571">HBASE-6588</key>
            <summary>enable table throws npe and leaves trash in zk in competition with delete table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="zhou wen jian">Zhou wenjian</assignee>
                                    <reporter username="zhou wen jian">Zhou wenjian</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Aug 2012 11:26:13 +0000</created>
                <updated>Mon, 20 May 2013 03:29:40 +0000</updated>
                            <resolved>Mon, 20 May 2013 03:29:40 +0000</resolved>
                                    <version>0.94.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13434979" author="zhou wen jian" created="Wed, 15 Aug 2012 11:29:26 +0000"  >&lt;p&gt;the table node in zk&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;zk: 10.232.98.77:2181(CONNECTED) 2&amp;#93;&lt;/span&gt; get /hbase-feiyun94/table/test&lt;br/&gt;
****ENABLING&lt;br/&gt;
cZxid = 0x1d0044a3de&lt;br/&gt;
ctime = Wed Aug 15 19:25:12 CST 2012&lt;br/&gt;
mZxid = 0x1d0044a3df&lt;br/&gt;
mtime = Wed Aug 15 19:25:12 CST 2012&lt;br/&gt;
pZxid = 0x1d0044a3de&lt;br/&gt;
cversion = 0&lt;br/&gt;
dataVersion = 1&lt;br/&gt;
aclVersion = 0&lt;br/&gt;
ephemeralOwner = 0x0&lt;br/&gt;
dataLength = 35&lt;br/&gt;
numChildren = 0&lt;/p&gt;
</comment>
                            <comment id="13434989" author="zhou wen jian" created="Wed, 15 Aug 2012 11:44:02 +0000"  >&lt;p&gt;needs delete the znode&lt;/p&gt;</comment>
                            <comment id="13435010" author="zhou wen jian" created="Wed, 15 Aug 2012 12:15:00 +0000"  >&lt;p&gt;Submitted patch for trunk. Please review and provide your comments/suggestions&lt;/p&gt;</comment>
                            <comment id="13435090" author="hadoopqa" created="Wed, 15 Aug 2012 13:22:28 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12541039/HBASE-6588-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12541039/HBASE-6588-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 9 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2585//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13435120" author="zhihyu@ebaysf.com" created="Wed, 15 Aug 2012 13:55:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;then we enable and delete the table at the same time.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Did this accidentally happen in your cluster or you performed the above as a test ?&lt;/p&gt;</comment>
                            <comment id="13435716" author="zhou wenjian" created="Thu, 16 Aug 2012 02:10:54 +0000"  >&lt;p&gt;@Ted&lt;/p&gt;

&lt;p&gt;i was doing some tests on table balancer, disable and then enable it.&lt;br/&gt;
howerver i mistake using drop table instead of enable, &lt;br/&gt;
Ctrl + c is immediately sent, and enable table is also closed behind, then i found table is deleted, but i couldn&apos;t create it anymore. So i reproduce the scenario.&lt;/p&gt;</comment>
                            <comment id="13435768" author="ram_krish" created="Thu, 16 Aug 2012 05:17:18 +0000"  >&lt;p&gt;Its better to handle in code and also at the same time as a good practice it is always advised to check if the table is enabled/disabled before doing such operations.&lt;br/&gt;
Is the data related to the table cleaned up properly? &lt;br/&gt;
If so i am +1 on this. Possible to write a testcase ?&lt;/p&gt;</comment>
                            <comment id="13436539" author="zhou wen jian" created="Fri, 17 Aug 2012 03:41:10 +0000"  >&lt;p&gt; patch v2 for trunk with testcase . Please review and provide your comments/suggestions&lt;/p&gt;</comment>
                            <comment id="13436590" author="ram_krish" created="Fri, 17 Aug 2012 07:13:40 +0000"  >&lt;p&gt;@Zhou&lt;br/&gt;
Thanks for updating the testcase.  But sometimes the testcase fails.  May be due to the async nature.&lt;br/&gt;
Also i think&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void deleteTableAsync(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] tableName) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;we need to add throws clause i think which is missing in the patch.&lt;/p&gt;</comment>
                            <comment id="13436600" author="zhou wen jian" created="Fri, 17 Aug 2012 07:42:23 +0000"  >&lt;p&gt;@ramkrishna.s.vasudevan&lt;br/&gt;
thanks for your review.&lt;br/&gt;
I did miss the throws clause.&lt;br/&gt;
update in v3.&lt;/p&gt;</comment>
                            <comment id="13436612" author="hadoopqa" created="Fri, 17 Aug 2012 08:43:56 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12541334/HBASE-6588-trunk-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12541334/HBASE-6588-trunk-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 9 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestAdmin&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestFromClientSideWithCoprocessor&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2602//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13436780" author="stack" created="Fri, 17 Aug 2012 15:19:58 +0000"  >&lt;p&gt;@Zhou Does v4 correct what Ram found, that the new unit test sometimes fails?&lt;/p&gt;

&lt;p&gt;I&apos;d think that a new public method on the high-profile HBaseAdmin class would be deserving of javadoc (deleteTableAsync).&lt;/p&gt;

&lt;p&gt;Am I reading it correctly, that the synchronous delete now uses async delete?&lt;/p&gt;

&lt;p&gt;Suggest doing regionsInMeta.isEmpty() instead of regionsInMeta.size() == 0 in the future (Cheaper).&lt;/p&gt;

&lt;p&gt;Nice test.&lt;/p&gt;</comment>
                            <comment id="13437626" author="zhou wen jian" created="Mon, 20 Aug 2012 02:22:48 +0000"  >&lt;p&gt;@stack &lt;br/&gt;
has corrected what Ram found.&lt;br/&gt;
the synchronous delete now uses async delete, that is right.&lt;br/&gt;
will update for v5 as suggested&lt;/p&gt;</comment>
                            <comment id="13437972" author="zhihyu@ebaysf.com" created="Mon, 20 Aug 2012 16:11:40 +0000"  >&lt;p&gt;For patch v5, if you look at &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2623/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2623/console&lt;/a&gt;, you can see that compilation failed for hadoop 2.0 profile.&lt;br/&gt;
I got the following error compiling against hadoop 2.0, locally:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:testCompile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testCompile) on project hbase-server: Compilation failure: Compilation failure:
[ERROR] /home/zhihyu/trunk-hbase/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java:[849,16] cannot find symbol
[ERROR] symbol  : class RegionState
[ERROR] location: class org.apache.hadoop.hbase.client.TestAdmin
[ERROR] 
[ERROR] /home/zhihyu/trunk-hbase/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java:[854,29] cannot find symbol
[ERROR] symbol  : class RegionState
[ERROR] location: class org.apache.hadoop.hbase.client.TestAdmin
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13438467" author="zhou wen jian" created="Tue, 21 Aug 2012 05:34:39 +0000"  >&lt;p&gt;sorry, forget to import org.apache.hadoop.hbase.master.RegionState in testAdmin&lt;/p&gt;</comment>
                            <comment id="13438512" author="hadoopqa" created="Tue, 21 Aug 2012 07:20:37 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12541719/HBASE-6588-trunk-v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12541719/HBASE-6588-trunk-v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 6 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestAssignmentManager&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestAdmin&lt;br/&gt;
                  org.apache.hadoop.hbase.TestMultiVersions&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2636//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13441406" author="stack" created="Fri, 24 Aug 2012 19:07:36 +0000"  >&lt;p&gt;Retry against hadoopqa&lt;/p&gt;</comment>
                            <comment id="13441455" author="hadoopqa" created="Fri, 24 Aug 2012 20:16:35 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12542318/HBASE-6588-trunk-v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12542318/HBASE-6588-trunk-v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 7 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestAdmin&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2681//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13442002" author="lhofhansl" created="Sun, 26 Aug 2012 01:24:56 +0000"  >&lt;p&gt;Uh oh. The new test failed in the HadoopQA build &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Patch looks good to me generally.&lt;/p&gt;</comment>
                            <comment id="13445524" author="lhofhansl" created="Fri, 31 Aug 2012 00:45:50 +0000"  >&lt;p&gt;New test still failing moving into 0.94.3&lt;/p&gt;</comment>
                            <comment id="13489945" author="lhofhansl" created="Sat, 3 Nov 2012 06:26:41 +0000"  >&lt;p&gt;Looks like this got abandoned. Moving to 0.94.4.&lt;/p&gt;</comment>
                            <comment id="13569406" author="enis" created="Sat, 2 Feb 2013 03:14:09 +0000"  >&lt;p&gt;This looks this it can be solved with the table locking patch at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305&quot; title=&quot;ZK based Read/Write locks for table operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7305&quot;&gt;&lt;del&gt;HBASE-7305&lt;/del&gt;&lt;/a&gt;. Let me try out the test here with the patch there. &lt;/p&gt;</comment>
                            <comment id="13586769" author="lhofhansl" created="Tue, 26 Feb 2013 05:03:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; Are you planning to port that patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305&quot; title=&quot;ZK based Read/Write locks for table operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7305&quot;&gt;&lt;del&gt;HBASE-7305&lt;/del&gt;&lt;/a&gt;) to 0.94?&lt;/p&gt;</comment>
                            <comment id="13590079" author="enis" created="Thu, 28 Feb 2013 23:57:34 +0000"  >&lt;p&gt;Yes, indeed. Let me open another issue, because we have to port at least 3 patches. &lt;/p&gt;</comment>
                            <comment id="13590818" author="lhofhansl" created="Fri, 1 Mar 2013 18:46:27 +0000"  >&lt;p&gt;Cool... I think 0.94.7 would be a sensible target.&lt;/p&gt;</comment>
                            <comment id="13629493" author="lhofhansl" created="Thu, 11 Apr 2013 22:31:51 +0000"  >&lt;p&gt;We&apos;re probably not getting table locking 0.94.&lt;br/&gt;
Should do this one then? In any case, moving to 0.94.8.&lt;/p&gt;</comment>
                            <comment id="13658095" author="lhofhansl" created="Wed, 15 May 2013 06:17:54 +0000"  >&lt;p&gt;Any update on this one?&lt;/p&gt;</comment>
                            <comment id="13661748" author="lhofhansl" created="Mon, 20 May 2013 03:29:40 +0000"  >&lt;p&gt;Change state to &quot;Later&quot;. Removing from 0.94.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12541322" name="HBASE-6588-trunk-v2.patch" size="3748" author="zhou wen jian" created="Fri, 17 Aug 2012 03:40:25 +0000"/>
                            <attachment id="12541334" name="HBASE-6588-trunk-v3.patch" size="3766" author="zhou wen jian" created="Fri, 17 Aug 2012 07:40:53 +0000"/>
                            <attachment id="12541346" name="HBASE-6588-trunk-v4.patch" size="4118" author="zhou wen jian" created="Fri, 17 Aug 2012 10:43:02 +0000"/>
                            <attachment id="12541553" name="HBASE-6588-trunk-v5.patch" size="4266" author="zhou wen jian" created="Mon, 20 Aug 2012 02:34:15 +0000"/>
                            <attachment id="12542318" name="HBASE-6588-trunk-v6.patch" size="4667" author="stack" created="Fri, 24 Aug 2012 19:07:36 +0000"/>
                            <attachment id="12541719" name="HBASE-6588-trunk-v6.patch" size="4667" author="zhou wen jian" created="Tue, 21 Aug 2012 05:35:21 +0000"/>
                            <attachment id="12541039" name="HBASE-6588-trunk.patch" size="1016" author="zhou wen jian" created="Wed, 15 Aug 2012 12:11:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Aug 2012 13:22:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239666</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00s7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>