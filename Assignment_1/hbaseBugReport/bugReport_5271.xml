<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:26:17 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5271/HBASE-5271.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5271] Result.getValue and Result.getColumnLatest return the wrong column.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5271</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In the following example result.getValue returns the wrong column&lt;/p&gt;

&lt;p&gt;KeyValue kv = new KeyValue(Bytes.toBytes(&quot;r&quot;), Bytes.toBytes(&quot;24&quot;), Bytes.toBytes(&quot;2&quot;), Bytes.toBytes(7L));&lt;br/&gt;
Result result = new Result(new KeyValue[] &lt;/p&gt;
{ kv }
&lt;p&gt;);&lt;br/&gt;
System.out.println(Bytes.toLong(result.getValue(Bytes.toBytes(&quot;2&quot;), Bytes.toBytes(&quot;2&quot;)))); //prints 7.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539630">HBASE-5271</key>
            <summary>Result.getValue and Result.getColumnLatest return the wrong column.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ghais">Ghais Issa</assignee>
                                    <reporter username="ghais">Ghais Issa</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jan 2012 16:31:57 +0000</created>
                <updated>Fri, 12 Oct 2012 05:35:00 +0000</updated>
                            <resolved>Fri, 17 Feb 2012 20:12:07 +0000</resolved>
                                    <version>0.90.5</version>
                                    <fixVersion>0.90.7</fixVersion>
                    <fixVersion>0.92.1</fixVersion>
                    <fixVersion>0.94.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13192282" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 17:09:40 +0000"  >&lt;p&gt;Can you write up a unit test which demonstrates this issue ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13192296" author="ghais" created="Tue, 24 Jan 2012 17:28:59 +0000"  >&lt;p&gt;Added a unit test in the TestResult.java class.&lt;/p&gt;</comment>
                            <comment id="13192368" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 18:52:32 +0000"  >&lt;p&gt;@Ghais:&lt;br/&gt;
Do you want to provide a patch that fixes this?&lt;/p&gt;</comment>
                            <comment id="13192435" author="lhofhansl" created="Tue, 24 Jan 2012 19:42:33 +0000"  >&lt;p&gt;Good find. From the code it looks like only a prefix of the family needs to match. D&apos;oh.&lt;/p&gt;</comment>
                            <comment id="13192478" author="ghais" created="Tue, 24 Jan 2012 20:25:01 +0000"  >&lt;p&gt;I believe this patch fixes the issue.&lt;br/&gt;
It looks like the KeyValue.matchingColumn was incorrectly passing in the family.length instead of the actual column&apos;s family length.&lt;/p&gt;

&lt;p&gt;Is there some reviewboard I should submit to, or is there some page which explains the submission process?&lt;/p&gt;</comment>
                            <comment id="13192481" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 20:32:09 +0000"  >&lt;p&gt;See &lt;a href=&quot;http://hbase.apache.org/book.html#developer&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#developer&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;For large patch, &lt;a href=&quot;https://reviews.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org&lt;/a&gt; can be used for review.&lt;/p&gt;

&lt;p&gt;You can push the &apos;Submit Patch&apos; button to let Hadoop QA run through the tests.&lt;/p&gt;</comment>
                            <comment id="13192524" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 21:14:17 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;</comment>
                            <comment id="13192527" author="hadoopqa" created="Tue, 24 Jan 2012 21:19:30 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12511722/fixKeyValueMatchingColumn.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12511722/fixKeyValueMatchingColumn.diff&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -145 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 156 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/847//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/847//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/847//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/847//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/847//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/847//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13192532" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 21:24:04 +0000"  >&lt;p&gt;There was no hanging test in PreCommit build 847.&lt;/p&gt;

&lt;p&gt;Will integrate the patch tonight.&lt;/p&gt;</comment>
                            <comment id="13192573" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 21:50:38 +0000"  >&lt;p&gt;Updated patch by wrapping a long line.&lt;/p&gt;</comment>
                            <comment id="13192581" author="hadoopqa" created="Tue, 24 Jan 2012 21:53:16 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12511739/5271-90.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12511739/5271-90.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/848//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/848//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13193613" author="ram_krish" created="Thu, 26 Jan 2012 07:25:58 +0000"  >&lt;p&gt;Updated affects version to 0.90.7&lt;/p&gt;</comment>
                            <comment id="13194012" author="zhihyu@ebaysf.com" created="Thu, 26 Jan 2012 17:38:36 +0000"  >&lt;p&gt;Will integrate if there is no objection.&lt;/p&gt;</comment>
                            <comment id="13194023" author="lhofhansl" created="Thu, 26 Jan 2012 17:51:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;This is actually pretty bad now. Imagine you pass a long family byte[] to matchingColumn. Now we could potentially compare past the size of the KeyValue backing array.&lt;/p&gt;</comment>
                            <comment id="13194076" author="zhihyu@ebaysf.com" created="Thu, 26 Jan 2012 18:56:19 +0000"  >&lt;p&gt;Integrated to 0.90, 0.92 and TRUNK.&lt;/p&gt;

&lt;p&gt;Thanks for the patch Ghais.&lt;/p&gt;

&lt;p&gt;Thanks for the review Lars.&lt;/p&gt;</comment>
                            <comment id="13194186" author="hudson" created="Thu, 26 Jan 2012 21:15:35 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #263 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/263/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/263/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5271&quot; title=&quot;Result.getValue and Result.getColumnLatest return the wrong column.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5271&quot;&gt;&lt;del&gt;HBASE-5271&lt;/del&gt;&lt;/a&gt;  Result.getValue and Result.getColumnLatest return the wrong column (Ghais Issa)&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/TestKeyValue.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13194502" author="hudson" created="Fri, 27 Jan 2012 06:01:21 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #92 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/92/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/92/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5271&quot; title=&quot;Result.getValue and Result.getColumnLatest return the wrong column.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5271&quot;&gt;&lt;del&gt;HBASE-5271&lt;/del&gt;&lt;/a&gt;  Result.getValue and Result.getColumnLatest return the wrong column (Ghais Issa)&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/TestKeyValue.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13196716" author="hudson" created="Tue, 31 Jan 2012 05:34:26 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2648 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2648/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2648/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5271&quot; title=&quot;Result.getValue and Result.getColumnLatest return the wrong column.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5271&quot;&gt;&lt;del&gt;HBASE-5271&lt;/del&gt;&lt;/a&gt;  Result.getValue and Result.getColumnLatest return the wrong column (Ghais Issa)&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/TestKeyValue.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13200638" author="hudson" created="Sun, 5 Feb 2012 02:28:28 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #90 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/90/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/90/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5271&quot; title=&quot;Result.getValue and Result.getColumnLatest return the wrong column.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5271&quot;&gt;&lt;del&gt;HBASE-5271&lt;/del&gt;&lt;/a&gt;  Result.getValue and Result.getColumnLatest return the wrong column (Ghais Issa)&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/TestKeyValue.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13210503" author="stack" created="Fri, 17 Feb 2012 20:12:07 +0000"  >&lt;p&gt;Was committed a while back.  Thanks for the patch Ghais.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12511739" name="5271-90.txt" size="1656" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 21:50:37 +0000"/>
                            <attachment id="12511738" name="5271-v2.txt" size="1696" author="zhihyu@ebaysf.com" created="Tue, 24 Jan 2012 21:50:37 +0000"/>
                            <attachment id="12511722" name="fixKeyValueMatchingColumn.diff" size="1689" author="ghais" created="Tue, 24 Jan 2012 20:25:01 +0000"/>
                            <attachment id="12511692" name="testGetValue.diff" size="939" author="ghais" created="Tue, 24 Jan 2012 17:28:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Jan 2012 17:09:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225132</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i069jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34479</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>