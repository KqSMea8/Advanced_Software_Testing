<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:18:15 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4363/HBASE-4363.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4363] [replication] ReplicationSource won&apos;t close if failing to contact the sink</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4363</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When trying to close a source, it will hang if it&apos;s already in shipEdits() and has issues reaching the sink. The reason is that in that method the while loop only checks if the RS is going down but not if the source was asked to shutdown.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12522485">HBASE-4363</key>
            <summary>[replication] ReplicationSource won&apos;t close if failing to contact the sink</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Sep 2011 22:47:58 +0000</created>
                <updated>Fri, 20 Nov 2015 11:52:30 +0000</updated>
                            <resolved>Thu, 15 Sep 2011 21:49:53 +0000</resolved>
                                    <version>0.90.4</version>
                                    <fixVersion>0.90.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13104090" author="jdcryans" created="Wed, 14 Sep 2011 00:13:27 +0000"  >&lt;p&gt;Simple patch that adds a bunch of (refactored) checks to this.running in ReplicationSource. Passes TestReplication.&lt;/p&gt;</comment>
                            <comment id="13104101" author="stack" created="Wed, 14 Sep 2011 00:25:55 +0000"  >&lt;p&gt;isReplicating a better name for the isActive method? (The latter is generic)&lt;/p&gt;

&lt;p&gt;What is this.running?  Whats it signify?&lt;/p&gt;

&lt;p&gt;Otherwise patch seems fine.&lt;/p&gt;
</comment>
                            <comment id="13104104" author="jdcryans" created="Wed, 14 Sep 2011 00:32:57 +0000"  >&lt;p&gt;The stopper is in fact the region server itself, this.running is if that particular source is actively replicating or not. One case where the RS is running but not a source is when you close a replication stream (which happened for us can caused the problem described in this jira).&lt;/p&gt;

&lt;p&gt;Not a fan of isReplicating, sort of overloaded. Thought of &quot;isSourceActive&quot;, but it doesn&apos;t convey the fact that the region server could be the cause for shutting down.&lt;/p&gt;</comment>
                            <comment id="13104262" author="stack" created="Wed, 14 Sep 2011 05:30:24 +0000"  >&lt;p&gt;ok.  isActive will do (&apos;is active RS&apos; + &apos;is active source&apos;).&lt;/p&gt;</comment>
                            <comment id="13104925" author="lhofhansl" created="Wed, 14 Sep 2011 22:03:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4404&quot; title=&quot;ReplicationSource thread is not always shutdown when a peer is removed.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4404&quot;&gt;&lt;del&gt;HBASE-4404&lt;/del&gt;&lt;/a&gt; is a dup of this one.&lt;/p&gt;</comment>
                            <comment id="13105699" author="jdcryans" created="Thu, 15 Sep 2011 21:30:46 +0000"  >&lt;p&gt;Merge of my patch and Lars&apos;.&lt;/p&gt;</comment>
                            <comment id="13105706" author="stack" created="Thu, 15 Sep 2011 21:34:30 +0000"  >&lt;p&gt;@Lars You want to review J-Ds and +1 it?&lt;/p&gt;</comment>
                            <comment id="13105707" author="lhofhansl" created="Thu, 15 Sep 2011 21:36:59 +0000"  >&lt;p&gt;Yep, +1&lt;/p&gt;</comment>
                            <comment id="13105712" author="jdcryans" created="Thu, 15 Sep 2011 21:49:53 +0000"  >&lt;p&gt;Committed to branch and trunk, thanks for the help Lars!&lt;/p&gt;</comment>
                            <comment id="13105792" author="hudson" created="Fri, 16 Sep 2011 00:32:45 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2216 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2216/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2216/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4363&quot; title=&quot;[replication] ReplicationSource won&amp;#39;t close if failing to contact the sink&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4363&quot;&gt;&lt;del&gt;HBASE-4363&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; ReplicationSource won&apos;t close if failing&lt;br/&gt;
               to contact the sink (JD and Lars Hofhansl)&lt;/p&gt;

&lt;p&gt;jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15015762" author="lars_francke" created="Fri, 20 Nov 2015 11:52:30 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12494700" name="HBASE-4363-0.90-v2.patch" size="2992" author="jdcryans" created="Thu, 15 Sep 2011 21:30:46 +0000"/>
                            <attachment id="12494349" name="HBASE-4363-0.90.patch" size="1807" author="jdcryans" created="Wed, 14 Sep 2011 00:13:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Sep 2011 00:25:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hqlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101570</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>