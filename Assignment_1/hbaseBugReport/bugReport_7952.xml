<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:50:38 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7952/HBASE-7952.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7952] Remove update() and Improve ExplicitColumnTracker performance.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7952</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In ColumnTracker.java, the update() method is not used by anyone now. And no one will call checkColumn for different HFiles with update() in between files to re-walk through the target columns. All columns will be feed to checkColumn() in order.&lt;/p&gt;

&lt;p&gt;So, within ExplicitColumnTracker, the target columns can be optimized to not dynamic maintain a changing list of columns yet to match. Instead, just move index through it is enough.&lt;/p&gt;

&lt;p&gt;with this optimization to save the time for avoid reconstruct a columns array upon each row, the checkColumn method&apos;s performance could be improved by 10-20%.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634370">HBASE-7952</key>
            <summary>Remove update() and Improve ExplicitColumnTracker performance.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="colorant">Raymond Liu</assignee>
                                    <reporter username="colorant">Raymond Liu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Feb 2013 07:54:56 +0000</created>
                <updated>Mon, 23 Sep 2013 18:31:21 +0000</updated>
                            <resolved>Wed, 13 Mar 2013 06:05:27 +0000</resolved>
                                    <version>0.94.1</version>
                    <version>0.94.5</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13588097" author="colorant" created="Wed, 27 Feb 2013 08:03:49 +0000"  >&lt;p&gt;Patch submitted, please help to take a review&lt;/p&gt;</comment>
                            <comment id="13588156" author="hadoopqa" created="Wed, 27 Feb 2013 09:15:29 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571158/HBASE_7952.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571158/HBASE_7952.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13588251" author="yuzhihong@gmail.com" created="Wed, 27 Feb 2013 11:50:15 +0000"  >&lt;p&gt;Do you have performance comparison numbers before and after the change ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13588601" author="sershe" created="Wed, 27 Feb 2013 18:34:59 +0000"  >&lt;p&gt;The patch looks reasonable. Are findbugs warnings above real? &lt;/p&gt;</comment>
                            <comment id="13588813" author="yuzhihong@gmail.com" created="Wed, 27 Feb 2013 21:45:02 +0000"  >&lt;p&gt;Please fix the following two javadoc warnings:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[WARNING] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java:44: warning - Tag @link: can&apos;t find update in org.apache.hadoop.hbase.regionserver.ColumnTracker
[WARNING] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java:51: warning - Tag @link: can&apos;t find update in org.apache.hadoop.hbase.regionserver.ExplicitColumnTracker
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13589016" author="colorant" created="Thu, 28 Feb 2013 01:35:23 +0000"  >&lt;p&gt;Thanks for review, Ted, Sergey.&lt;/p&gt;

&lt;p&gt;Patch updated for the javadoc warnings.&lt;/p&gt;

&lt;p&gt;btw. Ted, I am curious how did you find the javadoc warnings in the Test results?  I search through the testReport generated above. could not find these lines. What&apos;s the proper way to located them by myself from the generated test report?&lt;/p&gt;</comment>
                            <comment id="13589051" author="colorant" created="Thu, 28 Feb 2013 01:48:01 +0000"  >&lt;p&gt;And I do micro benchmark the performance by something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n = 0; n &amp;lt; times; n++) {
       explicit.reset();
       &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; colnum; i++) {
         &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] col = Bytes.toBytes(&lt;span class=&quot;code-quote&quot;&gt;&quot;col&quot;&lt;/span&gt;+i);
         explicit.checkColumn(col, 0, col.length, 1, KeyValue.Type.Put.getCode(),
             &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
       }
     }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;with times=2000000 cols=10, the time cost of before/after is 7950ms/7100ms&lt;/p&gt;</comment>
                            <comment id="13589125" author="yuzhihong@gmail.com" created="Thu, 28 Feb 2013 02:53:14 +0000"  >&lt;p&gt;@Raymond:&lt;br/&gt;
You can find javadoc warning in patchJavadocWarnings.txt under &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4572/artifact/trunk/patchprocess/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4572/artifact/trunk/patchprocess/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13589140" author="colorant" created="Thu, 28 Feb 2013 03:38:08 +0000"  >&lt;p&gt;Hi Ted, thanks for the Info &lt;br/&gt;
And, is there anything I need to do to trigger the rebuild of updated patch? click the Cancel patch button and click submit patch again? Or the QA build is triggered manually by commiter?&lt;/p&gt;</comment>
                            <comment id="13589141" author="stack" created="Thu, 28 Feb 2013 03:43:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=colorant&quot; class=&quot;user-hover&quot; rel=&quot;colorant&quot;&gt;Raymond Liu&lt;/a&gt; Thank you for digging in this part of the code.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;And no one will call checkColumn for different HFiles with update() in between files to re-walk through the target columns. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We will not need to readjust/notice as we cross file boundaries?  It seems like this facility is unused now but you foresee no need in the future?  I can well imagine that this was added as a &apos;just-in-case&apos; in the past and that reality turned out to be otherwise.&lt;/p&gt;

&lt;p&gt;Are there unit tests that verify your assertions that:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;All columns will be feed to checkColumn() in order.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;... even as we cross file boundaries?&lt;/p&gt;

&lt;p&gt;Otherwise, it looks like a nice optimization if it passes.  Thanks.&lt;/p&gt;





&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; You want to take a look see?&lt;/p&gt;</comment>
                            <comment id="13589145" author="hadoopqa" created="Thu, 28 Feb 2013 03:46:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571329/HBASE_7952.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571329/HBASE_7952.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.backup.TestHFileArchiving&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4594//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13589162" author="colorant" created="Thu, 28 Feb 2013 03:59:52 +0000"  >&lt;p&gt;Hi Stack&lt;/p&gt;

&lt;p&gt;I think for the normal code path, the KV should also be sorted between different storefiles by the heap before feeding to matcher in storescanner? So it will be generated to be in order.&lt;/p&gt;

&lt;p&gt;While I am not familiar with the history of this part of code. So I googled matcher.update() yesterday try to find out why it is in the way.&lt;/p&gt;

&lt;p&gt;And as &lt;a href=&quot;http://people.apache.org/~psmith/hbase/sandbox/hbase/hbase-core/xref/org/apache/hadoop/hbase/regionserver/StoreFileGetScan.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~psmith/hbase/sandbox/hbase/hbase-core/xref/org/apache/hadoop/hbase/regionserver/StoreFileGetScan.html&lt;/a&gt;, I can see there are some class do scan single storefile without comparing to the other storefile in around hbase 0.20 version. &lt;/p&gt;

&lt;p&gt;52     * &amp;lt;p&amp;gt;&lt;br/&gt;
53     * This style of StoreFile scanning goes through each&lt;br/&gt;
54     * StoreFile in its entirety, most recent first, before&lt;br/&gt;
55     * proceeding to the next StoreFile.&lt;br/&gt;
56     * &amp;lt;p&amp;gt;&lt;/p&gt;

&lt;p&gt;I don&apos;t know exact usage for this class, while I think this kind of usage is not used anymore? &lt;/p&gt;</comment>
                            <comment id="13589170" author="colorant" created="Thu, 28 Feb 2013 04:09:19 +0000"  >&lt;p&gt;And no matter how the original useage is. I think the current implementation also can not ensure that things work out correctly, if columns are feed to the column not in order. as long as the last target column is reached, the columntracker will return next row without waiting for next out of order column to come. And if the same column with different ts is feed to tracker in different order from different HFile, say c1(t1) , c2, c1(t2), the c1(t2) will still be ignored in the array list solution. So the current solution also not really help with the case that column not feed to tracker in order (if this case really need in some usage) &lt;/p&gt;</comment>
                            <comment id="13589184" author="lhofhansl" created="Thu, 28 Feb 2013 04:54:36 +0000"  >&lt;p&gt;Patch looks good. Makes ExplicitColumnTracker more readable.&lt;br/&gt;
I doubt that this will have any real world performance impact beyond the microbenchmark, though.&lt;/p&gt;</comment>
                            <comment id="13589187" author="colorant" created="Thu, 28 Feb 2013 05:01:25 +0000"  >&lt;p&gt;Hi Lars Hofhansl&lt;/p&gt;

&lt;p&gt;You are right, beyond micro benchmark, when scan a table, the performance gain is neglectable.&lt;/p&gt;

&lt;p&gt;And actually, there are another line of code in ExplicitColumnTracker did impact performance a lot, say 30% for real table scan.&lt;/p&gt;

&lt;p&gt;as I commented in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4433&quot; title=&quot;avoid extra next (potentially a seek) if done with column/row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4433&quot;&gt;&lt;del&gt;HBASE-4433&lt;/del&gt;&lt;/a&gt;, if most of the KV only have one history version. the include,then seek approaching is much faster than include_and_seek approaching. Would you mind to take a look upon that issue?&lt;/p&gt;</comment>
                            <comment id="13589188" author="stack" created="Thu, 28 Feb 2013 05:04:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=colorant&quot; class=&quot;user-hover&quot; rel=&quot;colorant&quot;&gt;Raymond Liu&lt;/a&gt; Thank you for digging into the history.  The &apos;early-out&apos; was for get-of-most-recent version; was thought that just looking in the first storeflie would in many cases be optimal is only one version required.  I&apos;ve not looked at the code in a while.  This form of &apos;early-out&apos; may indeed have been dropped.&lt;/p&gt;

&lt;p&gt;So, should you add a big &quot;PRESUMES COLUMNS ARE COMING IN ORDER&apos; note at the top of the tracker?   And, can you think of a unit test that where we could have the columns come out of order given some layout in the storefiles?&lt;/p&gt;

&lt;p&gt;Looks like you need to edit more of the javadoc.  Javadoc says &apos;two methods&apos; still though you now are removing one.  Hate to be a stickler on this but this stuff is complicated enough and an out-of-place javadoc could throw off newcomers.&lt;/p&gt;

&lt;p&gt;Is this a good way to do done when say a row does NOT have all the columns explicitly asked for?&lt;/p&gt;

&lt;p&gt;   public boolean done() &lt;/p&gt;
{
-    return this.columns.size() == 0;
+    return this.index &amp;gt;= this.columns.size();
   }

&lt;p&gt;This looks like a good change;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if(this.columns.size() == 0) {&lt;br/&gt;
+      if(done()) {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(What was there before didn&apos;t help)&lt;/p&gt;

&lt;p&gt;This change looks good too...&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;// Note: because we are done with this column, and are removing&lt;/li&gt;
	&lt;li&gt;// it from columns, we don&apos;t do a ++this.index. The index stays&lt;/li&gt;
	&lt;li&gt;// the same but the columns have shifted within the array such&lt;/li&gt;
	&lt;li&gt;// that index now points to the next column we are interested in.&lt;/li&gt;
	&lt;li&gt;this.columns.remove(this.index);&lt;br/&gt;
-&lt;br/&gt;
+          ++this.index;&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;What was there previous defied the way folks normally think about these things.&lt;/p&gt;

&lt;p&gt;Sorry, I don&apos;t know this code well enough.  What you are doing looks good.  Is there good test coverage for this stuff do you know?&lt;/p&gt;</comment>
                            <comment id="13589218" author="colorant" created="Thu, 28 Feb 2013 05:34:42 +0000"  >&lt;p&gt;Hi stack, thanks for review.&lt;/p&gt;

&lt;p&gt;Strange, I don&apos;t see java doc warning in the second QA build, and the findbugs warning is also not related. where did you find the two methods?&lt;/p&gt;

&lt;p&gt;It can easily fake a test case to feed columns out of order to tracker by call it directly, But I don&apos;t know any way to do this through StoreScanner. StoreScanner will always have it ordered. So I am not sure a unit test case to feed columns out of order is for what purpose? Do you mean we need an assert to guard against this situation? Then it seems StoreScanner&apos;s next method already check this. Do you think we need to double check this in columnTracker?&lt;/p&gt;
</comment>
                            <comment id="13589231" author="stack" created="Thu, 28 Feb 2013 05:59:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=colorant&quot; class=&quot;user-hover&quot; rel=&quot;colorant&quot;&gt;Raymond Liu&lt;/a&gt; Is it not a javadoc warning.  It is this text: &apos; * Currently there are two different types of Store/Family-level queries.&apos; in ColumnTracker and a variant is repeated in the Explicit*.  The text says two types but there is only one now because you are removing &apos;update&apos;, one of the options, in this patch.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Do you think we need to double check this in columnTracker?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Not if there are enough guards against this happening already.  Do you think there are?  What are they?  Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=colorant&quot; class=&quot;user-hover&quot; rel=&quot;colorant&quot;&gt;Raymond Liu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13589237" author="colorant" created="Thu, 28 Feb 2013 06:18:24 +0000"  >&lt;p&gt;Hi stack.&lt;br/&gt;
Thanks! good catch. I think the doc need to be modified a lot. when it mention two type, it does not mention wildcardColumnTracker. And then, when it mention two method, actually, it should be more than two, all the public method is accessed by the ScanQueryMatcher. I think the doc is quite out of time.&lt;/p&gt;

&lt;p&gt;And since this is not tightly related to the delete of update() but rather fix of the doc, do you think we should do it in this patch or in separate patch?&lt;/p&gt;


&lt;p&gt;And , for the guard, the StoreScanner.next() will do that:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

379         &lt;span class=&quot;code-comment&quot;&gt;// Check that the heap gives us KVs in an increasing order.
&lt;/span&gt;380         &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; prevKV == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || comparator == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || comparator.compare(prevKV, kv) &amp;lt;= 0 :
381           &lt;span class=&quot;code-quote&quot;&gt;&quot;Key &quot;&lt;/span&gt; + prevKV + &lt;span class=&quot;code-quote&quot;&gt;&quot; followed by a &quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;smaller key &quot;&lt;/span&gt; + kv + &lt;span class=&quot;code-quote&quot;&gt;&quot; in cf &quot;&lt;/span&gt; + store;
382         prevKV = kv;
383         ScanQueryMatcher.MatchCode qcode = matcher.match(kv);

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I guess it is enough?&lt;/p&gt;</comment>
                            <comment id="13589245" author="stack" created="Thu, 28 Feb 2013 06:39:05 +0000"  >&lt;p&gt;I think should be in this change since you are in the area already and you have an understanding that few have.&lt;/p&gt;

&lt;p&gt;Regards the check, we don&apos;t run with asserts enabled so in production a key could come in that sorts above the current kv.  But adding the extra compare of every kv would be a big cost to take on.&lt;/p&gt;

&lt;p&gt;Could the merge be thrown out of whack when a new file is added in after a flush?&lt;/p&gt;</comment>
                            <comment id="13589305" author="colorant" created="Thu, 28 Feb 2013 07:39:28 +0000"  >&lt;p&gt;Patch updated to modify the javadoc&lt;/p&gt;</comment>
                            <comment id="13589308" author="lhofhansl" created="Thu, 28 Feb 2013 07:44:06 +0000"  >&lt;p&gt;I had changed the check to an assertion for performance reason.&lt;br/&gt;
I think if KVs reach the StoreScanner out of order we have much bigger problems.&lt;/p&gt;</comment>
                            <comment id="13589314" author="stack" created="Thu, 28 Feb 2013 07:53:16 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=colorant&quot; class=&quot;user-hover&quot; rel=&quot;colorant&quot;&gt;Raymond Liu&lt;/a&gt; +1 on patch (Note to self, run w/ asserts enabled testing).  Will wait on hadoopqa before committing.&lt;/p&gt;</comment>
                            <comment id="13589350" author="hadoopqa" created="Thu, 28 Feb 2013 08:46:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571371/HBASE_7952_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571371/HBASE_7952_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4599//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13589378" author="colorant" created="Thu, 28 Feb 2013 09:34:25 +0000"  >&lt;p&gt;oops, update patch to break the long line&lt;/p&gt;</comment>
                            <comment id="13589421" author="hadoopqa" created="Thu, 28 Feb 2013 10:42:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571386/HBASE_7952_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571386/HBASE_7952_v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestZKBasedOpenCloseRegion&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4600//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13592868" author="colorant" created="Tue, 5 Mar 2013 00:49:17 +0000"  >&lt;p&gt;Hi, anything else I need to do for this patch?&lt;/p&gt;</comment>
                            <comment id="13592920" author="lhofhansl" created="Tue, 5 Mar 2013 01:40:10 +0000"  >&lt;p&gt;It just needs to get committed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Targeting 0.98 for now. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, you want this in 0.95?&lt;/p&gt;</comment>
                            <comment id="13600870" author="stack" created="Wed, 13 Mar 2013 06:05:27 +0000"  >&lt;p&gt;Committed to 0.95 too (Lars applied it to trunk earlier).  Resolving.  Thanks for diggin in here &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=colorant&quot; class=&quot;user-hover&quot; rel=&quot;colorant&quot;&gt;Raymond Liu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13600939" author="hudson" created="Wed, 13 Mar 2013 08:16:24 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #68 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/68/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/68/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7952&quot; title=&quot;Remove update() and Improve ExplicitColumnTracker performance.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7952&quot;&gt;&lt;del&gt;HBASE-7952&lt;/del&gt;&lt;/a&gt; Remove update() and Improve ExplicitColumnTracker performance (Revision 1455804)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13601123" author="hudson" created="Wed, 13 Mar 2013 13:08:58 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #24 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/24/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/24/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7952&quot; title=&quot;Remove update() and Improve ExplicitColumnTracker performance.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7952&quot;&gt;&lt;del&gt;HBASE-7952&lt;/del&gt;&lt;/a&gt; Remove update() and Improve ExplicitColumnTracker performance (Revision 1455804)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13710748" author="lhofhansl" created="Wed, 17 Jul 2013 05:49:21 +0000"  >&lt;p&gt;Looks like this was never applied to trunk. At least I do not see it there.&lt;br/&gt;
(Just looked at trunk, because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8945&quot; title=&quot;Backport to 0.94: HBASE-7952 Remove update() and Improve ExplicitColumnTracker performance.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8945&quot;&gt;&lt;del&gt;HBASE-8945&lt;/del&gt;&lt;/a&gt;.)&lt;/p&gt;</comment>
                            <comment id="13711734" author="lhofhansl" created="Wed, 17 Jul 2013 22:32:32 +0000"  >&lt;p&gt;Also committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13711851" author="hudson" created="Thu, 18 Jul 2013 00:31:39 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #215 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/215/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/215/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8945&quot; title=&quot;Backport to 0.94: HBASE-7952 Remove update() and Improve ExplicitColumnTracker performance.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8945&quot;&gt;&lt;del&gt;HBASE-8945&lt;/del&gt;&lt;/a&gt; Backport to 0.94: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7952&quot; title=&quot;Remove update() and Improve ExplicitColumnTracker performance.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7952&quot;&gt;&lt;del&gt;HBASE-7952&lt;/del&gt;&lt;/a&gt; Remove update() and Improve ExplicitColumnTracker performance. (orginal path by Raymond Liu) (larsh: rev 1504313)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13711904" author="hudson" created="Thu, 18 Jul 2013 01:17:51 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #621 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/621/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/621/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7952&quot; title=&quot;Remove update() and Improve ExplicitColumnTracker performance.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7952&quot;&gt;&lt;del&gt;HBASE-7952&lt;/del&gt;&lt;/a&gt; Remove update() and Improve ExplicitColumnTracker performance (Raymond Liu) (larsh: rev 1504310)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13711933" author="hudson" created="Thu, 18 Jul 2013 02:00:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4264 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4264/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4264/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7952&quot; title=&quot;Remove update() and Improve ExplicitColumnTracker performance.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7952&quot;&gt;&lt;del&gt;HBASE-7952&lt;/del&gt;&lt;/a&gt; Remove update() and Improve ExplicitColumnTracker performance (Raymond Liu) (larsh: rev 1504310)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13711945" author="hudson" created="Thu, 18 Jul 2013 02:24:05 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1061 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1061/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1061/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8945&quot; title=&quot;Backport to 0.94: HBASE-7952 Remove update() and Improve ExplicitColumnTracker performance.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8945&quot;&gt;&lt;del&gt;HBASE-8945&lt;/del&gt;&lt;/a&gt; Backport to 0.94: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7952&quot; title=&quot;Remove update() and Improve ExplicitColumnTracker performance.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7952&quot;&gt;&lt;del&gt;HBASE-7952&lt;/del&gt;&lt;/a&gt; Remove update() and Improve ExplicitColumnTracker performance. (orginal path by Raymond Liu) (larsh: rev 1504313)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775367" author="stack" created="Mon, 23 Sep 2013 18:31:21 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12571329" name="HBASE_7952.patch" size="8987" author="colorant" created="Thu, 28 Feb 2013 01:28:14 +0000"/>
                            <attachment id="12571371" name="HBASE_7952_v2.patch" size="10284" author="colorant" created="Thu, 28 Feb 2013 07:39:28 +0000"/>
                            <attachment id="12571386" name="HBASE_7952_v3.patch" size="10362" author="colorant" created="Thu, 28 Feb 2013 09:34:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Feb 2013 09:15:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ic0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315207</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>