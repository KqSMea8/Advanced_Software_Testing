<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:52:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8197/HBASE-8197.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8197] Cannot distinguish between HBase default config value and client overridden config value</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8197</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;By HBase setting default values in hbase-default.xml, it makes it difficult for a platform to know if a value has been overridden by the client. For example, Phoenix has a default value it would like to use for hbase.client.scanner.caching. I&apos;d like to be able to call config.setIfUnset option to use our default value if a client hasn&apos;t already provided their own. Since HBase sets this in hbase-default.xml to 1, I can&apos;t differentiate between the client have a value in their hbase-sites.xml as 1 versus the default value we&apos;re getting from HBase.&lt;/p&gt;

&lt;p&gt;Wouldn&apos;t it be better if HBase had constants defined in a Java interface that would be used by HBase as the default value if none other is provided, like this:&lt;/p&gt;

&lt;p&gt;    config.getInt(&quot;hbase.client.scanner.caching&quot;, HBaseDefault.CLIENT_SCANNER_CACHING);&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12639040">HBASE-8197</key>
            <summary>Cannot distinguish between HBase default config value and client overridden config value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="giacomotaylor">James Taylor</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Mar 2013 05:08:58 +0000</created>
                <updated>Thu, 28 Mar 2013 00:09:58 +0000</updated>
                                            <version>0.94.6</version>
                                                    <component>Usability</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13615543" author="jmhsieh" created="Wed, 27 Mar 2013 17:50:25 +0000"  >&lt;p&gt;Is this sufficient? (notice the &quot;Loaded from ...&quot; comment).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[jon@a1222 ~]$ hbase org.apache.hadoop.hbase.HBaseConfiguration
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; standalone=&lt;span class=&quot;code-quote&quot;&gt;&quot;no&quot;&lt;/span&gt;?&amp;gt;&amp;lt;configuration&amp;gt;
&amp;lt;property&amp;gt;&amp;lt;!--Loaded from hbase-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.xml--&amp;gt;&amp;lt;name&amp;gt;hbase.online.schema.update.enable&amp;lt;/name&amp;gt;&amp;lt;value&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
&amp;lt;property&amp;gt;&amp;lt;!--Loaded from hbase-site.xml--&amp;gt;&amp;lt;name&amp;gt;hbase.master.port&amp;lt;/name&amp;gt;&amp;lt;value&amp;gt;57000&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13615549" author="jmspaggi" created="Wed, 27 Mar 2013 17:53:22 +0000"  >&lt;p&gt;That will be a nice add!&lt;/p&gt;</comment>
                            <comment id="13615552" author="jmhsieh" created="Wed, 27 Mar 2013 17:54:17 +0000"  >&lt;p&gt;If you have a custom hbase-site.xml for your client in your classpath, it should show those values and the fact it came from there when you run the HBaseConfiguration command. &lt;/p&gt;

&lt;p&gt;Doesn&apos;t look like it is in the ref guide &amp;#8211; we should add a little section about it, filing a follow on.&lt;/p&gt;</comment>
                            <comment id="13615599" author="jmhsieh" created="Wed, 27 Mar 2013 18:28:10 +0000"  >&lt;p&gt;This is already in my hbase testing clusters &amp;#8211; a hbase 0.96.5rc on top of hadoop2.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt; from the reaction, it sounds like this may be something only in hadoop2 (which I run/test on top of).  If you run this on hbase+hadoop1 do you get the &quot;loaded from&quot; info?&lt;/p&gt;</comment>
                            <comment id="13615617" author="jmspaggi" created="Wed, 27 Mar 2013 18:43:09 +0000"  >&lt;p&gt;Here is what I&apos;m getting from 0.94.6 + Hadoop 1.0.3&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase@node3:~/hbase-0.94.6$ bin/hbase org.apache.hadoop.hbase.HBaseConfiguration
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; standalone=&lt;span class=&quot;code-quote&quot;&gt;&quot;no&quot;&lt;/span&gt;?&amp;gt;&amp;lt;configuration&amp;gt;
&amp;lt;property&amp;gt;&amp;lt;name&amp;gt;hbase.online.schema.update.enable&amp;lt;/name&amp;gt;&amp;lt;value&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
&amp;lt;property&amp;gt;&amp;lt;name&amp;gt;fs.s3n.impl&amp;lt;/name&amp;gt;&amp;lt;value&amp;gt;org.apache.hadoop.fs.s3native.NativeS3FileSystem&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
&amp;lt;property&amp;gt;&amp;lt;name&amp;gt;hbase.master.port&amp;lt;/name&amp;gt;&amp;lt;value&amp;gt;60000&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
&amp;lt;property&amp;gt;&amp;lt;name&amp;gt;hbase.hstore.compaction.max&amp;lt;/name&amp;gt;&amp;lt;value&amp;gt;10&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13615864" author="giacomotaylor" created="Wed, 27 Mar 2013 22:48:16 +0000"  >&lt;p&gt;Would there be programmatic access via the Configuration interface to the &quot;loaded from&quot; information? Even if there were, though, I&apos;m not sure it would be more than a &quot;clue&quot; that it&apos;s the default value. Isn&apos;t it just by convention that the hbase defaults are in a file called hbase-defaults.xml and the user overrides are in hbase-sites.xml? What if a user names their configuration hbase-defaults.xml?&lt;/p&gt;

&lt;p&gt;My scenario is that for Phoenix I&apos;d like to let the user control their configuration, but if they haven&apos;t provided their own value, I&apos;d like to use a reasonable system default at runtime (which may differ from the hbase default).&lt;/p&gt;</comment>
                            <comment id="13615910" author="jmhsieh" created="Thu, 28 Mar 2013 00:09:05 +0000"  >&lt;p&gt;Looks like what you need is available hm.. the diff between older hadoop and hadoop2 is this:&lt;/p&gt;

&lt;p&gt;in Hadoop&apos;s Configuration.java file.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hadoop-common/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java#L2113&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hadoop-common/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java#L2113&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (updatingResource != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] sources = updatingResource.get(name);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(sources != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
          &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; s : sources) {
            Element sourceNode = doc.createElement(&lt;span class=&quot;code-quote&quot;&gt;&quot;source&quot;&lt;/span&gt;);
            sourceNode.appendChild(doc.createTextNode(s));
            propNode.appendChild(sourceNode);
          }
        }
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;And your can get the chain via: Configuraiton.getPropertySources. &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hadoop-common/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java#L1172&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hadoop-common/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configuration.java#L1172&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=giacomotaylor&quot; class=&quot;user-hover&quot; rel=&quot;giacomotaylor&quot;&gt;James Taylor&lt;/a&gt; how about we change this into a documentation jira (which would be something along the line of if you use hadoop2&apos;s hadoop-common&apos;s configuratoin you get this).?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Mar 2013 17:50:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j4o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>