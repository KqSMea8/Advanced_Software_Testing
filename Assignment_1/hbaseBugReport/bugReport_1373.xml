<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:52:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1373/HBASE-1373.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1373] Update Thrift to use compact/framed protocol</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1373</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;TCompactProtocol/TFramedTransport and nonblocking server option promises better efficiency and performance improvements. Consider moving HBase Thrift bits to this when full platform support is ready for TCompactProtocol. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12424643">HBASE-1373</key>
            <summary>Update Thrift to use compact/framed protocol</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lars_francke">Lars Francke</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 May 2009 21:38:04 +0000</created>
                <updated>Fri, 20 Nov 2015 13:01:30 +0000</updated>
                            <resolved>Sat, 23 Jan 2010 20:49:13 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                    <component>Thrift</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12706209" author="apurtell" created="Tue, 5 May 2009 21:38:21 +0000"  >&lt;p&gt;Some background: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1367?focusedCommentId=12706191&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_12706191&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-1367?focusedCommentId=12706191&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_12706191&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12785096" author="lars_francke" created="Thu, 3 Dec 2009 00:56:27 +0000"  >&lt;p&gt;As far as I know this protocol is only implemented for C++, Ruby and Java so I wouldn&apos;t use it as a standard option (mostly because I need Python &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ) but as I am rewriting the Thrift interface anyway (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1744&quot; title=&quot;Thrift server to match the new java api.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1744&quot;&gt;&lt;del&gt;HBASE-1744&lt;/del&gt;&lt;/a&gt;) I could add an option to choose between the current binary and the new compact protocol at startup. If needed two instances could be started on two different ports with different protocols. (Same goes for the FramedTransport which seems to be implemented for most languages)&lt;/p&gt;

&lt;p&gt;Would that be okay?&lt;/p&gt;</comment>
                            <comment id="12785100" author="ryanobjc" created="Thu, 3 Dec 2009 01:02:08 +0000"  >&lt;p&gt;Lars is dead on here - compact/framed doesnt work for php, thus it&apos;s a non starter for us.  Maybe for C++ or Ruby access, but Java, you might as well use the native client.&lt;/p&gt;</comment>
                            <comment id="12802244" author="lars_francke" created="Tue, 19 Jan 2010 13:28:44 +0000"  >&lt;p&gt;Could we get this reopened and possibly assigned to me?&lt;/p&gt;

&lt;p&gt;I&apos;ll use this to implement the compact protocol and framed transport as &lt;em&gt;options&lt;/em&gt; for the old Thrift API.&lt;/p&gt;</comment>
                            <comment id="12802393" author="stack" created="Tue, 19 Jan 2010 18:14:56 +0000"  >&lt;p&gt;Assigning LarsF at his request.&lt;/p&gt;</comment>
                            <comment id="12803121" author="lars_francke" created="Thu, 21 Jan 2010 01:49:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-65&quot; title=&quot;Thrift Server should have an option to bind to ip address&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-65&quot;&gt;&lt;del&gt;HBASE-65&lt;/del&gt;&lt;/a&gt; wasn&apos;t actually fixed with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1360&quot; title=&quot;move up to Thrift 0.2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1360&quot;&gt;&lt;del&gt;HBASE-1360&lt;/del&gt;&lt;/a&gt;, that must have been a misunderstanding. I&apos;ll do both here and I&apos;ve got a patch ready that implements parts of both tickets.&lt;/p&gt;

&lt;p&gt;This patch adds various command line switches. It also solves &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-65&quot; title=&quot;Thrift Server should have an option to bind to ip address&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-65&quot;&gt;&lt;del&gt;HBASE-65&lt;/del&gt;&lt;/a&gt; but it wasn&apos;t sensible to split those in two different patches.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Option to use a framed transport&lt;/li&gt;
	&lt;li&gt;Option to use the compact protocol&lt;/li&gt;
	&lt;li&gt;Option to bind to a specific IP address&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;One change in behavior but I don&apos;t think anyone is affected by it and I&apos;d call it a bugfix (although it makes the command line parsing ugly).&lt;/p&gt;

&lt;p&gt;bin/hbase should print usage information when invoked without an argument. The current Thrift server starts when no argument is provided: &lt;tt&gt;bin/hbase thrift&lt;/tt&gt;. With this change the Thrift server prints usage information when called this way and only starts when the &lt;tt&gt;start&lt;/tt&gt; argument is provided.&lt;/p&gt;

&lt;p&gt;Apart from this everything should stay the same as before as the defaults stayed the same.&lt;/p&gt;

&lt;p&gt;I&apos;ve also added documentation for this but as english is my second language I&apos;d appreciate a review.&lt;br/&gt;
For the links in the documentation to actually work we need to generate Javadoc for the generated Thrift classes but those classes are currently excluded in the build.xml. I&apos;ve added another patch that deals with this and another outdated exclusion (onelab was completely removed in September). I decided not to open another issue as it seems we might move to Maven anytime now but I can if you want.&lt;/p&gt;

&lt;p&gt;This also lacks the option for a nonblocking server. This is because the Nonblocking Servers require a TNonblockingServerSocket which doesn&apos;t support an InetSocketAddress. So the IP address binding only works for the normal TThreadPoolServer. I&apos;ll have a look at this and will open a ticket for Thrift.&lt;/p&gt;

&lt;p&gt;tl;dr: The patch fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-65&quot; title=&quot;Thrift Server should have an option to bind to ip address&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-65&quot;&gt;&lt;del&gt;HBASE-65&lt;/del&gt;&lt;/a&gt; + &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1373&quot; title=&quot;Update Thrift to use compact/framed protocol&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1373&quot;&gt;&lt;del&gt;HBASE-1373&lt;/del&gt;&lt;/a&gt; &lt;em&gt;except&lt;/em&gt; that it only supports the old ThreadpoolServer and not the Nonblocking servers. This is for review only. I&apos;ll try to fix the rest.&lt;/p&gt;</comment>
                            <comment id="12803131" author="stack" created="Thu, 21 Jan 2010 02:19:24 +0000"  >&lt;p&gt;Pardon me Lars.  I saw the --port arg. and read it as ip.  I&apos;ll leave it closed for now since looks like you are about to fix it anyways.&lt;/p&gt;

&lt;p&gt;I think the above change an improvement.&lt;/p&gt;

&lt;p&gt;Let me add the javadoc.patch now.&lt;/p&gt;
</comment>
                            <comment id="12803138" author="stack" created="Thu, 21 Jan 2010 02:32:03 +0000"  >&lt;p&gt;I made hbase-2151 to add the javadoc but there are 82 warnings that need fixing before I can apply it.&lt;/p&gt;

&lt;p&gt;I took a look at this patch.  There is nothing wrong with the english.  Its great.  The rest of the patch looks fine to me (Try and avoid white-space-only changes if you can making patches in future).  I didn&apos;t test it though.  Let me know when you think it ready and I will try it out.&lt;/p&gt;</comment>
                            <comment id="12803154" author="lars_francke" created="Thu, 21 Jan 2010 03:24:38 +0000"  >&lt;p&gt;I&apos;ve opened a ticket for this in Thrft (&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-684&quot; title=&quot;Add constructor to TNonblockingServerSocket to accept InetSocketAddress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-684&quot;&gt;&lt;del&gt;THRIFT-684&lt;/del&gt;&lt;/a&gt;) and it is already committed. I&apos;ve fixed ThriftServer so that the --bind parameter can only be used on the ThreadPoolServer for now. We&apos;ll have to wait until Thrift 0.3 for the other to servers to support IP address binding. Really nothing else I can do at the moment. I&apos;ll attach an updated and tested patch tomorrow.&lt;/p&gt;</comment>
                            <comment id="12803156" author="lars_francke" created="Thu, 21 Jan 2010 03:25:05 +0000"  >&lt;p&gt;And I&apos;m sorry for the extra whitespace. I&apos;ll make sure the next patch is clean.&lt;/p&gt;</comment>
                            <comment id="12803483" author="stack" created="Thu, 21 Jan 2010 21:04:42 +0000"  >&lt;p&gt;Patch as I say looks good.  No javadoc warnings.  Let me know when ready to commit.  We can open a new issue to cover Nonblocking servers?&lt;/p&gt;</comment>
                            <comment id="12803562" author="lars_francke" created="Fri, 22 Jan 2010 00:52:41 +0000"  >&lt;p&gt;This should be the final patch. It includes the option to start the two Nonblocking servers. I think I&apos;ve documented everything.&lt;/p&gt;

&lt;p&gt;I&apos;ve also incorporated the changes that were required because of the Nonblocking servers not yet supporting IP address binding.&lt;/p&gt;</comment>
                            <comment id="12804082" author="lars_francke" created="Sat, 23 Jan 2010 14:00:24 +0000"  >&lt;p&gt;Updated patch after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2153&quot; title=&quot;Publish generated HTML documentation for Thrift on the website&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2153&quot;&gt;&lt;del&gt;HBASE-2153&lt;/del&gt;&lt;/a&gt; has been applied (ThriftServer is the same, only change is to package.html)&lt;/p&gt;</comment>
                            <comment id="12804136" author="stack" created="Sat, 23 Jan 2010 20:49:13 +0000"  >&lt;p&gt;Committed to TRUNK.  Thanks for the patch Lars Francke.&lt;/p&gt;</comment>
                            <comment id="15017819" author="lars_francke" created="Fri, 20 Nov 2015 13:01:30 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12424350">HBASE-1360</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12431082" name="HBase-65+1373.2.patch" size="13975" author="lars_francke" created="Fri, 22 Jan 2010 00:52:41 +0000"/>
                            <attachment id="12431212" name="HBase-65+1373.3.patch" size="14076" author="lars_francke" created="Sat, 23 Jan 2010 14:00:24 +0000"/>
                            <attachment id="12430975" name="HBase-65+1373.patch" size="22199" author="lars_francke" created="Thu, 21 Jan 2010 01:49:52 +0000"/>
                            <attachment id="12430976" name="javadoc.patch" size="464" author="lars_francke" created="Thu, 21 Jan 2010 01:49:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Dec 2009 00:56:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hcuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>