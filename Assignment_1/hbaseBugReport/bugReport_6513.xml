<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:37:26 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6513/HBASE-6513.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6513] Test errors when building on MacOS</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6513</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Failed tests:   testBackgroundEvictionThread&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;(org.apache.hadoop.hbase.io.hfile.TestLruBlockCache): expected:&amp;lt;2&amp;gt; but was:&amp;lt;1&amp;gt;&lt;br/&gt;
  testBackgroundEvictionThread&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hadoop.hbase.io.hfile.TestLruBlockCache): expected:&amp;lt;2&amp;gt; but was:&amp;lt;1&amp;gt;&lt;br/&gt;
  testSplitCalculatorEq(org.apache.hadoop.hbase.util.TestRegionSplitCalculator): expected:&amp;lt;2&amp;gt; but was:&amp;lt;1&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;MacOSX 10.8 &lt;br/&gt;
Oracle JDK 1.7&lt;/p&gt;</environment>
        <key id="12601530">HBASE-6513</key>
            <summary>Test errors when building on MacOS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lars_francke">Lars Francke</assignee>
                                    <reporter username="trajano">Archimedes Trajano</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Aug 2012 05:14:00 +0000</created>
                <updated>Tue, 5 Mar 2013 07:52:19 +0000</updated>
                            <resolved>Wed, 6 Feb 2013 15:02:00 +0000</resolved>
                                    <version>0.94.6</version>
                    <version>0.95.0</version>
                                    <fixVersion>0.94.5</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13429399" author="stack" created="Mon, 6 Aug 2012 20:35:23 +0000"  >&lt;p&gt;Happens every time?&lt;/p&gt;</comment>
                            <comment id="13571236" author="lars_francke" created="Tue, 5 Feb 2013 11:27:43 +0000"  >&lt;p&gt;Lars George and I are running into the same problem. It works sometimes apparently...&lt;br/&gt;
This is using Java 7 update 13 as well as Java 6.&lt;br/&gt;
Running the test separately using an IDE or on the command line using Maven we have never seen this issue.&lt;/p&gt;

&lt;p&gt;This is from the logs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-02-05 12:17:39,883 INFO  [pool-1-thread-1] hbase.ResourceChecker(147): before: util.TestRegionSplitCalculator#testSplitCalculatorEq &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=76, OpenFileDescriptor=153, MaxFileDescriptor=10240, ConnectionCount=1
2013-02-05 12:17:39,884 INFO  [pool-1-thread-1] util.TestRegionSplitCalculator(297): AC and AC overlap completely
2013-02-05 12:17:39,884 INFO  [pool-1-thread-1] util.TestRegionSplitCalculator(118): 
A:      [A, C]  
C:      

2013-02-05 12:17:39,888 INFO  [pool-1-thread-1] hbase.ResourceChecker(171): after: util.TestRegionSplitCalculator#testSplitCalculatorEq &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=76 (was 76), OpenFileDescriptor=153 (was 153), MaxFileDescriptor=10240 (was 10240), ConnectionCount=1 (was 1)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll try to take a look at it.&lt;/p&gt;</comment>
                            <comment id="13571280" author="lars_francke" created="Tue, 5 Feb 2013 13:08:57 +0000"  >&lt;p&gt;Found the issue. It&apos;s the tiebreaker in the SimpleRange class which isn&apos;t breaking the tie because nanoTime apparently doesn&apos;t have a good enough resolution on a Mac.&lt;/p&gt;

&lt;p&gt;I&apos;ve replaced the long with a UUID and it seems to work. I&apos;ll create a patch.&lt;/p&gt;</comment>
                            <comment id="13571282" author="larsgeorge" created="Tue, 5 Feb 2013 13:14:21 +0000"  >&lt;p&gt;Lars and I have the same issue on our Macs. Will test his patch (he is working on one) and commit once confirmed it works for both of us.&lt;/p&gt;</comment>
                            <comment id="13571284" author="lars_francke" created="Tue, 5 Feb 2013 13:22:09 +0000"  >&lt;p&gt;Two patches. Both fix the problem.&lt;/p&gt;

&lt;p&gt;The extended one also fixes the assert* calls to use the proper order of &lt;tt&gt;expected, actual&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13571472" author="larsgeorge" created="Tue, 5 Feb 2013 17:11:19 +0000"  >&lt;p&gt;Applied extended test and retried tests, all working for me. Going to commit soon.&lt;/p&gt;</comment>
                            <comment id="13571477" author="larsgeorge" created="Tue, 5 Feb 2013 17:17:45 +0000"  >&lt;p&gt;Lars, could you please also provide a patch for 0.94 branch?&lt;/p&gt;</comment>
                            <comment id="13571553" author="yuzhihong@gmail.com" created="Tue, 5 Feb 2013 18:31:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=larsgeorge&quot; class=&quot;user-hover&quot; rel=&quot;larsgeorge&quot;&gt;Lars George&lt;/a&gt;:&lt;br/&gt;
There&apos;re two patches attached to this JIRA. Can you clarify which one(s) you integrated ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13571641" author="lars_francke" created="Tue, 5 Feb 2013 19:33:37 +0000"  >&lt;p&gt;Patch for 0.94 branch&lt;/p&gt;</comment>
                            <comment id="13571658" author="yuzhihong@gmail.com" created="Tue, 5 Feb 2013 19:41:36 +0000"  >&lt;p&gt;I looped TestRegionSplitCalculator 10 times in 0.94 with patch and they passed.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;This patch is needed because some people would run 0.94 test suite on Mac.&lt;/p&gt;</comment>
                            <comment id="13571672" author="larsgeorge" created="Tue, 5 Feb 2013 19:55:31 +0000"  >&lt;p&gt;Hi Ted, I applied the extended patch as it cleaned up further nits with the original test. I am going to apply the 0.94 patch as well after running the test in a loop, like I did with the 0.96 patch. Please note that without the patch I saw the error every now and then, Lars saw it more often. But it clearly was reoccurring. With the patch it passes all the time.&lt;/p&gt;</comment>
                            <comment id="13571695" author="hudson" created="Tue, 5 Feb 2013 20:21:00 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3853 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3853/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6513&quot; title=&quot;Test errors when building on MacOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6513&quot;&gt;&lt;del&gt;HBASE-6513&lt;/del&gt;&lt;/a&gt; Test errors when building on MacOS (Lars Francke) (Revision 1442669)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsgeorge : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestRegionSplitCalculator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13571715" author="larsgeorge" created="Tue, 5 Feb 2013 20:53:59 +0000"  >&lt;p&gt;I have committed the 0.96 patch, but my 0.94 test run fails. I am trying &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn -e test -Dtest=TestRegionSplitCalculator
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but am getting this&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.hadoop.hbase.util.TestRegionSplitCalculator
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.336 sec

Results :

Tests run: 15, Failures: 0, Errors: 0, Skipped: 0
...
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 7.745s
[INFO] Finished at: Tue Feb 05 21:10:15 CET 2013
[INFO] Final Memory: 22M/81M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12-TRUNK-HBASE-2:test (secondPartTestsExecution) on project hbase: No tests were executed!  (Set -DfailIfNoTests=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; to ignore &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; error.) -&amp;gt; [Help 1]
[ERROR] 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Any idea why? It compiles fine, so I would assume that all is fine. The tests seems to run fine and report no error. But overall Maven thinks I am not running any tests? Hints?&lt;/p&gt;</comment>
                            <comment id="13571718" author="yuzhihong@gmail.com" created="Tue, 5 Feb 2013 20:57:39 +0000"  >&lt;p&gt;Did you include &apos;-PlocalTests &apos; in your command line.&lt;/p&gt;

&lt;p&gt;I tried the 0.94 fix and the test passed.&lt;/p&gt;</comment>
                            <comment id="13571747" author="stack" created="Tue, 5 Feb 2013 21:34:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;Lars Francke&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=larsgeorge&quot; class=&quot;user-hover&quot; rel=&quot;larsgeorge&quot;&gt;Lars George&lt;/a&gt; &amp;#8211; thanks for fixing this one.&lt;/p&gt;</comment>
                            <comment id="13571974" author="hudson" created="Wed, 6 Feb 2013 00:24:04 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #393 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/393/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/393/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6513&quot; title=&quot;Test errors when building on MacOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6513&quot;&gt;&lt;del&gt;HBASE-6513&lt;/del&gt;&lt;/a&gt; Test errors when building on MacOS (Lars Francke) (Revision 1442669)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsgeorge : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestRegionSplitCalculator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13572467" author="larsgeorge" created="Wed, 6 Feb 2013 14:59:04 +0000"  >&lt;p&gt;Hi Ted, that was it, thanks! Duh. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;OK, tested the patch for 0.94 and it passes. Committed to 0.94 now as well.&lt;/p&gt;

&lt;p&gt;Thanks Lars for contributing.&lt;/p&gt;</comment>
                            <comment id="13572474" author="yuzhihong@gmail.com" created="Wed, 6 Feb 2013 15:14:40 +0000"  >&lt;p&gt;0.94.5 RC1 would include this fix.&lt;/p&gt;</comment>
                            <comment id="13572574" author="hudson" created="Wed, 6 Feb 2013 17:01:47 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #827 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/827/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/827/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6513&quot; title=&quot;Test errors when building on MacOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6513&quot;&gt;&lt;del&gt;HBASE-6513&lt;/del&gt;&lt;/a&gt; Test errors when building on MacOS (Lars Francke) (Revision 1442994)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsgeorge : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/TestRegionSplitCalculator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13574283" author="hudson" created="Fri, 8 Feb 2013 06:17:57 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #109 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/109/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6513&quot; title=&quot;Test errors when building on MacOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6513&quot;&gt;&lt;del&gt;HBASE-6513&lt;/del&gt;&lt;/a&gt; Test errors when building on MacOS (Lars Francke) (Revision 1442994)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsgeorge : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/TestRegionSplitCalculator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13593202" author="hudson" created="Tue, 5 Mar 2013 07:52:19 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #12 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/12/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/12/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6513&quot; title=&quot;Test errors when building on MacOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6513&quot;&gt;&lt;del&gt;HBASE-6513&lt;/del&gt;&lt;/a&gt; Test errors when building on MacOS (Lars Francke) (Revision 1442994)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsgeorge : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/TestRegionSplitCalculator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12568065" name="HBASE-6513.1.extended.0.94.patch" size="7946" author="lars_francke" created="Tue, 5 Feb 2013 19:33:37 +0000"/>
                            <attachment id="12567996" name="HBASE-6513.1.extended.patch" size="7998" author="lars_francke" created="Tue, 5 Feb 2013 13:22:09 +0000"/>
                            <attachment id="12567995" name="HBASE-6513.1.patch" size="1370" author="lars_francke" created="Tue, 5 Feb 2013 13:22:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Aug 2012 20:35:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02bcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>