<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:02:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2486/HBASE-2486.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2486] Add simple &quot;anti-entropy&quot; for region assignment</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2486</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We&apos;ve seen a number of bugs where a region server thinks it should not be serving a region, but the master and META think it should be. I&apos;d like to propose a very simple way of fixing this issue:&lt;/p&gt;

&lt;p&gt;1) whenever a regionserver throws a NotServingRegionException, it also marks that region id in an RS-wide Set&lt;br/&gt;
2) when a region sends a heartbeat, include a message for each of these regions, MSG_REPORT_NSRE or somesuch, and then clear the set&lt;br/&gt;
3) when the master receives MSG_REPORT_NSRE, it does the following checks:&lt;br/&gt;
a) if the region is assigned elsewhere according to META, the NSRE was due to a stale client, ignore&lt;br/&gt;
b) if the region is in transition, ignore&lt;br/&gt;
c) otherwise, we have an inconsistency, and we should take some steps to resolve (eg mark the region unassigned, or exit the master if we are in &quot;paranoid mode&quot;)&lt;/p&gt;

&lt;p&gt;Whatever we do, we need to make sure that this is loudly logged, and causes unit tests to fail, when it&apos;s detected. This should &lt;b&gt;not&lt;/b&gt; happen, but when it does, it would be good to recover without addtable.rb, etc.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12462968">HBASE-2486</key>
            <summary>Add simple &quot;anti-entropy&quot; for region assignment</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tlipcon">Todd Lipcon</reporter>
                        <labels>
                            <label>moved_from_0_20_5</label>
                    </labels>
                <created>Sun, 25 Apr 2010 20:11:13 +0000</created>
                <updated>Wed, 24 Dec 2014 19:40:24 +0000</updated>
                            <resolved>Wed, 24 Dec 2014 19:40:24 +0000</resolved>
                                    <version>0.20.5</version>
                                                    <component>master</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="12861196" author="apurtell" created="Tue, 27 Apr 2010 01:17:14 +0000"  >&lt;p&gt;Bringing into 0.20.5. I presume the master rewrite will incorporate something similar but implemented with a different strategy.&lt;/p&gt;</comment>
                            <comment id="12861215" author="stack" created="Tue, 27 Apr 2010 03:39:56 +0000"  >&lt;p&gt;This don&apos;t look too hard too do.  I was thinking that we need to make sure that 3a and 3b don&apos;t have holes but if a 3c, then then we&apos;ll find them the quicker.&lt;/p&gt;

&lt;p&gt;Doing Todd&apos; technique above would invalidate need for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1920&quot; title=&quot;Client with cached region location pointing at dead server does not recover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1920&quot;&gt;&lt;del&gt;HBASE-1920&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="12861220" author="tlipcon" created="Tue, 27 Apr 2010 04:00:33 +0000"  >&lt;p&gt;Is &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1920&quot; title=&quot;Client with cached region location pointing at dead server does not recover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1920&quot;&gt;&lt;del&gt;HBASE-1920&lt;/del&gt;&lt;/a&gt; still valid? I&apos;ve been testing lots of region server death/restarts/etc with write workloads and not seen that. But maybe with a read workload it doesn&apos;t respond the same way.&lt;/p&gt;</comment>
                            <comment id="12864417" author="ekoontz@hiro-tan.org" created="Wed, 5 May 2010 17:31:35 +0000"  >&lt;p&gt;2408 and 2486 seem related because 2408 mentions Not Serving Region Exceptions as an example of where it would be better to use client-server communication rather than exception throwing:&lt;/p&gt;

&lt;p&gt;&quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-72&quot; title=&quot;[hbase] &amp;#39;Normal&amp;#39; operation should not depend on throwing of exceptions (e.g. NotServingRegionException)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-72&quot;&gt;&lt;del&gt;HBASE-72&lt;/del&gt;&lt;/a&gt; &quot;&apos;Normal&apos; operation should not depend on throwing of exceptions (e.g. NotServingRegionException)&quot;.  Rather than have the server throw a NotServingRegionException as we do now as signal to client to go look elsewhere for the wanted data, we could instead signal the client to look elsewhere by setting a state in the envelope.&quot;&lt;/p&gt;
</comment>
                            <comment id="12864430" author="stack" created="Wed, 5 May 2010 18:16:33 +0000"  >&lt;p&gt;Assigning Eugene at his request.&lt;/p&gt;</comment>
                            <comment id="12865927" author="ekoontz@hiro-tan.org" created="Mon, 10 May 2010 21:10:52 +0000"  >&lt;p&gt;2526 seems related since they both have to do with ensuring/testing/verifying of the .META. table (which maps table regions to specific region servers).&lt;/p&gt;</comment>
                            <comment id="12865982" author="kevinpet" created="Mon, 10 May 2010 23:45:49 +0000"  >&lt;p&gt;Wanted to document killing and restarting the master as a workaround. This solves at least some circumstances where the master and .META. disagree with the regionserver about what regions it is hosting. I did the following and it worked for me:&lt;/p&gt;

&lt;p&gt;1. Tail log on master to ensure that the master is not doing anything.&lt;br/&gt;
2. Kill -9 the master to exit without setting shutdown node in ZK.&lt;br/&gt;
3. Restart the master.&lt;/p&gt;

&lt;p&gt;This ended the repeated NotServingRegionException I had been seeing without needing to bring down the cluster. YMMV.&lt;/p&gt;</comment>
                            <comment id="12866798" author="stack" created="Wed, 12 May 2010 23:48:10 +0000"  >&lt;p&gt;Bulk move of 0.20.5 issues into 0.21.0 after vote that we merge branch into TRUNK up on list.&lt;/p&gt;</comment>
                            <comment id="12867717" author="ekoontz@hiro-tan.org" created="Fri, 14 May 2010 22:41:33 +0000"  >&lt;p&gt;Note that this patch is against 0.20.3; I can create another patch against 0.20.4 and/or other tags if desired by reviewer.&lt;/p&gt;</comment>
                            <comment id="12867718" author="ekoontz@hiro-tan.org" created="Fri, 14 May 2010 22:43:17 +0000"  >&lt;p&gt;patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2486&quot; title=&quot;Add simple &amp;quot;anti-entropy&amp;quot; for region assignment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2486&quot;&gt;&lt;del&gt;HBASE-2486&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12867719" author="ekoontz@hiro-tan.org" created="Fri, 14 May 2010 22:45:06 +0000"  >&lt;p&gt;Please note that I am working on unit tests for this bug, but they are not included in the above patch (14/May/10 06:43 PM).&lt;/p&gt;</comment>
                            <comment id="12867728" author="streamy" created="Fri, 14 May 2010 23:02:33 +0000"  >&lt;p&gt;@Eugene, this will likely not be put into the 0.20 line.  I would recommend rebasing this against trunk.&lt;/p&gt;</comment>
                            <comment id="12867911" author="stack" created="Sat, 15 May 2010 20:36:38 +0000"  >&lt;p&gt;@Eugene&lt;/p&gt;

&lt;p&gt;Your xml comment instead should move into a &quot;description&quot; element.  See other configs. for the model:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &amp;lt;!-- how to deal with situations such as
+	 inconsistent beliefs between master and a regionserver concerning a region&apos;s location
+	 (HBASE-2486) 
+	 Two values are supported now: &apos;paranoid&apos; (shut master down) 
+         or &apos;lax&apos; (mark region in question as unassigned).
+      --&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What happens if the config. is other than lax or paranoid: e.g. the user misspells the config?&lt;/p&gt;

&lt;p&gt;As a general comment, you do not need to put &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2486&quot; title=&quot;Add simple &amp;quot;anti-entropy&amp;quot; for region assignment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2486&quot;&gt;&lt;del&gt;HBASE-2486&lt;/del&gt;&lt;/a&gt; on all your comments.  Reading them, they are substantive enough w/o need of citing hbase-2486.&lt;/p&gt;

&lt;p&gt;In checkNSRERegion, your comments start off w/ the number 3?&lt;/p&gt;

&lt;p&gt;Do you need to do this: +    String nsreRegion = Bytes.toString(nsreMsg.getMessage());?  Can&apos;t you put the offending region into the HMsg as its HRegionInfo payload?  (The other HMsgs work this way)&lt;/p&gt;

&lt;p&gt;You don&apos;t need to put method name in log message; e.g. checkNSRERegion().&lt;/p&gt;

&lt;p&gt;Does this work?  +    if (master.regionManager.regionIsInTransition(nsreRegion)) {  Is regionsIntransition keyed by regionname as String  (I haven&apos;t looked).&lt;/p&gt;

&lt;p&gt;Regards logging, I&apos;d say logging &apos;normal&apos; status &amp;#8211; e.g. that we&apos;re in &apos;consistent&apos; state &amp;#8211; is just going to make for noise in the logs.  Log the anomaly&apos;s only I&apos;d say.&lt;/p&gt;

&lt;p&gt;FYI, &quot;// assumption: there is only one &lt;del&gt;ROOT&lt;/del&gt; region, and it&apos;s called &apos;&lt;del&gt;ROOT&lt;/del&gt;,,0&apos;&quot; is not an assumption, its a fact.&lt;/p&gt;

&lt;p&gt;Do you want to start the count at &apos;0&apos; instead?  +      int regionCount = 1;&lt;/p&gt;

&lt;p&gt;Don&apos;t do this:&lt;/p&gt;

&lt;p&gt;+      LOG.debug(&quot;NSRE exception came from region server       : &quot; + nsreServerAddress.toString());&lt;br/&gt;
+      LOG.debug(&quot;according to regionManager, region server is : &quot; + regionServerBelief);&lt;/p&gt;

&lt;p&gt;Put them together in the one message.&lt;/p&gt;

&lt;p&gt;Same for the Log.error later.&lt;/p&gt;

&lt;p&gt;A log message that spans two log events is hard to grep for in logs.  One event per log is usually best.&lt;/p&gt;

&lt;p&gt;Yeah, don&apos;t bother logging the 3.a consistent state.  Its &apos;normal&apos; so doesn&apos;t warrant logging.&lt;/p&gt;

&lt;p&gt;Regards this method generally, if you did stuff like pass in the meta map of online regions as a param, and made the method static, then you might be able to write unit tests to cover a good portion of what is done in this method.  For the fetch against the meta table, you might consider mocking this using something like the mockito framework.  Unit tests would help here alot Eugene especially as this is you getting stuck in for the first time.  Unit tests will help you understand better what is being passed around.&lt;/p&gt;

&lt;p&gt;I see now why you can&apos;t put an HRegionInfo as the second arg. to HMsg.  Rather than make a fake HRI, I&apos;d say, make HMsg work w/ a null.... &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-comment&quot;&gt;// HBASE 2486: 
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// &quot;2) when a region sends a heartbeat, include a message &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; each of these regions, 
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;//     MSG_REPORT_NSRE or somesuch, and then clear the set&quot;
&lt;/span&gt;+    &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] nsre_region;
+    &lt;span class=&quot;code-comment&quot;&gt;// note that pollFirst() removes the first element from nsreSet as a side-effect of returning that element.
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// http://java.sun.com/javase/6/docs/api/java/util/NavigableSet.html#pollFirst()
&lt;/span&gt;+    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ((nsre_region = nsreSet.pollFirst()) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+      &lt;span class=&quot;code-comment&quot;&gt;// create an empty &apos;fakeRegion&apos;, since HMsg&apos;s second argument
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// (an HRegionInfo) must not be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.
&lt;/span&gt;+      HRegionInfo fake_region = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HRegionInfo();
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LOG.isDebugEnabled()) {
+        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;sending HMsg(MSG_REPORT_NSRE,fake_region,&apos;&quot;&lt;/span&gt; + Bytes.toString(nsre_region) + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;) to master..&quot;&lt;/span&gt;);
+      }
+      getOutboundMsgs().add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HMsg(HMsg.Type.MSG_REPORT_NSRE, fake_region, nsre_region));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I also now see why the numbering of items.   You are trying to bring the comment from the issue over into the code.  I&apos;d say leave that out.  Your comments stand by themselves w/o reference back to the issue.&lt;/p&gt;

&lt;p&gt;Good stuff.&lt;/p&gt;</comment>
                            <comment id="12868712" author="ekoontz@hiro-tan.org" created="Tue, 18 May 2010 16:28:40 +0000"  >&lt;p&gt;Jonathan, thank you for your comment; will create patch against trunk.&lt;/p&gt;

&lt;p&gt;Stack, thank you very much for all of your helpful review comments! I am hoping to write my unit tests in mockito after learning it - are there some examples of using mockito within hbase that I could use as starting points?&lt;/p&gt;</comment>
                            <comment id="12868854" author="ekoontz@hiro-tan.org" created="Tue, 18 May 2010 21:59:20 +0000"  >&lt;p&gt;Hi Jonathan and Stack,&lt;/p&gt;

&lt;p&gt;Thanks again for your comments. I have created a new patch, against trunk, which addresses some of Stack&apos;s review comments, which I address also here in the comment to the attachment:&lt;/p&gt;


&lt;p&gt;&quot;Your xml comment instead should move into a &quot;description&quot; element. See other configs. for the model:&quot;&lt;/p&gt;

&lt;p&gt;Fixed now in hbase-default.xml in attached patch: xml comment text moved to &amp;lt;description&amp;gt; element.&lt;/p&gt;

&lt;p&gt;&quot;What happens if the config. is other than lax or paranoid: e.g. the user misspells the config?&quot;&lt;/p&gt;

&lt;p&gt;I decided to treat misspellings (neither &quot;lax&quot; nor &quot;paranoid&quot;) as the same as the default, which is &quot;lax&quot;, except that I put a LOG.warn() to alert the administrator of this fact.&lt;/p&gt;

&lt;p&gt;&quot;As a general comment, you do not need to put &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2486&quot; title=&quot;Add simple &amp;quot;anti-entropy&amp;quot; for region assignment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2486&quot;&gt;&lt;del&gt;HBASE-2486&lt;/del&gt;&lt;/a&gt; on all your comments. Reading them, they are substantive enough w/o need of citing hbase-2486.&quot;&lt;/p&gt;

&lt;p&gt;&quot;You don&apos;t need to put method name in log message; e.g. checkNSRERegion().&quot;&lt;/p&gt;

&lt;p&gt;Removed most of these, except for two &quot;(See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2486&quot; title=&quot;Add simple &amp;quot;anti-entropy&amp;quot; for region assignment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2486&quot;&gt;&lt;del&gt;HBASE-2486&lt;/del&gt;&lt;/a&gt;)&quot; which I thought might be useful in keeping with other &quot;(See HBASE-XXXX)&quot; existing comments.&lt;/p&gt;

&lt;p&gt;&quot;A log message that spans two log events is hard to grep for in logs. One event per log is usually best.&quot;&lt;/p&gt;

&lt;p&gt;&quot;don&apos;t bother logging the 3.a consistent state. Its &apos;normal&apos; so doesn&apos;t warrant logging.&quot;&lt;/p&gt;

&lt;p&gt;Removed multiple-line-spanning log events; replaced with single line log events or simply removed in case of non-anomalous events.&lt;/p&gt;

&lt;p&gt;&quot;Rather than make a fake HRI, I&apos;d say, make HMsg work w/ a null....&quot;&lt;/p&gt;

&lt;p&gt;Have not yet addressed this : I plan to do so after writing some unit tests, which this bug still lacks. &lt;/p&gt;

&lt;p&gt;&quot;I also now see why the numbering of items. You are trying to bring the comment from the issue over into the code. I&apos;d say leave that out. Your comments stand by themselves w/o reference back to the issue.&quot;&lt;/p&gt;

&lt;p&gt;Removed issue-referencing numbering from comments; made comments stand on their own.&lt;/p&gt;</comment>
                            <comment id="12868864" author="ekoontz@hiro-tan.org" created="Tue, 18 May 2010 22:09:04 +0000"  >&lt;p&gt;I forgot to address this:&lt;/p&gt;

&lt;p&gt;&quot;Does this work? + if (master.regionManager.regionIsInTransition(nsreRegion)) { Is regionsIntransition keyed by regionname as String (I haven&apos;t looked).&quot;&lt;/p&gt;

&lt;p&gt;This works in my testing.&lt;/p&gt;

&lt;p&gt;&quot;FYI, &quot;// assumption: there is only one ROOT region, and it&apos;s called &apos;ROOT,,0&apos;&quot; is not an assumption, its a fact.&quot;&lt;/p&gt;

&lt;p&gt;Changed comment to reflect this.&lt;/p&gt;

&lt;p&gt;&quot;Do you want to start the count at &apos;0&apos; instead? + int regionCount = 1;&quot;&lt;/p&gt;

&lt;p&gt;Removed this variable regionCount, since it was only used for non-anomalous logging (for my development purposes).&lt;/p&gt;
</comment>
                            <comment id="12868885" author="stack" created="Tue, 18 May 2010 22:53:40 +0000"  >&lt;p&gt;.bq Stack, ....I am hoping to write my unit tests in mockito after learning it - are there some examples of using mockito within hbase that I could use as starting points?&lt;/p&gt;

&lt;p&gt;No.  Not yet.  So strike my comment that you use mockito &amp;#8211; some one of the committers should first provide examples of how to &amp;#8211; but I think unit testing as much as you can of your new methods would be a good idea.&lt;/p&gt;

&lt;p&gt;Thanks for addressing my comments above.  I&apos;ll review again when you add unit test.  One unit test you could add is serializing and deserialzing a HMsg that has an empty regioninfo.  See core/src/test/java/org/apache/hadoop/hbase/TestSerialization.java   It has a testHMsg already.  You could add to this test.&lt;/p&gt;

&lt;p&gt;Good stuff Eugene.&lt;/p&gt;
</comment>
                            <comment id="12868939" author="ekoontz@hiro-tan.org" created="Wed, 19 May 2010 00:48:16 +0000"  >&lt;p&gt;Thanks, Stack, I will look at that test.&lt;/p&gt;</comment>
                            <comment id="12870086" author="ekoontz@hiro-tan.org" created="Fri, 21 May 2010 18:13:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1502&quot; title=&quot;Remove need for heartbeats in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1502&quot;&gt;&lt;del&gt;HBASE-1502&lt;/del&gt;&lt;/a&gt; would eliminate the need for heartbeat messages from regionservers to the master. Since &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2486&quot; title=&quot;Add simple &amp;quot;anti-entropy&amp;quot; for region assignment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2486&quot;&gt;&lt;del&gt;HBASE-2486&lt;/del&gt;&lt;/a&gt; fix relies on encoding NSRE region information in these heartbeat messages (an example of &quot;piggybacking information on them when it can&quot; (from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1502&quot; title=&quot;Remove need for heartbeats in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1502&quot;&gt;&lt;del&gt;HBASE-1502&lt;/del&gt;&lt;/a&gt;&apos;s description)), &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2486&quot; title=&quot;Add simple &amp;quot;anti-entropy&amp;quot; for region assignment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2486&quot;&gt;&lt;del&gt;HBASE-2486&lt;/del&gt;&lt;/a&gt; will need to be re-implemented as a zookeeper-related activity rather than a heartbeat-encoded one.&lt;/p&gt;</comment>
                            <comment id="12870787" author="ekoontz@hiro-tan.org" created="Mon, 24 May 2010 19:01:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2516&quot; title=&quot;Ugly IOE when region is being closed; rather, should NSRE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2516&quot;&gt;&lt;del&gt;HBASE-2516&lt;/del&gt;&lt;/a&gt; says that region server should return NotServingRegionException (NSRE) if region is marked as closed.&lt;/p&gt;

&lt;p&gt;How should the master verify consistency if the master receives a NSRE message for such a region?&lt;/p&gt;</comment>
                            <comment id="12904927" author="streamy" created="Wed, 1 Sep 2010 05:39:42 +0000"  >&lt;p&gt;Do we still need this now that we have the master rewrite and HBCK tool?  Maybe punt to 0.92?&lt;/p&gt;</comment>
                            <comment id="12905116" author="stack" created="Wed, 1 Sep 2010 17:47:22 +0000"  >&lt;p&gt;We need this but I think the urgency has had some of the air let out of it.  Punting to 0.92 for now.  Pull back in if the new bugs that master rewrite has introduced require this described mechanism.&lt;/p&gt;</comment>
                            <comment id="12968876" author="stack" created="Tue, 7 Dec 2010 18:50:24 +0000"  >&lt;p&gt;Cancelling stale patch.&lt;/p&gt;</comment>
                            <comment id="13047534" author="stack" created="Fri, 10 Jun 2011 22:45:42 +0000"  >&lt;p&gt;Moving out of 0.92.0. Pull it back in if you think different.&lt;/p&gt;</comment>
                            <comment id="14258482" author="apurtell" created="Wed, 24 Dec 2014 19:40:24 +0000"  >&lt;p&gt;Incomplete dead issue, superseded by one or two master rewrites by now &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12427420">HBASE-1502</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12461156">HBASE-2408</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12464176">HBASE-2526</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12463792">HBASE-2516</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12444837" name="hbase2486.diff" size="11769" author="ekoontz@hiro-tan.org" created="Tue, 18 May 2010 21:59:20 +0000"/>
                            <attachment id="12444538" name="hbase2486.diff" size="12781" author="ekoontz@hiro-tan.org" created="Fri, 14 May 2010 22:43:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 Apr 2010 01:17:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32608</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02f5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12055</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>