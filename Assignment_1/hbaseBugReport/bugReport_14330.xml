<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:51:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14330/HBASE-14330.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14330] Regular Expressions cause  ipc.CallTimeoutException</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14330</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Appear &quot;ipc.CallTimeoutException&quot; When I use scan with RowFilter. The RowFilter use regular expression &quot;.*_10_version$&quot;.&lt;/p&gt;

&lt;p&gt;The below is my code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
	Scan scan = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Scan();
	scan.setStartRow(&lt;span class=&quot;code-quote&quot;&gt;&quot;2014-12-01&quot;&lt;/span&gt;.getBytes());
	scan.setStopRow(&lt;span class=&quot;code-quote&quot;&gt;&quot;2015-01-01&quot;&lt;/span&gt;.getBytes());
	
	&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; rowPattern = &lt;span class=&quot;code-quote&quot;&gt;&quot;.*_10_version$&quot;&lt;/span&gt;;
	Filter myRowfilter = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RowFilter(CompareFilter.CompareOp.EQUAL, 
	&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RegexStringComparator(rowPattern));
	List&amp;lt;Filter&amp;gt; myFilterList = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;Filter&amp;gt;();
	myFilterList.add(myRowfilter);
	FilterList filterList = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FilterList(myFilterList);
	scan.setFilter(filterList);
		
	TableName tn = TableName.valueOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;oneday&quot;&lt;/span&gt;);
	Table t = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
	ResultScanner rs = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
	&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; i = 0L;
	&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
		t = HBaseUtil.getHTable(tn);
		rs = t.getScanner(scan);
		Iterator&amp;lt;Result&amp;gt; iter = rs.iterator();
			
		&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;(iter.hasNext()){
			Result r = iter.next();
			i++;
		}
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(i);
	} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
		e.printStackTrace();
	}&lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt;{
		HBaseUtil.closeTable(t);
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The below is the error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
xception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.RuntimeException: org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed after attempts=36, exceptions:
Fri Aug 28 08:17:23 CST 2015, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, java.net.SocketTimeoutException: callTimeout=60000, callDuration=60308: row &apos;2014-12-01&apos; on table &apos;oneday&apos; at region=oneday,2014-10-18_5_osversion_6b3699557822c74d7237f2467938c62b_3.4.2,1437563105965.74b33ebe56e5d6332e823c3ebfa36b56., hostname=tk-mapp-hadoop185,60020,1440385238156, seqNum=18648

	at org.apache.hadoop.hbase.client.AbstractClientScanner$1.hasNext(AbstractClientScanner.java:97)
	at com.jj.door.ScanFilterDoor.main(ScanFilterDoor.java:58)
Caused by: org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed after attempts=36, exceptions:
Fri Aug 28 08:17:23 CST 2015, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, java.net.SocketTimeoutException: callTimeout=60000, callDuration=60308: row &apos;2014-12-01&apos; on table &apos;oneday&apos; at region=oneday,2014-10-18_5_osversion_6b3699557822c74d7237f2467938c62b_3.4.2,1437563105965.74b33ebe56e5d6332e823c3ebfa36b56., hostname=tk-mapp-hadoop185,60020,1440385238156, seqNum=18648

	at org.apache.hadoop.hbase.client.RpcRetryingCallerWithReadReplicas.throwEnrichedException(RpcRetryingCallerWithReadReplicas.java:270)
	at org.apache.hadoop.hbase.client.ScannerCallableWithReplicas.call(ScannerCallableWithReplicas.java:203)
	at org.apache.hadoop.hbase.client.ScannerCallableWithReplicas.call(ScannerCallableWithReplicas.java:57)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.ClientScanner.call(ClientScanner.java:294)
	at org.apache.hadoop.hbase.client.ClientScanner.next(ClientScanner.java:374)
	at org.apache.hadoop.hbase.client.AbstractClientScanner$1.hasNext(AbstractClientScanner.java:94)
	... 1 more
Caused by: java.net.SocketTimeoutException: callTimeout=60000, callDuration=60308: row &apos;2014-12-01&apos; on table &apos;oneday&apos; at region=oneday,2014-10-18_5_osversion_6b3699557822c74d7237f2467938c62b_3.4.2,1437563105965.74b33ebe56e5d6332e823c3ebfa36b56., hostname=tk-mapp-hadoop185,60020,1440385238156, seqNum=18648
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:159)
	at org.apache.hadoop.hbase.client.ResultBoundedCompletionService$QueueingFuture.run(ResultBoundedCompletionService.java:64)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.io.IOException: Call to tk-mapp-hadoop185/192.168.10.185:60020 failed on local exception: org.apache.hadoop.hbase.ipc.CallTimeoutException: Call id=4, waitTime=60007, operationTimeout=60000 expired.
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.wrapException(RpcClientImpl.java:1236)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1204)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:216)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:300)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.scan(ClientProtos.java:31751)
	at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:204)
	at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:62)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.ScannerCallableWithReplicas$RetryingRPC.call(ScannerCallableWithReplicas.java:316)
	at org.apache.hadoop.hbase.client.ScannerCallableWithReplicas$RetryingRPC.call(ScannerCallableWithReplicas.java:290)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:126)
	... 4 more
Caused by: org.apache.hadoop.hbase.ipc.CallTimeoutException: Call id=4, waitTime=60007, operationTimeout=60000 expired.
	at org.apache.hadoop.hbase.ipc.Call.checkAndSetTimeout(Call.java:70)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1178)
	... 13 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;CDH5.4.0&lt;br/&gt;
hbase-client-1.0.0-cdh5.4.0&lt;/p&gt;</environment>
        <key id="12859780">HBASE-14330</key>
            <summary>Regular Expressions cause  ipc.CallTimeoutException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="baby88">&#33538;&#20891;&#29579;</reporter>
                        <labels>
                            <label>performance</label>
                    </labels>
                <created>Fri, 28 Aug 2015 00:40:02 +0000</created>
                <updated>Mon, 25 Jul 2016 09:40:48 +0000</updated>
                                            <version>1.0.1</version>
                                                    <component>Client</component>
                    <component>Filters</component>
                    <component>IPC/RPC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14717841" author="baby88" created="Fri, 28 Aug 2015 00:50:05 +0000"  >&lt;p&gt;when rowPattern = &quot;&lt;br class=&quot;atl-forced-newline&quot; /&gt;d&lt;/p&gt;
{4}
&lt;p&gt;-&lt;br class=&quot;atl-forced-newline&quot; /&gt;d&lt;/p&gt;
{2}-&lt;br class=&quot;atl-forced-newline&quot; /&gt;d{2}
&lt;p&gt;_10_version$&quot; ,every thing is ok &lt;br/&gt;
when String rowPattern = &quot;.*_10_version$&quot; ,error:rpc timeout&lt;/p&gt;</comment>
                            <comment id="15080812" author="xjxyxgq" created="Mon, 4 Jan 2016 08:18:29 +0000"  >
&lt;p&gt;Properties info = new Properties();&lt;br/&gt;
info.put(&quot;hbase.client.scanner.timeout.period&quot;,&quot;XXXXX&quot;);&lt;br/&gt;
conn = DriverManager.getConnection(url,info);&lt;/p&gt;</comment>
                            <comment id="15391611" author="mkanchwala" created="Mon, 25 Jul 2016 09:40:48 +0000"  >&lt;p&gt;I am facing this issue from Phoenix side, I am writing a &quot;LIKE&quot; query on it which as per my understanding will reduce to the same thing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 4 Jan 2016 08:18:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jh5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&amp;nbsp;when rowPattern = &amp;quot;\\d{4}-\\d{2}-\\d{2}_10_version$&amp;quot; ,every thing is ok&lt;br/&gt;
&amp;nbsp;when String rowPattern = &amp;quot;.*_10_version$&amp;quot; ,error:rpc timeout</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>RowFilter ipc timeout regularExpression</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>