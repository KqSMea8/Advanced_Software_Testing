<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:40:22 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13161/HBASE-13161.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13161] ITBLL needs love; verify spins w/o end at 10B rows</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13161</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Making a note of my recent experience with ITBLL; here is stuff that needs fixing.&lt;/p&gt;

&lt;p&gt;+ I was able to run generate for about 24 hours with monkey going and loaded 10B rows. When I ran the verify (a few times), it got stuck at about 90odd percent and never made progress beyond that (this was about 20 hours in IIRC). I spent no time trying to figure why (ran out of cluster and time).&lt;br/&gt;
+ Verify at least takes too long. Need to make it run faster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12779931">HBASE-13161</key>
            <summary>ITBLL needs love; verify spins w/o end at 10B rows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Mar 2015 23:41:25 +0000</created>
                <updated>Thu, 17 Dec 2015 19:25:13 +0000</updated>
                            <resolved>Thu, 17 Dec 2015 19:25:13 +0000</resolved>
                                                                    <component>integration tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14393366" author="stack" created="Thu, 2 Apr 2015 20:51:04 +0000"  >&lt;p&gt;See if linked issue fixes our getting stuck...&lt;/p&gt;</comment>
                            <comment id="14393613" author="stack" created="Thu, 2 Apr 2015 22:35:27 +0000"  >&lt;p&gt;Chatting w/ Sean, verify should fail if doubly-linked...&lt;/p&gt;</comment>
                            <comment id="14707728" author="stack" created="Sat, 22 Aug 2015 00:59:57 +0000"  >&lt;p&gt;I got to 8.5B w/ slow deterministic and verify passed. Will resolve when I get to 10B. &lt;/p&gt;</comment>
                            <comment id="14721945" author="stack" created="Mon, 31 Aug 2015 04:01:52 +0000"  >&lt;p&gt;Resolving. Did an ITBLL 10B run w/ monkeys. Passed. See below. The change to use securerandom seems to have gotten us over the observed hang.&lt;/p&gt;

&lt;p&gt;Running to 10B trying to save all hfiles and WALs made in case I find an issue so I can dig in if verify fails is beyond the disk capacity I have on my small cluster; I had to remove a load of archived material to run verify.&lt;/p&gt;

&lt;p&gt;Verify took 18 hours.&lt;/p&gt;

&lt;p&gt;Will come back to this to go larger when I have more capacity. Need to also make verify run faster.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
15/08/29 14:58:54 INFO mapreduce.Job: Job job_1440806964191_0001 completed successfully
15/08/29 14:58:54 INFO mapreduce.Job: Counters: 51
        File &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt; Counters
                FILE: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of bytes read=3119022047178
                FILE: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of bytes written=3814321075643
                FILE: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of read operations=0
                FILE: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of large read operations=0
                FILE: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of write operations=0
                HDFS: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of bytes read=2484
                HDFS: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of bytes written=480
                HDFS: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of read operations=55
                HDFS: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of large read operations=0
                HDFS: &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of write operations=10
        Job Counters
                Launched map tasks=20
                Launched reduce tasks=5
                Data-local map tasks=19
                Rack-local map tasks=1
                Total time spent by all maps in occupied slots (ms)=405431651
                Total time spent by all reduces in occupied slots (ms)=463831492
                Total time spent by all map tasks (ms)=405431651
                Total time spent by all reduce tasks (ms)=231915746
                Total vcore-seconds taken by all map tasks=405431651
                Total vcore-seconds taken by all reduce tasks=231915746
                Total megabyte-seconds taken by all map tasks=1621726604000
                Total megabyte-seconds taken by all reduce tasks=1855325968000
        Map-Reduce Framework
                Map input records=10000000000
                Map output records=20000000000
                Map output bytes=650000000000
                Map output materialized bytes=690000000600
                Input split bytes=2484
                Combine input records=0
                Combine output records=0
                Reduce input groups=10000000000
                Reduce shuffle bytes=690000000600
                Reduce input records=20000000000
                Reduce output records=0
                Spilled Records=110403900880
                Shuffled Maps =100
                Failed Shuffles=0
                Merged Map outputs=100
                GC time elapsed (ms)=2193043
                CPU time spent (ms)=390646120
                Physical memory (bytes) snapshot=23430848512
                Virtual memory (bytes) snapshot=183185506304
                Total committed heap usage (bytes)=21181235200
        Shuffle Errors
                BAD_ID=0
                CONNECTION=0
                IO_ERROR=0
                WRONG_LENGTH=0
                WRONG_MAP=0
                WRONG_REDUCE=0
        org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList$Verify$Counts
                REFERENCED=10000000000
        File Input Format Counters
                Bytes Read=0
        File Output Format Counters
                Bytes Written=480
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14722088" author="stack" created="Mon, 31 Aug 2015 04:04:44 +0000"  >&lt;p&gt;Here is the commands I ran:&lt;/p&gt;

&lt;p&gt;$&lt;/p&gt;
{HOME}/hadoop/bin/hadoop --config ${HOME}
&lt;p&gt;/conf_hadoop org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList --monkey serverKilling Generator 40 250000000 g.$date&lt;/p&gt;

&lt;p&gt;$&lt;/p&gt;
{HOME}/hadoop/bin/hadoop --config ${HOME}
&lt;p&gt;/conf_hadoop org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList Verify v.$date 5&lt;/p&gt;</comment>
                            <comment id="15062611" author="busbey" created="Thu, 17 Dec 2015 19:25:13 +0000"  >&lt;p&gt;moved this issue out of 1.2.0 since there were no code changes associated with it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12787511">HBASE-13382</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Dec 2015 19:25:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26fc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>