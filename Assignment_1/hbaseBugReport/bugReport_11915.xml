<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:27:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11915/HBASE-11915.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11915] Document and test 0.94 -&gt; 1.0.0 update</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11915</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We explicitly did not remove some of the upgrade related stuff in branch-1 for the possibility of supporting 0.94 -&amp;gt; 1.0, similar to 0.94 -&amp;gt; 0.98 support. &lt;/p&gt;

&lt;p&gt;We should document, and test this support before 1.0 comes. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12740012">HBASE-11915</key>
            <summary>Document and test 0.94 -&gt; 1.0.0 update</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12704125">HBASE-10856</parent>
                                    <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Sep 2014 23:21:57 +0000</created>
                <updated>Sat, 21 Feb 2015 23:45:20 +0000</updated>
                            <resolved>Wed, 22 Oct 2014 04:48:15 +0000</resolved>
                                                    <fixVersion>0.99.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14179144" author="stack" created="Tue, 21 Oct 2014 21:28:10 +0000"  >&lt;p&gt;Adds a bit of doc.  Adds back UpgradeTo96.  Stuck here at the moment:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
113 2014-10-21 14:05:42,331 INFO  [172.21.1.140:16020.activeMasterManager] master.HMaster: Converting state from zk to &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; states:TestTable=ENABLED
114 2014-10-21 14:05:42,331 FATAL [172.21.1.140:16020.activeMasterManager] master.HMaster: Failed to become active master
115 org.apache.hadoop.hbase.TableNotFoundException: TestTable
116   at org.apache.hadoop.hbase.master.TableStateManager.setTableState(TableStateManager.java:74)
117   at org.apache.hadoop.hbase.master.HMaster.initializeZKBasedSystemTrackers(HMaster.java:477)
118   at org.apache.hadoop.hbase.master.HMaster.finishActiveMasterInitialization(HMaster.java:538)
119   at org.apache.hadoop.hbase.master.HMaster.access$500(HMaster.java:158)
120   at org.apache.hadoop.hbase.master.HMaster$1.run(HMaster.java:1296)
121   at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)
122 2014-10-21 14:05:42,333 FATAL [172.21.1.140:16020.activeMasterManager] master.HMaster: Unhandled exception. Starting shutdown.
123 org.apache.hadoop.hbase.TableNotFoundException: TestTable
124   at org.apache.hadoop.hbase.master.TableStateManager.setTableState(TableStateManager.java:74)
125   at org.apache.hadoop.hbase.master.HMaster.initializeZKBasedSystemTrackers(HMaster.java:477)
126   at org.apache.hadoop.hbase.master.HMaster.finishActiveMasterInitialization(HMaster.java:538)
127   at org.apache.hadoop.hbase.master.HMaster.access$500(HMaster.java:158)
128   at org.apache.hadoop.hbase.master.HMaster$1.run(HMaster.java:1296)
129   at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14179170" author="enis" created="Tue, 21 Oct 2014 21:42:41 +0000"  >&lt;p&gt;I thought we had UpgradeTo96 already. +1 if you can get it working. We can commit this and do a follow up as well. &lt;/p&gt;</comment>
                            <comment id="14179565" author="stack" created="Wed, 22 Oct 2014 04:46:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; you are right. I was on master branch.&lt;/p&gt;

&lt;p&gt;Simple upgrade that has pseudo-distributed sharing local fs works. Attached is a bit of refguide instruction. Let me commit and then close this issue.&lt;/p&gt;

&lt;p&gt;Will try again on cluster and will report new JIRAs if I run into any then.&lt;/p&gt;</comment>
                            <comment id="14179569" author="stack" created="Wed, 22 Oct 2014 04:48:15 +0000"  >&lt;p&gt;Committed a bit of doc.  Also included note that we require 3.4 zk in hbase 1.0.&lt;/p&gt;</comment>
                            <comment id="14179636" author="hudson" created="Wed, 22 Oct 2014 06:37:28 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5685 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5685/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5685/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11915&quot; title=&quot;Document and test 0.94 -&amp;gt; 1.0.0 update&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11915&quot;&gt;&lt;del&gt;HBASE-11915&lt;/del&gt;&lt;/a&gt; Document and test 0.94 -&amp;gt; 1.0.0 update (stack: rev c5022bb665bf5d041494b92551dfab6bd62680e0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/docbkx/configuration.xml&lt;/li&gt;
	&lt;li&gt;src/main/docbkx/upgrading.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14181020" author="stack" created="Thu, 23 Oct 2014 05:05:12 +0000"  >&lt;p&gt;Let me add an addendum.  Testing on a cluster I get this when I do -execute of the migration:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-10-22 21:30:25,149 WARN  [main] util.FSUtils: Unable to create version file at hdfs:&lt;span class=&quot;code-comment&quot;&gt;//c2020.halxg.cloudera.com:8020/hbase, retrying
&lt;/span&gt;java.io.IOException: Unable to move temp version file to hdfs:&lt;span class=&quot;code-comment&quot;&gt;//c2020.halxg.cloudera.com:8020/hbase/hbase.version
&lt;/span&gt;	at org.apache.hadoop.hbase.util.FSUtils.setVersion(FSUtils.java:644)
	at org.apache.hadoop.hbase.util.FSUtils.setVersion(FSUtils.java:599)
	at org.apache.hadoop.hbase.migration.NamespaceUpgrade.upgradeTableDirs(NamespaceUpgrade.java:151)
	at org.apache.hadoop.hbase.migration.NamespaceUpgrade.run(NamespaceUpgrade.java:562)
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)
	at org.apache.hadoop.hbase.migration.UpgradeTo96.executeTool(UpgradeTo96.java:221)
	at org.apache.hadoop.hbase.migration.UpgradeTo96.executeUpgrade(UpgradeTo96.java:211)
	at org.apache.hadoop.hbase.migration.UpgradeTo96.run(UpgradeTo96.java:133)
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)
	at org.apache.hadoop.hbase.migration.UpgradeTo96.main(UpgradeTo96.java:257)
2014-10-22 21:30:25,164 INFO  [main] hdfs.DFSClient: checksum=CRC32C
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It is actually  harmless case of TMI but it took me a minute or two to figure that so lets spare the poor operator.&lt;/p&gt;

&lt;p&gt;Small patch.  i tested it works on a new migration.&lt;/p&gt;

&lt;p&gt;I started a 0.94 on a hadoop 2.6.0-SNAPSHOT.  I inserted some data.  Shut it down.  Installed a branch-1 build.  Ran upgrade -check then upgrade -execute.  Then was able to start up the 0.99 over the 0.94 data.&lt;/p&gt;

&lt;p&gt;Need to try and see what breaks when we run an application against 0.94 and then 1.0 but that is another issue.&lt;/p&gt;</comment>
                            <comment id="14181026" author="stack" created="Thu, 23 Oct 2014 05:12:38 +0000"  >&lt;p&gt;Applied the addendum to 0.98+.&lt;/p&gt;</comment>
                            <comment id="14181072" author="hudson" created="Thu, 23 Oct 2014 06:48:07 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #347 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/347/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/347/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11915&quot; title=&quot;Document and test 0.94 -&amp;gt; 1.0.0 update&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11915&quot;&gt;&lt;del&gt;HBASE-11915&lt;/del&gt;&lt;/a&gt; Document and test 0.94 -&amp;gt; 1.0.0 update &amp;#8211; ADDENDUM (stack: rev 46e4bffc2c7209b8d6620bdd187d9b43200770b8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14181081" author="hudson" created="Thu, 23 Oct 2014 07:07:01 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #628 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/628/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/628/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11915&quot; title=&quot;Document and test 0.94 -&amp;gt; 1.0.0 update&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11915&quot;&gt;&lt;del&gt;HBASE-11915&lt;/del&gt;&lt;/a&gt; Document and test 0.94 -&amp;gt; 1.0.0 update &amp;#8211; ADDENDUM (stack: rev 046c4ce62da624f1a98a78e3fcd5204a7a420585)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14181087" author="hudson" created="Thu, 23 Oct 2014 07:21:15 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #5693 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5693/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5693/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11915&quot; title=&quot;Document and test 0.94 -&amp;gt; 1.0.0 update&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11915&quot;&gt;&lt;del&gt;HBASE-11915&lt;/del&gt;&lt;/a&gt; Document and test 0.94 -&amp;gt; 1.0.0 update &amp;#8211; ADDENDUM (stack: rev 96f84594eee58b4e9a9347541baa3343a4ed3b97)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14181103" author="hudson" created="Thu, 23 Oct 2014 07:48:13 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #599 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/599/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/599/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11915&quot; title=&quot;Document and test 0.94 -&amp;gt; 1.0.0 update&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11915&quot;&gt;&lt;del&gt;HBASE-11915&lt;/del&gt;&lt;/a&gt; Document and test 0.94 -&amp;gt; 1.0.0 update &amp;#8211; ADDENDUM (stack: rev 046c4ce62da624f1a98a78e3fcd5204a7a420585)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331619" author="enis" created="Sat, 21 Feb 2015 23:45:20 +0000"  >&lt;p&gt;Closing this issue after 0.99.2 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12676527" name="11915.addendum.txt" size="1238" author="stack" created="Thu, 23 Oct 2014 05:10:10 +0000"/>
                            <attachment id="12676180" name="11915.txt" size="15236" author="stack" created="Tue, 21 Oct 2014 21:28:10 +0000"/>
                            <attachment id="12676261" name="upgrade.txt" size="4947" author="stack" created="Wed, 22 Oct 2014 04:46:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Oct 2014 21:28:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ztbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>