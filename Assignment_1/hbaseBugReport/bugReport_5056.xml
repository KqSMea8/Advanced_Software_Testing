<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:24:20 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5056/HBASE-5056.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5056] [performance] On upload, 4% of memory allocations are NullInstance</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5056</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Profiling a PE upload, I see that 4% of memory allocations are instances of NullInstance (caveat profiler&apos;s give distorted view of running app as does PE when it comes to real-world workloads).  See attached profiler output.  Looks like we could save a bunch on object creation if we had our own WritableFactories instance that treated stuff like NullInstance special creating a Singleton NullInstance per declared class type returning these instead of creating new ones.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12535498">HBASE-5056</key>
            <summary>[performance] On upload, 4% of memory allocations are NullInstance</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                            <label>beginner</label>
                    </labels>
                <created>Fri, 16 Dec 2011 19:45:30 +0000</created>
                <updated>Thu, 14 May 2015 17:07:55 +0000</updated>
                            <resolved>Thu, 14 May 2015 17:07:55 +0000</resolved>
                                                                    <component>Performance</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13171170" author="zhihyu@ebaysf.com" created="Fri, 16 Dec 2011 19:55:43 +0000"  >&lt;p&gt;+1 on proposed change.&lt;/p&gt;</comment>
                            <comment id="13171183" author="zhihyu@ebaysf.com" created="Fri, 16 Dec 2011 20:32:51 +0000"  >&lt;p&gt;0.90 has the same code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      instanceObj = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NullInstance(declClass, conf);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So I guess this wouldn&apos;t explain the difference in performance.&lt;/p&gt;</comment>
                            <comment id="13172455" author="stack" created="Mon, 19 Dec 2011 18:00:08 +0000"  >&lt;p&gt;Diff in performance seems to be a missing bufferedinput if you go the hfilev1 non-compressed path.  Apparently hfilev2 doesn&apos;t have this issue.  J-D was going to write the list.&lt;/p&gt;</comment>
                            <comment id="13445485" author="ctrezzo" created="Fri, 31 Aug 2012 00:12:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; Since HFilev2 is the default now, can we consider this issue resolved?&lt;/p&gt;</comment>
                            <comment id="13445635" author="stack" created="Fri, 31 Aug 2012 04:26:27 +0000"  >&lt;p&gt;@Chris I don&apos;t think so.  When I look at attached profiler output, it looks like the NullInstance is allocated in HbaseObjectWritable.  It might be gone in trunk because we should be by-passing HbaseObjectWritable now we are pb all the time but would have to check in profiler again (Not sure how the hfile2 relates after this much time has passed).&lt;/p&gt;</comment>
                            <comment id="14543822" author="busbey" created="Thu, 14 May 2015 15:17:35 +0000"  >&lt;p&gt;can we get an update on this, or just close it out until we get a new profile run? there are no non-migration instances of NullInstance in master.&lt;/p&gt;</comment>
                            <comment id="14544033" author="stack" created="Thu, 14 May 2015 17:07:55 +0000"  >&lt;p&gt;Closing as later. Reopen if still an issue in recent versions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12507720" name="NullInstanceHotSpotMemAllocation.html" size="289346" author="stack" created="Fri, 16 Dec 2011 19:49:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 16 Dec 2011 19:55:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>221182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02fev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>beginner</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>