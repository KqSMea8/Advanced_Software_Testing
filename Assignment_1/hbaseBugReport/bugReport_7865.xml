<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:49:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7865/HBASE-7865.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7865] HBase regionserver never stops when running `bin/stop-hbase.sh` on master</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7865</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I faced 3 regions (out of 8) never stopping today. This is pretty bad because the script is supposed to wait until all the RS stopped to re-start everything, therefor, servers are never going back online.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7838&quot; title=&quot;HBase regionserver never stops when running `hbase-daemon.sh stop regionserver`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7838&quot;&gt;&lt;del&gt;HBASE-7838&lt;/del&gt;&lt;/a&gt; will help with that and will kill the RSs. But that will not really solve the root cause.&lt;/p&gt;

&lt;p&gt;Attached are the jstack for the 3 servers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12632713">HBASE-7865</key>
            <summary>HBase regionserver never stops when running `bin/stop-hbase.sh` on master</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmspaggi">Jean-Marc Spaggiari</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Feb 2013 13:48:52 +0000</created>
                <updated>Fri, 22 Feb 2013 14:25:05 +0000</updated>
                            <resolved>Fri, 22 Feb 2013 14:25:05 +0000</resolved>
                                    <version>0.94.5</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13579793" author="nkeywal" created="Sat, 16 Feb 2013 14:06:12 +0000"  >&lt;p&gt;Some questions:&lt;br/&gt;
HDFS was still up &amp;amp; running? All the computers were still there as well?&lt;br/&gt;
What do you exactly to stop the cluster?&lt;br/&gt;
What are the versions of HBase &amp;amp; HDFS?&lt;br/&gt;
Do you have the logs (region server / master / datanode)?&lt;/p&gt;</comment>
                            <comment id="13579802" author="jmspaggi" created="Sat, 16 Feb 2013 14:57:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;HDFS was still up &amp;amp; running? All the computers were still there as well?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes. I&apos;m not touching HDFS. I can still see all the nodes live in the Hadoop UI.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What do you exactly to stop the cluster?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;bin/stop-hbase.sh&lt;br/&gt;
Nothing more. It stopped 5 RS. It&apos;s sometime stopping all of them, not always. Then to stop the remaining, I have a ssh loop with a killall -9 java.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What are the versions of HBase &amp;amp; HDFS?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;HBase is 0.94.5RC0. I have downloaded it yesterday from the source, and built it. So it should be the same as 0.94.5 I think.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Do you have the logs (region server / master / datanode)?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Unfortunatly I have restarted the instances and cleared the logs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I will keep them if I&apos;m facing this again.&lt;/p&gt;</comment>
                            <comment id="13579869" author="yuzhihong@gmail.com" created="Sat, 16 Feb 2013 18:35:32 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12569671/jstack_node3.txt:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12569671/jstack_node3.txt:&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;RS_CLOSE_REGION-node3,60020,1360977975359-2&quot;&lt;/span&gt; prio=10 tid=0x00000000032ff000 nid=0x3a2d waiting on condition [0x00007f74f0ead000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x0000000625b93ee8&amp;gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197)
	at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:214)
	at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:290)
	at org.apache.hadoop.hbase.regionserver.wal.HLog.startCacheFlush(HLog.java:1551)
	at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1490)
	at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1435)
	at org.apache.hadoop.hbase.regionserver.HRegion.doClose(HRegion.java:968)
	at org.apache.hadoop.hbase.regionserver.HRegion.close(HRegion.java:916)
	- locked &amp;lt;0x0000000627dee918&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at org.apache.hadoop.hbase.regionserver.handler.CloseRegionHandler.process(CloseRegionHandler.java:119)
	at org.apache.hadoop.hbase.executor.EventHandler.run(EventHandler.java:169)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:722)

&lt;span class=&quot;code-quote&quot;&gt;&quot;RS_CLOSE_REGION-node3,60020,1360977975359-1&quot;&lt;/span&gt; prio=10 tid=0x0000000002aab800 nid=0x3a2c waiting on condition [0x00007f74f1dbc000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0x0000000625b93ee8&amp;gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197)
	at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:214)
	at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:290)
	at org.apache.hadoop.hbase.regionserver.wal.HLog.startCacheFlush(HLog.java:1551)
	at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1490)
	at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1435)
	at org.apache.hadoop.hbase.regionserver.HRegion.doClose(HRegion.java:968)
	at org.apache.hadoop.hbase.regionserver.HRegion.close(HRegion.java:916)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looks like region was having trouble closing.&lt;br/&gt;
Region server log would help further diagnostics.&lt;/p&gt;</comment>
                            <comment id="13579873" author="yuzhihong@gmail.com" created="Sat, 16 Feb 2013 18:55:01 +0000"  >&lt;p&gt;Looking at HLog.java, line 1551 (first line below):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   *
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; sequence ID to pass
   *         {@link #completeCacheFlush(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;)} (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[],
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;HLog hasn&apos;t been modified since &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7728&quot; title=&quot;deadlock occurs between hlog roller and hlog syncer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7728&quot;&gt;&lt;del&gt;HBASE-7728&lt;/del&gt;&lt;/a&gt; went in (on Feb. 1st)&lt;/p&gt;

&lt;p&gt;@Jean-Marc:&lt;br/&gt;
Can you deploy 0.94.5 which was released yesterday ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13580049" author="lhofhansl" created="Sat, 16 Feb 2013 21:47:12 +0000"  >&lt;p&gt;I had the same thought, but &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7728&quot; title=&quot;deadlock occurs between hlog roller and hlog syncer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7728&quot;&gt;&lt;del&gt;HBASE-7728&lt;/del&gt;&lt;/a&gt; was checked in before I cut RC0, so presumably that was included.&lt;br/&gt;
That said, though, the line numbers do not quite match up, and as Ted mentioned the last change to HLog.java was &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7728&quot; title=&quot;deadlock occurs between hlog roller and hlog syncer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7728&quot;&gt;&lt;del&gt;HBASE-7728&lt;/del&gt;&lt;/a&gt;. So something is a bit strange.&lt;/p&gt;

&lt;p&gt;Looking at the stack trace, this seems different from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7728&quot; title=&quot;deadlock occurs between hlog roller and hlog syncer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7728&quot;&gt;&lt;del&gt;HBASE-7728&lt;/del&gt;&lt;/a&gt;. Something else already holds the cacheFlushLock, which implies that another thread tried to flush and never finished (but I cannot see that thread in the jstack).&lt;/p&gt;</comment>
                            <comment id="13580052" author="lhofhansl" created="Sat, 16 Feb 2013 21:55:27 +0000"  >&lt;p&gt;This would be consistent with the flush not succeeding because HDFS is down.&lt;br/&gt;
It is strange, though it seems that nobody is actually holding the cacheFlushLock; so not sure why the two region close threads are waiting on it.&lt;/p&gt;

&lt;p&gt;Another thing I noticed that the jstack #3 and #7 are from 64bit JVM, whereas jstack #1 is from a 32bit JVM (but that should not matter).&lt;/p&gt;</comment>
                            <comment id="13580054" author="lhofhansl" created="Sat, 16 Feb 2013 22:06:22 +0000"  >&lt;p&gt;Yet another observation: Why are there still non-daemon region open threads running? Should the region open thread pool only create daemon threads? The same could be said for the region close thread pool.&lt;/p&gt;</comment>
                            <comment id="13580058" author="jmspaggi" created="Sat, 16 Feb 2013 22:14:47 +0000"  >&lt;p&gt;I&apos;m not always facing this issue. On my main cluster, it&apos;s rare. And those stracks are from my main. I have a single node used to compare performances, and on this one I&apos;m getting the errors more often. I will post the jstack as soon as I have one.&lt;/p&gt;

&lt;p&gt;I can&apos;t deploy 0.94.5 final now. I need to finish to test my patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7846&quot; title=&quot;Add support for merging implicit regions in Merge tool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7846&quot;&gt;&lt;del&gt;HBASE-7846&lt;/del&gt;&lt;/a&gt; first. I hope to finish that today, or tomorrow morning. So I will deploy 0.94.5 by Monday and test again...&lt;/p&gt;

&lt;p&gt;Regarding 64bits vs 32bits it&apos;s because I have many different kinds of servers on this cluster. Some are a bit old and 32 bits only while some are recents and 64 bits.&lt;/p&gt;</comment>
                            <comment id="13580061" author="lhofhansl" created="Sat, 16 Feb 2013 22:25:30 +0000"  >&lt;p&gt;Thank JM. And thanks for the jstacks.&lt;/p&gt;

&lt;p&gt;From the line-numbers I am pretty sure that you have a version of HBase deployed that does not have &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7728&quot; title=&quot;deadlock occurs between hlog roller and hlog syncer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7728&quot;&gt;&lt;del&gt;HBASE-7728&lt;/del&gt;&lt;/a&gt; (Which is what Ted was also pointing out above).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Why are there still non-daemon region open threads running?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Turns out this is unrelated. The services will be shut down after all regions are closed (which does not happen in this case).&lt;/p&gt;</comment>
                            <comment id="13580065" author="jmspaggi" created="Sat, 16 Feb 2013 22:41:18 +0000"  >&lt;p&gt;Indeed. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7728&quot; title=&quot;deadlock occurs between hlog roller and hlog syncer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7728&quot;&gt;&lt;del&gt;HBASE-7728&lt;/del&gt;&lt;/a&gt; is not there. I have updated the entire branch and will redeploy that today since &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7846&quot; title=&quot;Add support for merging implicit regions in Merge tool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7846&quot;&gt;&lt;del&gt;HBASE-7846&lt;/del&gt;&lt;/a&gt; seems to be working fine...&lt;/p&gt;</comment>
                            <comment id="13580186" author="jmspaggi" created="Sun, 17 Feb 2013 13:55:36 +0000"  >&lt;p&gt;I faced the same issue again today.&lt;/p&gt;

&lt;p&gt;While I tried to stop 0.94.5RC0 to upgrade it to 0.94.5 I ran again into this never stop issue. Attached is the jstack, and this time, I kept the logs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13580187" author="jmspaggi" created="Sun, 17 Feb 2013 14:01:52 +0000"  >&lt;p&gt;Logs are attached. It&apos;s a 2MO file... Search by time. I killed it at 07:48. And before that it was &quot;simply&quot; skeeping load balacing for a while. Nothing special.&lt;/p&gt;

&lt;p&gt;There is no RS logs as I&apos;m in standalone on this one. I see nothing wrong there.&lt;/p&gt;</comment>
                            <comment id="13580188" author="jmspaggi" created="Sun, 17 Feb 2013 14:04:20 +0000"  >&lt;p&gt;I found that.&lt;/p&gt;

&lt;p&gt;Might be related.&lt;/p&gt;

&lt;p&gt;What I&apos;m doing is that I&apos;m running 10 times a loop to &quot;rm -rf hbase data; start-hbase; PerformanceTest; stop-hbase&quot;. And on this iteration I got issues. all others went well.&lt;/p&gt;

&lt;p&gt;It&apos;s 10 loops per hbase-0.94 version. Which mean 60 loops in total.&lt;/p&gt;</comment>
                            <comment id="13580194" author="yuzhihong@gmail.com" created="Sun, 17 Feb 2013 15:07:41 +0000"  >&lt;p&gt;Looking at hbase-root-master-hbasetest.out.4, connection loss to zookeeper happened around 06:10 :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
13/02/17 06:10:46 INFO client.HConnectionManager$HConnectionImplementation: This client just lost it&apos;s session with ZooKeeper, will automatically reconnect when needed.
13/02/17 06:10:46 INFO client.HConnectionManager$HConnectionImplementation: ZK session expired. This disconnect could have been caused by a network partition or a &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;-running GC pause, either way it&apos;s recommended that you verify your environment.
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NullPointerException
  at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.checkIfBaseNodeAvailable(HConnectionManager.java:747)
  at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getMaster(HConnectionManager.java:685)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I went through jstack and didn&apos;t find much clue.&lt;/p&gt;</comment>
                            <comment id="13580253" author="jmspaggi" created="Sun, 17 Feb 2013 19:02:16 +0000"  >&lt;p&gt;I just faced it again with 0.94.5.&lt;/p&gt;

&lt;p&gt;I looked at 0.94.5RC1 tag and also in the 0.94 branch and I did not found the modifications.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/hbase/tags/0.94.5RC1/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java?revision=1443844&amp;amp;view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hbase/tags/0.94.5RC1/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java?revision=1443844&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java?view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java?view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Based on the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7728&quot; title=&quot;deadlock occurs between hlog roller and hlog syncer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7728&quot;&gt;&lt;del&gt;HBASE-7728&lt;/del&gt;&lt;/a&gt; there should be something like &quot;this.writer = null;&quot; close to line 1010 in HLog and it&apos;s not there.&lt;/p&gt;

&lt;p&gt;I will apply this patch manually locally and re-deploy with a customed 0.94.5 version... &lt;/p&gt;</comment>
                            <comment id="13580715" author="nkeywal" created="Mon, 18 Feb 2013 17:10:13 +0000"  >&lt;p&gt;FYI, I tried a simple test. 0.95 fails but not .94.5. See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7871&quot; title=&quot;HBase can be stuck when closing regions concurrently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7871&quot;&gt;&lt;del&gt;HBASE-7871&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13582860" author="yuzhihong@gmail.com" created="Thu, 21 Feb 2013 03:14:29 +0000"  >&lt;p&gt;What would be the action for this JIRA ?&lt;br/&gt;
Should we mark this dup of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7871&quot; title=&quot;HBase can be stuck when closing regions concurrently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7871&quot;&gt;&lt;del&gt;HBASE-7871&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13582893" author="lhofhansl" created="Thu, 21 Feb 2013 04:09:52 +0000"  >&lt;p&gt;The stack traces look different. But I agree we need only jira for this&lt;/p&gt;</comment>
                            <comment id="13582999" author="nkeywal" created="Thu, 21 Feb 2013 08:17:44 +0000"  >&lt;p&gt;Your call, guys. It&apos;s likely to be a different cause, I haven&apos;t reproduced the issue on 0.94 (and I tried more complex scenario like split, balancing &amp;amp; so on). The local cluster always stops on 0.94.5.&lt;/p&gt;</comment>
                            <comment id="13583224" author="jmspaggi" created="Thu, 21 Feb 2013 14:33:57 +0000"  >&lt;p&gt;Now that servers are killed automatically after 1200s, it will be very difficult to capture those stacks anymore. Maybe we should add a jstack capture before doing the kill -9 in the stop script, so we can keep a track of what&apos;s going on when it&apos;s failing? I don&apos;t have any issue close this JIRA.&lt;/p&gt;</comment>
                            <comment id="13584211" author="nkeywal" created="Fri, 22 Feb 2013 11:43:59 +0000"  >&lt;p&gt;It&apos;s up to you JM. If you think you can have more logs or more info on how to reproduce it, keeping this jira open is useful.&lt;br/&gt;
If not, it can be closed as wontfix or not reproduced...&lt;br/&gt;
I&apos;ve committed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7838&quot; title=&quot;HBase regionserver never stops when running `hbase-daemon.sh stop regionserver`&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7838&quot;&gt;&lt;del&gt;HBASE-7838&lt;/del&gt;&lt;/a&gt; to trunk, if you want to add a stack trace dump to it, feel free to open a jira. &lt;/p&gt;</comment>
                            <comment id="13584225" author="jmspaggi" created="Fri, 22 Feb 2013 12:37:00 +0000"  >&lt;p&gt;Let&apos;s close it as not reproduced. I will update the start script to add the jstack into it and submit it via another JIRA.&lt;br/&gt;
That way I will just have to take a look from time to time and see if there is any jstack log created. If any, I will open another ticket. &lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12569719" name="hbase-root-master-hbasetest.log" size="2024030" author="jmspaggi" created="Sun, 17 Feb 2013 14:01:52 +0000"/>
                            <attachment id="12569720" name="hbase-root-master-hbasetest.out.4" size="8214" author="jmspaggi" created="Sun, 17 Feb 2013 14:04:20 +0000"/>
                            <attachment id="12569718" name="jstack_hbasetest.txt" size="82690" author="jmspaggi" created="Sun, 17 Feb 2013 13:55:36 +0000"/>
                            <attachment id="12569670" name="jstack_node1.txt" size="14354" author="jmspaggi" created="Sat, 16 Feb 2013 13:50:46 +0000"/>
                            <attachment id="12569671" name="jstack_node3.txt" size="17635" author="jmspaggi" created="Sat, 16 Feb 2013 13:50:46 +0000"/>
                            <attachment id="12569672" name="jstack_node7.txt" size="17088" author="jmspaggi" created="Sat, 16 Feb 2013 13:50:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 16 Feb 2013 14:06:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i1tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>