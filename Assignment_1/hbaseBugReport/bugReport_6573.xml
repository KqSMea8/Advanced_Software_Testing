<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:37:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6573/HBASE-6573.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6573] Distributed Three-Phase Commit framework.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6573</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;For &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6055&quot; title=&quot;Offline Snapshots in HBase 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6055&quot;&gt;&lt;del&gt;HBASE-6055&lt;/del&gt;&lt;/a&gt; (snapshots), we do two-phase commit in several places. This is a generally useful paradigm for a distributed system.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12603334">HBASE-6573</key>
            <summary>Distributed Three-Phase Commit framework.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12556488">HBASE-6055</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="jesse_yates">Jesse Yates</assignee>
                                    <reporter username="jesse_yates">Jesse Yates</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Aug 2012 21:31:52 +0000</created>
                <updated>Thu, 21 Feb 2013 04:46:59 +0000</updated>
                            <resolved>Mon, 26 Nov 2012 22:38:12 +0000</resolved>
                                    <version>0.95.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13433575" author="jesse_yates" created="Mon, 13 Aug 2012 21:33:36 +0000"  >&lt;p&gt;Simple patch coming momentarily. Debating abstracting out a zookeeper-based implementation/hooks that uses the Barrier recipe.&lt;/p&gt;</comment>
                            <comment id="13433597" author="jesse_yates" created="Mon, 13 Aug 2012 21:47:17 +0000"  >&lt;p&gt;Attaching patch, RB coming momentarily.&lt;/p&gt;</comment>
                            <comment id="13437101" author="jmhsieh" created="Fri, 17 Aug 2012 22:00:00 +0000"  >&lt;p&gt;Jesse posted review here: &lt;a href=&quot;https://reviews.apache.org/r/6592/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/6592/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13446781" author="jesse_yates" created="Sat, 1 Sep 2012 19:07:31 +0000"  >&lt;p&gt;Switching this to be a Three-Phase (rather than Two-Phase) commit and making it a framework for orchestrating distributed commits. After Jon&apos;s comments and talking with Lars H. about what would be nice to have pulled out of snapshots, it made more sense to abstract out the entire control mechanism into the general process with interfaces for additional orchestration (currently just ZooKeeper, but could easily be done with RPC too) and abstract worker-side (cohort) processing it comes out to be a pretty clean abstraction. The downside means rewriting a bit of the snapshot stuff, but that should results in at least a page if not more less for review on that (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6055&quot; title=&quot;Offline Snapshots in HBase 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6055&quot;&gt;&lt;del&gt;HBASE-6055&lt;/del&gt;&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;So anyways, new review is up, still at &lt;a href=&quot;https://reviews.apache.org/r/6592/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/6592/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13491802" author="jmhsieh" created="Tue, 6 Nov 2012 20:49:20 +0000"  >&lt;p&gt;Update on this - I&apos;ve been re-organizing the code here to simplify it.  A draft can be seen here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/jmhsieh/hbase/tree/snapshot-ts-threadchange&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jmhsieh/hbase/tree/snapshot-ts-threadchange&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m currently working on getting the TS snapshot functionality passing unit tests again.  Once I get that I&apos;ll, summarize the changes and rebase/port onto the current snapshot branch.&lt;/p&gt;

&lt;p&gt;Some key things to note.  &lt;/p&gt;

&lt;p&gt;1) This is a framework that uses zookeeper as an rpc/coordination mechanism.  Masters and region servers are only communicating via ZK.&lt;br/&gt;
2) This isn&apos;t a commit protocol &amp;#8211; if errors occur after the traditional 2pc coordinator commit point the current behavior is to reset (remove znodes) or and essentially abort.   Traditional 2PC/3PC style algorithms would recover from any failure after this commit point.  This mechanism seems to be overkill for log-rolling or timestamp snapshots.  For the globally-consistent flavor, I think we really want a distributed 2 phase locking protocol instead of a 2 phase commit protocol.  &lt;/p&gt;

&lt;p&gt;For the time being, my opinion is to work to get this chunk of code into the snapshot branch, and then do patches on top of this to further simplify the implementation.&lt;/p&gt;</comment>
                            <comment id="13491806" author="jmhsieh" created="Tue, 6 Nov 2012 20:51:43 +0000"  >&lt;p&gt;Attached some slides with a cartoon showing how this implementation is different from 2pc.&lt;/p&gt;</comment>
                            <comment id="13499010" author="jmhsieh" created="Fri, 16 Nov 2012 18:43:53 +0000"  >&lt;p&gt;An update here &amp;#8211; I&apos;ve been working on making this code significantly more straightforward, and hopefully will be posting some patches related to this soon.&lt;/p&gt;

&lt;p&gt;I&apos;m going to post a few slides, explaining what the classes are, and how they are related and used.  The first patch cut will be off of an old branch &amp;#8211; I&apos;ll port this to the snapshot branch after I get the one of the online snapshot implementations working again.   At the end of the day, this will have removed a few layers, most of the generics, and renamed/restructured quite a bit.&lt;/p&gt;</comment>
                            <comment id="13504196" author="jmhsieh" created="Mon, 26 Nov 2012 22:38:12 +0000"  >&lt;p&gt;Superceded by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7212&quot; title=&quot;Globally Barriered Procedure mechanism&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7212&quot;&gt;&lt;del&gt;HBASE-7212&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12603331">HBASE-6571</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12552337" name="Procedure coordination.pdf" size="427534" author="jmhsieh" created="Tue, 6 Nov 2012 20:51:43 +0000"/>
                            <attachment id="12540775" name="java_HBASE-6573-v0.patch" size="18036" author="jesse_yates" created="Mon, 13 Aug 2012 21:47:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Aug 2012 22:00:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255569</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0frd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90030</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>