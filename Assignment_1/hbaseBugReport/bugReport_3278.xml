<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:08:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3278/HBASE-3278.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3278] AssertionError in LoadBalancer</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3278</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;While running PE with low splitting configuration, I got this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
2010-11-24 23:23:24,508 INFO org.apache.hadoop.hbase.master.ServerManager: Received REGION_SPLIT: TestTable,0002485653,...
2010-11-24 23:23:26,129 INFO org.apache.hadoop.hbase.master.ServerManager: Received REGION_SPLIT: TestTable,0004309306,...
2010-11-24 23:23:26,132 INFO org.apache.hadoop.hbase.master.ServerManager: Received REGION_SPLIT: TestTable,0001281491...
2010-11-24 23:23:26,162 FATAL org.apache.hadoop.hbase.master.HMaster$1: sv2borg180:61000-BalancerChoreerror
java.lang.AssertionError
	at org.apache.hadoop.hbase.master.LoadBalancer.balanceCluster(LoadBalancer.java:296)
	at org.apache.hadoop.hbase.master.HMaster.balance(HMaster.java:679)
	at org.apache.hadoop.hbase.master.HMaster$1.chore(HMaster.java:578)
	at org.apache.hadoop.hbase.Chore.run(Chore.java:66)
2010-11-24 23:23:26,163 INFO org.apache.hadoop.hbase.master.HMaster$1: sv2borg180:61000-BalancerChore exiting
2010-11-24 23:23:26,236 INFO org.apache.hadoop.hbase.master.ServerManager: Received REGION_SPLIT: TestTable,0000921369,...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The thread dies but the master survives. There&apos;s nothing specific before that in the log, just regions splitting.&lt;/p&gt;

&lt;p&gt;The line in LoadBalancer is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt;(regionidx == regionsToMove.size());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12480880">HBASE-3278</key>
            <summary>AssertionError in LoadBalancer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="streamy">Jonathan Gray</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Nov 2010 23:53:28 +0000</created>
                <updated>Fri, 20 Nov 2015 12:43:41 +0000</updated>
                            <resolved>Tue, 7 Dec 2010 05:27:18 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                    <fixVersion>0.92.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12964922" author="stack" created="Mon, 29 Nov 2010 20:24:34 +0000"  >&lt;p&gt;This patch adds logging to the load balancer assertion so we can get a clue as to how the scenario arose.  I&apos;m committing it.&lt;/p&gt;</comment>
                            <comment id="12964925" author="streamy" created="Mon, 29 Nov 2010 20:27:11 +0000"  >&lt;p&gt;+1.  You have some &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3243&quot; title=&quot;Disable Table closed region on wrong host&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3243&quot;&gt;&lt;del&gt;HBASE-3243&lt;/del&gt;&lt;/a&gt; left in the patch but both good for commit &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I looked at this and couldn&apos;t figure how it happened.  Good on you for debug, stack.&lt;/p&gt;</comment>
                            <comment id="12965026" author="stack" created="Tue, 30 Nov 2010 00:28:54 +0000"  >&lt;p&gt;Moving out to 0.90.1 till we get more data&lt;/p&gt;</comment>
                            <comment id="12965027" author="streamy" created="Tue, 30 Nov 2010 00:37:38 +0000"  >&lt;p&gt;Seems like &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3284&quot; title=&quot;In master when handling a split, the offline of parent and online of children is not done atomically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3284&quot;&gt;&lt;del&gt;HBASE-3284&lt;/del&gt;&lt;/a&gt; could cause this.  Need to look more at the locking the balancer does.  At first I thought it wasn&apos;t locking enough but now it seems like it locks where it needs to.&lt;/p&gt;</comment>
                            <comment id="12968535" author="streamy" created="Tue, 7 Dec 2010 01:48:33 +0000"  >&lt;p&gt;Fixes bug in load balancer and adds test from stack that uncovered bug.&lt;/p&gt;</comment>
                            <comment id="12968568" author="stack" created="Tue, 7 Dec 2010 04:24:53 +0000"  >&lt;p&gt;+1 because of the added test&lt;/p&gt;</comment>
                            <comment id="12968575" author="stack" created="Tue, 7 Dec 2010 05:27:18 +0000"  >&lt;p&gt;Committed trunk and branch.&lt;/p&gt;</comment>
                            <comment id="15017593" author="lars_francke" created="Fri, 20 Nov 2015 12:43:41 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465649" name="HBASE-3278-v1.patch" size="1643" author="streamy" created="Tue, 7 Dec 2010 01:48:32 +0000"/>
                            <attachment id="12464897" name="lb.txt" size="1310" author="stack" created="Mon, 29 Nov 2010 20:24:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Nov 2010 20:24:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26756</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hljr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>