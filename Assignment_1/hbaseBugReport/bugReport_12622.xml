<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:34:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12622/HBASE-12622.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12622] user_permission should require global admin to display global and ns permissions</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12622</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;user_permission check the user permission only on the table level (requiring at least a table-level admin)&lt;br/&gt;
global and namespace permission listing is done without checking anything.&lt;br/&gt;
but only a global admins should be able to perform this operations.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12759134">HBASE-12622</key>
            <summary>user_permission should require global admin to display global and ns permissions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="mbertozzi">Matteo Bertozzi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Dec 2014 10:15:25 +0000</created>
                <updated>Tue, 29 Mar 2016 22:15:32 +0000</updated>
                            <resolved>Fri, 5 Dec 2014 11:18:33 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>0.98.8</version>
                    <version>0.99.2</version>
                                    <fixVersion>1.0.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.9</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14232997" author="anoop.hbase" created="Wed, 3 Dec 2014 13:41:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;requireGlobalPermission(&quot;userPermissions&quot;, Action.ADMIN, namespace);&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Pls check whether this method really checks for the ns level permission given for the user. I have doubt.&lt;/p&gt;</comment>
                            <comment id="14233030" author="ashish singhi" created="Wed, 3 Dec 2014 14:26:24 +0000"  >&lt;p&gt;Yes Anoop you are right. The namespace variable is just being used their for logging, not using it for authorizing.&lt;/p&gt;

&lt;p&gt;I tested the patch with following scenario,&lt;br/&gt;
1. grant &apos;non-super&apos;, &apos;RWXCA&apos;, &apos;@ns&apos;&lt;br/&gt;
2.user_permission &apos;@ns&apos;&lt;/p&gt;

&lt;p&gt;It fails with ADE as there it only checks for global ADMIN permission for user.&lt;br/&gt;
When I also authorize for namespace, it works fine.&lt;/p&gt;

&lt;p&gt;That means other five commands using this method to authorize namespace not meeting the developer intention.&lt;/p&gt;</comment>
                            <comment id="14233049" author="anoop.hbase" created="Wed, 3 Dec 2014 14:39:48 +0000"  >&lt;p&gt;Thanks for testing Ashish.. &lt;/p&gt;</comment>
                            <comment id="14233193" author="mbertozzi" created="Wed, 3 Dec 2014 16:59:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish+singhi&quot; class=&quot;user-hover&quot; rel=&quot;ashish singhi&quot;&gt;Ashish Singhi&lt;/a&gt; do you want to open a new jira to fix the requireGlobalPermission(ns) with NS for all the methods that use that? (e.g. grant/revoke/modifyNS/deleteNS/..)&lt;/p&gt;</comment>
                            <comment id="14233200" author="ashish singhi" created="Wed, 3 Dec 2014 17:14:35 +0000"  >&lt;p&gt;Yes I can do that tomorrow morning as per IST zone. &lt;/p&gt;</comment>
                            <comment id="14233783" author="apurtell" created="Thu, 4 Dec 2014 01:36:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;do you want to open a new jira to fix the requireGlobalPermission(ns) with NS for all the methods that use that? (e.g. grant/revoke/modifyNS/deleteNS/..)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So this issue is invalid?&lt;/p&gt;</comment>
                            <comment id="14233883" author="ashish singhi" created="Thu, 4 Dec 2014 03:41:49 +0000"  >&lt;p&gt;No Andy, This is still valid.&lt;br/&gt;
But before this we need to fix the requireGlobalPermission(ns) issue.&lt;br/&gt;
I will raise a jira and provide a patch as soon as possible.&lt;/p&gt;</comment>
                            <comment id="14233905" author="srikanth235" created="Thu, 4 Dec 2014 04:36:54 +0000"  >&lt;p&gt;My two cents.&lt;br/&gt;
Going by the discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9206&quot; title=&quot;namespace permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9206&quot;&gt;HBASE-9206&lt;/a&gt;, specifically&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&apos;A&apos; on the namespace does not grant admin privilege - let&apos;s document this exception clearly.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;my understanding is there isn&apos;t any support added for namespace admin, so adding support for requireGlobalPermission(ns) is non-trivial/major change, as it needs to be implemented from scratch. Maybe, we can move forward with the global checks for now?&lt;/p&gt;</comment>
                            <comment id="14233923" author="srikanth235" created="Thu, 4 Dec 2014 05:23:08 +0000"  >&lt;p&gt;My bad. TableAuthManager already has the utility methods for verifying the table admin. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish+singhi&quot; class=&quot;user-hover&quot; rel=&quot;ashish singhi&quot;&gt;Ashish Singhi&lt;/a&gt; for quick followup.&lt;/p&gt;</comment>
                            <comment id="14234167" author="anoop.hbase" created="Thu, 4 Dec 2014 12:23:00 +0000"  >&lt;p&gt;+1 for this patch after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12634&quot; title=&quot; Fix the AccessController#requireGlobalPermission(ns) with NS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12634&quot;&gt;&lt;del&gt;HBASE-12634&lt;/del&gt;&lt;/a&gt;  goes in.&lt;/p&gt;</comment>
                            <comment id="14234170" author="ashish singhi" created="Thu, 4 Dec 2014 12:27:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; can we move the test to TestNamespaceCommands, as all the namespace related test are available there and also we can validate for the user with admin rights on namespace is allowed to execute user_permission.?&lt;/p&gt;</comment>
                            <comment id="14234464" author="apurtell" created="Thu, 4 Dec 2014 18:49:12 +0000"  >&lt;p&gt;Ok, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish+singhi&quot; class=&quot;user-hover&quot; rel=&quot;ashish singhi&quot;&gt;Ashish Singhi&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14234533" author="srikanth235" created="Thu, 4 Dec 2014 19:40:25 +0000"  >&lt;p&gt;+1 (non-binding).&lt;/p&gt;</comment>
                            <comment id="14235086" author="ashish singhi" created="Fri, 5 Dec 2014 05:01:12 +0000"  >&lt;p&gt;v1 looks lgtm too&lt;/p&gt;</comment>
                            <comment id="14235448" author="hudson" created="Fri, 5 Dec 2014 12:57:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.0 #543 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/543/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/543/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12622&quot; title=&quot;user_permission should require global admin to display global and ns permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12622&quot;&gt;&lt;del&gt;HBASE-12622&lt;/del&gt;&lt;/a&gt; user_permission should require global admin to display global and ns permissions (matteo.bertozzi: rev 398e4f7ccfd821577f36c416db2dc9ed507efe8b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestNamespaceCommands.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14235461" author="hudson" created="Fri, 5 Dec 2014 13:07:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #719 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/719/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/719/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12622&quot; title=&quot;user_permission should require global admin to display global and ns permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12622&quot;&gt;&lt;del&gt;HBASE-12622&lt;/del&gt;&lt;/a&gt; user_permission should require global admin to display global and ns permissions (matteo.bertozzi: rev f508f9162f26c08ef8e40e9080eb00c730db55fe)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestNamespaceCommands.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14235464" author="hudson" created="Fri, 5 Dec 2014 13:16:32 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5869 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5869/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5869/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12622&quot; title=&quot;user_permission should require global admin to display global and ns permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12622&quot;&gt;&lt;del&gt;HBASE-12622&lt;/del&gt;&lt;/a&gt; user_permission should require global admin to display global and ns permissions (matteo.bertozzi: rev c8362a7bb2876e5b4aeb2b979458179b3a650115)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestNamespaceCommands.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14235542" author="hudson" created="Fri, 5 Dec 2014 14:31:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #686 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/686/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/686/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12622&quot; title=&quot;user_permission should require global admin to display global and ns permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12622&quot;&gt;&lt;del&gt;HBASE-12622&lt;/del&gt;&lt;/a&gt; user_permission should require global admin to display global and ns permissions (matteo.bertozzi: rev f508f9162f26c08ef8e40e9080eb00c730db55fe)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestNamespaceCommands.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331805" author="enis" created="Sat, 21 Feb 2015 23:49:13 +0000"  >&lt;p&gt;Closing this issue after 1.0.0 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12759355">HBASE-12634</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12684864" name="HBASE-12622-v0.patch" size="4479" author="mbertozzi" created="Wed, 3 Dec 2014 10:16:25 +0000"/>
                            <attachment id="12685123" name="HBASE-12622-v1.patch" size="12251" author="mbertozzi" created="Thu, 4 Dec 2014 16:09:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Dec 2014 13:41:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23093:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>