<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:10:24 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10092/HBASE-10092.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10092] Move up on to log4j2</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10092</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Allows logging with less friction.  See &lt;a href=&quot;http://logging.apache.org/log4j/2.x/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://logging.apache.org/log4j/2.x/&lt;/a&gt;  This rather radical transition can be done w/ minor change given they have an adapter for apache&apos;s logging, the one we use.  They also have and adapter for slf4j so we likely can remove at least some of the 4 versions of this module our dependencies make use of.&lt;/p&gt;

&lt;p&gt;I made a start in attached patch but am currently stuck in maven dependency resolve hell courtesy of our slf4j.  Fixing will take some concentration and a good net connection, an item I currently lack.  Other TODOs are that will need to fix our little log level setting jsp page &amp;#8211; will likely have to undo our use of hadoop&apos;s tool here &amp;#8211; and the config system changes a little.&lt;/p&gt;

&lt;p&gt;I will return to this project soon.  Will bring numbers.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12683027">HBASE-10092</key>
            <summary>Move up on to log4j2</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12750429">HBASE-12341</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="posix4e">Alex Newman</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2013 00:03:00 +0000</created>
                <updated>Wed, 17 Aug 2016 07:53:29 +0000</updated>
                                                            <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13841892" author="stack" created="Fri, 6 Dec 2013 23:35:07 +0000"  >&lt;p&gt;Make sure zkcli works when I am done...see if I can fix the eclipse issue over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10073&quot; title=&quot;Revert HBASE-9718 (Add a test scope dependency on org.slf4j:slf4j-api to hbase-client)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10073&quot;&gt;&lt;del&gt;HBASE-10073&lt;/del&gt;&lt;/a&gt; while I am at it.&lt;/p&gt;</comment>
                            <comment id="13950343" author="stack" created="Fri, 28 Mar 2014 04:15:31 +0000"  >&lt;p&gt;I need to convert the log4j.properties files to log4j2.xml files.&lt;/p&gt;</comment>
                            <comment id="13950345" author="stack" created="Fri, 28 Mar 2014 04:15:47 +0000"  >&lt;p&gt;See how it does...&lt;/p&gt;</comment>
                            <comment id="13950436" author="hadoopqa" created="Fri, 28 Mar 2014 06:27:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12637326/10092v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12637326/10092v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12637326&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 6 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestClientScannerRPCTimeout&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestMultiParallel&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestReplicationKillMasterRSCompressed&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestReplicationKillMasterRS&lt;br/&gt;
                  org.apache.hadoop.hbase.fs.TestBlockReorder&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestReplicationKillSlaveRS&lt;br/&gt;
                  org.apache.hadoop.hbase.snapshot.TestFlushSnapshotFromClient&lt;br/&gt;
                  org.apache.hadoop.hbase.TestIOFencing&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestReplicationSmallTests&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.wal.TestSecureHLog&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestReplicationDisableInactivePeer&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.wal.TestHLogSplit&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestFromClientSide&lt;br/&gt;
                  org.apache.hadoop.hbase.ipc.TestDelayedRpc&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.wal.TestHLogSplitCompressed&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestReplicationChangingPeerRegionservers&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;br/&gt;
                  org.apache.hadoop.hbase.filter.TestFilterWithScanLimits&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestReplicationSyncUpTool&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9123//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14015927" author="apurtell" created="Mon, 2 Jun 2014 21:35:41 +0000"  >&lt;p&gt;The patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11284&quot; title=&quot;Asynchronous logging with Log4j2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11284&quot;&gt;&lt;del&gt;HBASE-11284&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Change summary:&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;53 files changed, 497 insertions, 531 deletions&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;POM changes: Import log4j2 artifacts only into the compiler classpath. Include the artifacts that wire log4j2 up to commons-logging and slf4j. Exclude log4j1 except in test scope (required by Hadoop). Bring slf4j into test scope also (required by Hadoop, ZooKeeper, and Thrift).&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;org.apache.log4j.Level is an internal implementation detail of 1.x no longer available. Remove all uses.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;org.apache.log4j.Appender is also an internal implementation detail of 1.x. One unit test and a log management utility requires reimplementation or removal. For now offending code is commented out and marked with TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Replace log4j.properties files with log4j2.xml and log4j2-test.xml files. Not sure if these are functional yet. May require tweaks if significantly deviating from old behavior. conf/hbase-env.sh and bin/hbase required minor related changes. Haven&apos;t figured out how to do custom log levels yet like we had in the old log4j.properties files.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14017846" author="stack" created="Wed, 4 Jun 2014 16:46:48 +0000"  >&lt;p&gt;How to progress on this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;+ Need to make tgzs and see that stuff lands in right place.  Add some excludes for transitive includes of old log4js.&lt;br/&gt;
+ Need to try in standalone, pseudo, and cluster and bring up shell to make sure logs are ending up in right place?&lt;/p&gt;

&lt;p&gt;I&apos;d be tempted to just commit something that basically worked and then work out the rest in subsequent issues.&lt;/p&gt;</comment>
                            <comment id="14017871" author="apurtell" created="Wed, 4 Jun 2014 17:09:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;Need to make tgzs and see that stuff lands in right place. Add some excludes for transitive includes of old log4js.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I did this and checked mvn dependency:tree. It looks good. I then had to add back log4j 1 and slf4j in test scope so we could actually instantiate Hadoop classes for running unit tests (Java logging is a disaster), not sure what that is going to do in an assembly.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Need to try in standalone, pseudo, and cluster and bring up shell to make sure logs are ending up in right place&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, the new log4j2.xml files are untested and I&apos;m sure need work. &lt;/p&gt;</comment>
                            <comment id="14100982" author="posix4e" created="Mon, 18 Aug 2014 18:13:41 +0000"  >&lt;p&gt;Mind if I hope on this patch?&lt;/p&gt;</comment>
                            <comment id="14100994" author="apurtell" created="Mon, 18 Aug 2014 18:20:12 +0000"  >&lt;p&gt;Reassigned to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=posix4e&quot; class=&quot;user-hover&quot; rel=&quot;posix4e&quot;&gt;Alex Newman&lt;/a&gt;. Good luck!&lt;/p&gt;</comment>
                            <comment id="14101046" author="stack" created="Mon, 18 Aug 2014 18:42:17 +0000"  >&lt;p&gt;I think this a hbase 2.0 issue now.  Log config format changes which will be too much to take on in a 1.0 hbase (IMO).&lt;/p&gt;</comment>
                            <comment id="14101073" author="apurtell" created="Mon, 18 Aug 2014 18:51:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;Log config format changes which will be too much to take on in a 1.0 hbase (IMO).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Was thinking about this also. So let me just propose it then.. What about putting in a log configuration file adapter so we don&apos;t have to change our log4j properties files until later? This would be needed if we ever wanted to backport async logging improvements to something like 0.98. &lt;/p&gt;</comment>
                            <comment id="14101127" author="stack" created="Mon, 18 Aug 2014 19:21:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;What about putting in a log configuration file adapter so we don&apos;t have to change our log4j properties files until later?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;d make it palatable.&lt;/p&gt;</comment>
                            <comment id="14101667" author="jvz" created="Tue, 19 Aug 2014 01:21:38 +0000"  >&lt;p&gt;If support for properties files is that important, vote for &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-635&quot; title=&quot;Log4j 2 should also support properties file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-635&quot;&gt;&lt;del&gt;LOG4J2-635&lt;/del&gt;&lt;/a&gt;. I personally find them horribly confusing to use in comparison with the XML/JSON/YAML formats, but it seems to be a desired feature.&lt;/p&gt;

&lt;p&gt;Otherwise, you can create a custom ConfigurationFactory to do your own config file parsing and delegation.&lt;/p&gt;</comment>
                            <comment id="14101706" author="posix4e" created="Tue, 19 Aug 2014 01:55:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jvz&quot; class=&quot;user-hover&quot; rel=&quot;jvz&quot;&gt;Matt Sicker&lt;/a&gt; I don&apos;t think properties is a blocker one way or another.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;br/&gt;
I am trying to figure out what to do with HttpRequestLogAppender. Is this anything more than trying to get jetty to log to log4j? If so can we just do &lt;a href=&quot;http://www.eclipse.org/jetty/documentation/current/example-logging-log4j.html?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.eclipse.org/jetty/documentation/current/example-logging-log4j.html?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14101723" author="posix4e" created="Tue, 19 Aug 2014 02:09:58 +0000"  >&lt;p&gt;Any reason why we should not consider logback? It looks like supporting unit testing with the new version of surefire is going to be very hard with log4j2&lt;/p&gt;</comment>
                            <comment id="14101994" author="nkeywal" created="Tue, 19 Aug 2014 07:58:43 +0000"  >&lt;p&gt;The issue I had with common-logging in the past was the lack of MDC (I wanted to log the htrace id). All other wrappers support MDC.&lt;/p&gt;

&lt;p&gt;But naive question: would it make sense to use directly log4j2 instead of using a wrapper?&lt;/p&gt;</comment>
                            <comment id="14101997" author="posix4e" created="Tue, 19 Aug 2014 08:02:06 +0000"  >&lt;p&gt;The good news is that I am fairly sure unit tests will not be an issue with log4j2. As far as using it directly, I am game. But it&apos;s a much larger change. I think I am very close on this one.&lt;/p&gt;</comment>
                            <comment id="14102324" author="nkeywal" created="Tue, 19 Aug 2014 15:33:49 +0000"  >&lt;p&gt;Yeah, using it directly is more in the scope of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11334&quot; title=&quot;Migrate to SLF4J as logging interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11334&quot;&gt;&lt;del&gt;HBASE-11334&lt;/del&gt;&lt;/a&gt;. Putting a comment there.&lt;/p&gt;</comment>
                            <comment id="14102712" author="apurtell" created="Tue, 19 Aug 2014 19:40:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t think properties is a blocker one way or another.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;See Stack&apos;s comment above. The change will not be palatable for current or anticipated releases (0.98, 1.0) without properties file compatibility. A trunk only change would still be a great contribution but with less impact. I would really like to see async logging a possibility in 0.98 so will need to do this work at least in that branch. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Any reason why we should not consider logback? It looks like supporting unit testing with the new version of surefire is going to be very hard with log4j2&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hadoop is looking at moving up to log4j2 also. What kind of hell will we be in if Hadoop is on log4j2 and we are on logback? Isn&apos;t log4j2 the continuation of logback? &lt;/p&gt;</comment>
                            <comment id="14102713" author="apurtell" created="Tue, 19 Aug 2014 19:41:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;If support for properties files is that important, vote for &lt;a href=&quot;https://issues.apache.org/jira/browse/LOG4J2-635&quot; title=&quot;Log4j 2 should also support properties file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LOG4J2-635&quot;&gt;&lt;del&gt;LOG4J2-635&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As requested, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jvz&quot; class=&quot;user-hover&quot; rel=&quot;jvz&quot;&gt;Matt Sicker&lt;/a&gt;! &lt;/p&gt;</comment>
                            <comment id="14109914" author="posix4e" created="Mon, 25 Aug 2014 22:53:57 +0000"  >&lt;p&gt;I have attached a preview patch to keep this up to date. You can follow my realtime progress at&lt;br/&gt;
&lt;a href=&quot;https://github.com/OhmData/hbase-public/tree/10092&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/OhmData/hbase-public/tree/10092&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Overall, there&apos;s a bunch of stuff I want feedback on.&lt;/p&gt;

&lt;p&gt;1 -  What is the purpose of setting the request logger? Setting appenders is a bit more difficult to do in the new log4j2. Perhaps we would be better just upgrading to jetty 9 and using the built in capability. Another option may be using routing.&lt;br/&gt;
2 - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; Why did you leave in the log4j v1 stuff. Is the compatibility the useful part. What am I missing?&lt;/p&gt;</comment>
                            <comment id="14109967" author="hadoopqa" created="Mon, 25 Aug 2014 23:21:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12664241/HBASE-10092-preview-v0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12664241/HBASE-10092-preview-v0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12664241&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 99 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The applied patch generated 69 javac compiler warnings (more than the trunk&apos;s current 45 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 6 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestDynamicClassLoader&lt;br/&gt;
                  org.apache.hadoop.hbase.io.crypto.aes.TestAES&lt;br/&gt;
                  org.apache.hadoop.hbase.io.crypto.TestKeyProvider&lt;br/&gt;
                  org.apache.hadoop.hbase.io.crypto.TestCipherProvider&lt;br/&gt;
                  org.apache.hadoop.hbase.io.crypto.TestEncryption&lt;br/&gt;
                  org.apache.hadoop.hbase.util.TestCoprocessorClassLoader&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10572//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14110140" author="apurtell" created="Tue, 26 Aug 2014 01:35:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why did you leave in the log4j v1 stuff. Is the compatibility the useful part. What am I missing?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can you be a bit more specific?&lt;/p&gt;</comment>
                            <comment id="14110322" author="stack" created="Tue, 26 Aug 2014 05:45:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;What is the purpose of setting the request logger? Setting appenders is a bit more difficult to do in the new log4j2. Perhaps we would be better just upgrading to jetty 9 and using the built in capability. Another option may be using routing.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Which request logger? Is this in the http package only?  That came in from hadoop recently.&lt;/p&gt;</comment>
                            <comment id="14110330" author="posix4e" created="Tue, 26 Aug 2014 05:55:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; I meant including log4j v1 in the poms. I&apos;ve noticed that I needed to include it in a few places for dependencies, but I&apos;m curious what the rational was.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;  Yes the one in the http package. What exactly does that achieve? I assume it is to consolidate jetty logging through log4j.&lt;/p&gt;</comment>
                            <comment id="14111641" author="apurtell" created="Wed, 27 Aug 2014 00:34:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;I meant including log4j v1 in the poms. I&apos;ve noticed that I needed to include it in a few places for dependencies, but I&apos;m curious what the rational was.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&#8203;If you don&apos;t do that then Hadoop classes won&apos;t link.&#8203; We set up Hadoop miniclusters for a lot of unit tests, hbase-testing-util, etc.&lt;/p&gt;</comment>
                            <comment id="14183286" author="stack" created="Fri, 24 Oct 2014 19:00:47 +0000"  >&lt;p&gt;I moved this out of hbase 1.0.  Move back if viable patch in time.&lt;/p&gt;</comment>
                            <comment id="14658504" author="apurtell" created="Wed, 5 Aug 2015 16:52:48 +0000"  >&lt;p&gt;Cancelling stale patch&lt;/p&gt;</comment>
                            <comment id="14658505" author="apurtell" created="Wed, 5 Aug 2015 16:52:54 +0000"  >&lt;p&gt;We should consider reviving this now that log4j v1 is officially EOL: &lt;a href=&quot;https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15419920" author="mikaelstaldal" created="Sat, 13 Aug 2016 13:28:34 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I am member of Apache Logging project PMC.&lt;/p&gt;

&lt;p&gt;Due to various issues in Log4j 1.2.x, it will no longer work in JDK9: &lt;a href=&quot;http://mail.openjdk.java.net/pipermail/jigsaw-dev/2016-July/008654.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail.openjdk.java.net/pipermail/jigsaw-dev/2016-July/008654.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As Log4j 1.x is EOL, these issues will not be fixed. We suggest upgrading to Log4j 2.x, we can offer help to do so.&lt;/p&gt;</comment>
                            <comment id="15424051" author="mikaelstaldal" created="Wed, 17 Aug 2016 07:53:29 +0000"  >&lt;p&gt;We are working on supporting Log4j 1 log4j.properties configuration files. The plan is to have that ready in the next release of Log4j (2.7).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12682505">HBASE-10073</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12465243">HBASE-2608</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12720747">HBASE-11334</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12702514">HBASE-10796</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12952690">HADOOP-12956</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12997132">LOG4J2-1515</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617274" name="10092.txt" size="3950" author="stack" created="Fri, 6 Dec 2013 00:03:58 +0000"/>
                            <attachment id="12637326" name="10092v2.txt" size="3946" author="stack" created="Fri, 28 Mar 2014 04:15:31 +0000"/>
                            <attachment id="12664241" name="HBASE-10092-preview-v0.patch" size="104805" author="posix4e" created="Mon, 25 Aug 2014 22:51:23 +0000"/>
                            <attachment id="12648005" name="HBASE-10092.patch" size="92330" author="apurtell" created="Mon, 2 Jun 2014 21:35:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 Mar 2014 06:27:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362279</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qg53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>