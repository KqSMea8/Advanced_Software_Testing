<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:18:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10877/HBASE-10877.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10877] HBase non-retriable exception list should be expanded</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10877</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Example where retries do not make sense:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-03-31 20:54:27,765 WARN [InputInitializer [Map 1] #0] org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation: Encountered problems when prefetch hbase:meta table: 
org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed after attempts=35, exceptions:
Mon Mar 31 20:45:17 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: class com.google.protobuf.HBaseZeroCopyByteString cannot access its superclass com.google.protobuf.LiteralByteString
Mon Mar 31 20:45:17 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:45:17 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:45:18 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:45:20 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:45:24 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:45:34 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:45:45 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:45:55 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:46:05 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:46:25 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:46:45 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:47:05 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:47:25 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:47:45 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:48:05 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:48:25 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:48:46 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:49:06 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:49:26 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:49:46 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:50:06 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:50:26 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:50:46 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:51:06 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:51:26 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:51:46 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:52:06 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:52:27 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:52:47 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:53:07 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:53:27 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:53:47 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:54:07 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString
Mon Mar 31 20:54:27 UTC 2014, org.apache.hadoop.hbase.client.RpcRetryingCaller@343d511e, java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString

	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:136)
	at org.apache.hadoop.hbase.client.HTable.getRowOrBefore(HTable.java:751)
	at org.apache.hadoop.hbase.client.MetaScanner.metaScan(MetaScanner.java:147)
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.prefetchRegionCache(ConnectionManager.java:1167)
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.locateRegionInMeta(ConnectionManager.java:1232)
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.locateRegion(ConnectionManager.java:1119)
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.locateRegion(ConnectionManager.java:1102)
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.locateRegion(ConnectionManager.java:1061)
	at org.apache.hadoop.hbase.client.HTable.finishSetup(HTable.java:347)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12705793">HBASE-10877</key>
            <summary>HBase non-retriable exception list should be expanded</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Mar 2014 21:44:51 +0000</created>
                <updated>Thu, 28 Jan 2016 20:12:09 +0000</updated>
                            <resolved>Thu, 3 Apr 2014 22:46:25 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13955889" author="ndimiduk" created="Mon, 31 Mar 2014 23:38:33 +0000"  >&lt;p&gt;See the comments on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10432&quot; title=&quot;Rpc retries non-recoverable error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10432&quot;&gt;&lt;del&gt;HBASE-10432&lt;/del&gt;&lt;/a&gt;. We opted on the side of caution, but this IllegalAccessError is a subclass of LinkageError, so should be handled correctly.&lt;/p&gt;</comment>
                            <comment id="13959370" author="stack" created="Thu, 3 Apr 2014 22:46:25 +0000"  >&lt;p&gt;Resolving as no longer a problem.  Reopen Mr. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; if we have it wrong.  Thanks (Nick)&lt;/p&gt;</comment>
                            <comment id="13959417" author="sershe" created="Thu, 3 Apr 2014 23:21:47 +0000"  >&lt;p&gt;I think I&apos;ve seen it fairly recently. If we are sure this works...&lt;br/&gt;
Will reopen if I see something simialar again&lt;/p&gt;</comment>
                            <comment id="13994502" author="xiemeilong" created="Sun, 11 May 2014 10:11:33 +0000"  >&lt;p&gt;I get this issue, who can tell how to fix???&lt;/p&gt;</comment>
                            <comment id="13994741" author="ndimiduk" created="Mon, 12 May 2014 01:20:04 +0000"  >&lt;p&gt;What version are you using, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xiemeilong&quot; class=&quot;user-hover&quot; rel=&quot;xiemeilong&quot;&gt;xiemeilong&lt;/a&gt;? Can either you or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; give me some repro guidance?&lt;/p&gt;</comment>
                            <comment id="13994790" author="xiemeilong" created="Mon, 12 May 2014 04:28:40 +0000"  >&lt;p&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;~Nick Dimiduk&amp;#93;&lt;/span&gt; I have know my issue, it&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10304&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-10304&lt;/a&gt;.  But I think this also should been improved, this exception cost too long time to be reported. make me confuse what&#8216;s is going on.&lt;/p&gt;

&lt;p&gt; Thanks .  &lt;/p&gt;</comment>
                            <comment id="13995879" author="ndimiduk" created="Tue, 13 May 2014 00:38:18 +0000"  >&lt;p&gt;Ah, yes. This error is not obvious. There&apos;s some discussion for improving the &quot;fat jar&quot; situation on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11118&quot; title=&quot;non environment variable solution for &amp;quot;IllegalAccessError: class com.google.protobuf.ZeroCopyLiteralByteString cannot access its superclass com.google.protobuf.LiteralByteString&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11118&quot;&gt;&lt;del&gt;HBASE-11118&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14001146" author="codingcat" created="Sun, 18 May 2014 18:11:02 +0000"  >&lt;p&gt;met the same problem with 0.98.1 + HDFS 2.3, the full stack looks like:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;code&amp;#93;&lt;/span&gt;&lt;br/&gt;
org.apache.spark.SparkException: Job aborted due to stage failure: Task 0.0:0 failed 4 times, most recent failure: Exception failure in TID 6 on host ip-172-31-34-177.us-west-2.compute.internal: java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString&lt;br/&gt;
        org.apache.hadoop.hbase.protobuf.RequestConverter.buildRegionSpecifier(RequestConverter.java:930)&lt;br/&gt;
        org.apache.hadoop.hbase.protobuf.RequestConverter.buildGetRowOrBeforeRequest(RequestConverter.java:133)&lt;br/&gt;
        org.apache.hadoop.hbase.protobuf.ProtobufUtil.getRowOrBefore(ProtobufUtil.java:1466)&lt;br/&gt;
        org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegionInMeta(HConnectionManager.java:1236)&lt;br/&gt;
        org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:1110)&lt;br/&gt;
        org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:1067)&lt;br/&gt;
        org.apache.hadoop.hbase.client.AsyncProcess.findDestLocation(AsyncProcess.java:356)&lt;br/&gt;
        org.apache.hadoop.hbase.client.AsyncProcess.submit(AsyncProcess.java:301)&lt;br/&gt;
        org.apache.hadoop.hbase.client.HTable.backgroundFlushCommits(HTable.java:955)&lt;br/&gt;
        org.apache.hadoop.hbase.client.HTable.flushCommits(HTable.java:1239)&lt;br/&gt;
        org.apache.hadoop.hbase.client.HTable.close(HTable.java:1276)&lt;br/&gt;
        org.apache.hadoop.hbase.mapreduce.TableOutputFormat$TableRecordWriter.close(TableOutputFormat.java:112)&lt;br/&gt;
        org.apache.spark.rdd.PairRDDFunctions.org$apache$spark$rdd$PairRDDFunctions$$writeShard$1(PairRDDFunctions.scala:720)&lt;br/&gt;
        org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsNewAPIHadoopDataset$1.apply(PairRDDFunctions.scala:730)&lt;br/&gt;
        org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsNewAPIHadoopDataset$1.apply(PairRDDFunctions.scala:730)&lt;br/&gt;
        org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:111)&lt;br/&gt;
        org.apache.spark.scheduler.Task.run(Task.scala:51)&lt;br/&gt;
        org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:187)&lt;br/&gt;
        java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
        java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
        java.lang.Thread.run(Thread.java:744)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;code&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;can anyone tell me how to fix it? &lt;/p&gt;</comment>
                            <comment id="14001474" author="ndimiduk" created="Mon, 19 May 2014 07:53:44 +0000"  >&lt;p&gt;Can you include some steps to reproduce? How are you launching the spark job? How is HBase packages for that job? My guess is you&apos;re using a single &quot;fat jar&quot;, either with all dependencies expanded or included in a nested lib dir. Can you confirm? Have you looked at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11118&quot; title=&quot;non environment variable solution for &amp;quot;IllegalAccessError: class com.google.protobuf.ZeroCopyLiteralByteString cannot access its superclass com.google.protobuf.LiteralByteString&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11118&quot;&gt;&lt;del&gt;HBASE-11118&lt;/del&gt;&lt;/a&gt;? Thanks.&lt;/p&gt;</comment>
                            <comment id="14001591" author="codingcat" created="Mon, 19 May 2014 11:19:39 +0000"  >&lt;p&gt;yes, I used sbt assembly to generate the fat jar (but even I use sbt package, the problem is still there)&lt;/p&gt;

&lt;p&gt;and the program relies on hbase-common, hbase-client, hbase-server, &lt;/p&gt;

&lt;p&gt;last night, I resolved this issue by add hbase-protocol-0.98.2.jar to the Spark classpath, everything works now&lt;/p&gt;</comment>
                            <comment id="14001615" author="ndimiduk" created="Mon, 19 May 2014 12:00:11 +0000"  >&lt;p&gt;Glad to hear it! Are you willing to write up your process for getting it all working? We can add a section to the online book.&lt;/p&gt;</comment>
                            <comment id="14001618" author="codingcat" created="Mon, 19 May 2014 12:01:53 +0000"  >&lt;p&gt;sure, I will try to finish it within this week&lt;/p&gt;</comment>
                            <comment id="14061562" author="ted.m" created="Tue, 15 Jul 2014 02:23:43 +0000"  >&lt;p&gt;I&apos;m also having this problem.  I tried the hbase-protocol*.jar in the lib directories of Spark in CDH 5.0.2 and was not successful.&lt;/p&gt;

&lt;p&gt;Nan Zhu do you have any additional information for my on how you got it to work.&lt;/p&gt;</comment>
                            <comment id="14061564" author="codingcat" created="Tue, 15 Jul 2014 02:26:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=malaskat&quot; class=&quot;user-hover&quot; rel=&quot;malaskat&quot;&gt;Ted Malaska&lt;/a&gt;, I just added the jar file to $SPARK_CLASSPATH&lt;/p&gt;
</comment>
                            <comment id="14061566" author="codingcat" created="Tue, 15 Jul 2014 02:28:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; sorry for the big delay....&lt;/p&gt;

&lt;p&gt;as I said in the above comment, what I do is actually that set SPARK_CLASSPATH to contain the related jar file&lt;/p&gt;


&lt;p&gt;or you can directly modify bin/compute-classpath.sh in Spark to contain the jar file&lt;/p&gt;</comment>
                            <comment id="14061567" author="codingcat" created="Tue, 15 Jul 2014 02:29:13 +0000"  >&lt;p&gt;BTW, I&apos;m using Spark 1.0...not so sure about other versions....&lt;/p&gt;</comment>
                            <comment id="14061600" author="ted.m" created="Tue, 15 Jul 2014 03:00:57 +0000"  >&lt;p&gt;Nan Zhu, tonight you are my HERO.&lt;/p&gt;

&lt;p&gt;It worked perfectly.  Thank you very much.  &lt;/p&gt;
</comment>
                            <comment id="14061769" author="hudson" created="Tue, 15 Jul 2014 06:47:04 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5304 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5304/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5304/&lt;/a&gt;)&lt;br/&gt;
Add note on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11118&quot; title=&quot;non environment variable solution for &amp;quot;IllegalAccessError: class com.google.protobuf.ZeroCopyLiteralByteString cannot access its superclass com.google.protobuf.LiteralByteString&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11118&quot;&gt;&lt;del&gt;HBASE-11118&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10877&quot; title=&quot;HBase non-retriable exception list should be expanded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10877&quot;&gt;&lt;del&gt;HBASE-10877&lt;/del&gt;&lt;/a&gt; HBaseZeroCopyByteString woes to troubleshooting section (stack: rev bf2933e08ab65af3643bdadbc3d59c943d40602f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/docbkx/troubleshooting.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14062296" author="ndimiduk" created="Tue, 15 Jul 2014 16:48:23 +0000"  >&lt;p&gt;Sounds like you folks are experiencing the issue from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10304&quot; title=&quot;Running an hbase job jar: IllegalAccessError: class com.google.protobuf.ZeroCopyLiteralByteString cannot access its superclass com.google.protobuf.LiteralByteString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10304&quot;&gt;&lt;del&gt;HBASE-10304&lt;/del&gt;&lt;/a&gt;. As of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11118&quot; title=&quot;non environment variable solution for &amp;quot;IllegalAccessError: class com.google.protobuf.ZeroCopyLiteralByteString cannot access its superclass com.google.protobuf.LiteralByteString&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11118&quot;&gt;&lt;del&gt;HBASE-11118&lt;/del&gt;&lt;/a&gt; we have a solution such that adding hbase-protocol.jar to the launch classpath is no longer necessary. This fix will be shipped in 0.98.4. I was working with another user on that ticket to verify that the solution resolves the issue for them. Maybe have a look at the comments over there and verify for us? If things are not working, we should get it resolved now, before 0.98.4 is official.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xiemeilong&quot; class=&quot;user-hover&quot; rel=&quot;xiemeilong&quot;&gt;xiemeilong&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=CodingCat&quot; class=&quot;user-hover&quot; rel=&quot;CodingCat&quot;&gt;Nan Zhu&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted.m&quot; class=&quot;user-hover&quot; rel=&quot;ted.m&quot;&gt;Theodore michael Malaska&lt;/a&gt;: please have a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11118&quot; title=&quot;non environment variable solution for &amp;quot;IllegalAccessError: class com.google.protobuf.ZeroCopyLiteralByteString cannot access its superclass com.google.protobuf.LiteralByteString&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11118&quot;&gt;&lt;del&gt;HBASE-11118&lt;/del&gt;&lt;/a&gt; and continue the conversation over there.&lt;/p&gt;</comment>
                            <comment id="14062318" author="stack" created="Tue, 15 Jul 2014 17:00:22 +0000"  >&lt;p&gt;I added note to refguide troubleshooting section highlighting this exception point folks at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11118&quot; title=&quot;non environment variable solution for &amp;quot;IllegalAccessError: class com.google.protobuf.ZeroCopyLiteralByteString cannot access its superclass com.google.protobuf.LiteralByteString&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11118&quot;&gt;&lt;del&gt;HBASE-11118&lt;/del&gt;&lt;/a&gt;, etc.&lt;/p&gt;</comment>
                            <comment id="14062341" author="ndimiduk" created="Tue, 15 Jul 2014 17:17:01 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14092004" author="gmedasani" created="Sun, 10 Aug 2014 04:32:31 +0000"  >&lt;p&gt;Thanks Ted and Nan Zhu. Adding the hbase-protocol-*.jar to the Classpath fixed my issues as well.&lt;/p&gt;

&lt;p&gt;export SPARK_CLASSPATH=$SPARK_CLASSPATH:/usr/local/Cellar/hbase/0.98.3/libexec/lib/hbase-protocol-0.98.3-hadoop2.jar&lt;/p&gt;

&lt;p&gt;scala&amp;gt; theput.add(Bytes.toBytes(&quot;testColumn&quot;),Bytes.toBytes(&quot;x&quot;),Bytes.toBytes(&quot;y1&quot;))&lt;br/&gt;
res1: org.apache.hadoop.hbase.client.Put = {&quot;totalColumns&quot;:1,&quot;families&quot;:{&quot;testColumn&quot;:[&lt;/p&gt;
{&quot;timestamp&quot;:9223372036854775807,&quot;tag&quot;:[],&quot;qualifier&quot;:&quot;x&quot;,&quot;vlen&quot;:2}
&lt;p&gt;]},&quot;row&quot;:&quot;rowKey1&quot;}&lt;/p&gt;

&lt;p&gt;scala&amp;gt; table.put(theput)&lt;/p&gt;

&lt;p&gt;scala&amp;gt;&lt;/p&gt;

&lt;p&gt;No errors this time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
</comment>
                            <comment id="14092011" author="gmedasani" created="Sun, 10 Aug 2014 04:58:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; Thanks for fixing this is HBase 0.98.4. &lt;/p&gt;</comment>
                            <comment id="14096439" author="ndimiduk" created="Thu, 14 Aug 2014 01:56:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gmedasani&quot; class=&quot;user-hover&quot; rel=&quot;gmedasani&quot;&gt;Guru Medasani&lt;/a&gt; Glad to hear things are working &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15114601" author="ajinkyakale" created="Sun, 24 Jan 2016 23:45:29 +0000"  >&lt;p&gt;I am using SPARK 1.5.1 and HBase 0.98.0 (upgrading HBase is not an option right now)&lt;/p&gt;

&lt;p&gt;SPARK_CLASSPATH is deprecated in Spark 1.0+&lt;br/&gt;
So I used --driver-class-path to add the hbase-protocol jar to the spark classpath but that did not work for me.&lt;br/&gt;
It works if collect all keys (to query hbase) on the driver and make the hbase call but it does not work if I have the keys in an RDD and I make the hbase call across the executors. eg :&lt;/p&gt;

&lt;p&gt;myRDD.collect.callToHBase -&amp;gt; WORKS&lt;br/&gt;
myRDD.callToHBase.collect -&amp;gt; FAILS with the error : java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString&lt;/p&gt;

&lt;p&gt;Any workarounds to avoid HBase 0.98.4+ upgrade ?&lt;/p&gt;</comment>
                            <comment id="15120781" author="ndimiduk" created="Thu, 28 Jan 2016 05:25:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ajinkyakale&quot; class=&quot;user-hover&quot; rel=&quot;ajinkyakale&quot;&gt;Ajinkya Kale&lt;/a&gt; An elaboration of this issue, along with a work-around, are documented on our book. See the end of the mapreduce section: &lt;a href=&quot;http://hbase.apache.org/book.html#hbase.mapreduce.classpath&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#hbase.mapreduce.classpath&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15120783" author="ndimiduk" created="Thu, 28 Jan 2016 05:26:20 +0000"  >&lt;p&gt;You may need to also add the classpath entry to the executor classpath as well.&lt;/p&gt;</comment>
                            <comment id="15121033" author="ajinkyakale" created="Thu, 28 Jan 2016 08:40:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; unfortunately that didnt work. There are no clear steps for spark in the book, unless i am missing something.&lt;br/&gt;
I tried adding the hbase-protocol jar to both driver.classpath as well as executor.classpath without any luck. Any suggestions ?&lt;/p&gt;</comment>
                            <comment id="15121049" author="ajinkyakale" created="Thu, 28 Jan 2016 08:50:47 +0000"  >&lt;p&gt;Also, I get only &quot;java.lang.IllegalAccessError: com/google/protobuf/HBaseZeroCopyByteString &quot; and do not get the super class part in the description of this ticket.&lt;br/&gt;
I dont know if they are different.&lt;/p&gt;</comment>
                            <comment id="15121920" author="ndimiduk" created="Thu, 28 Jan 2016 17:19:11 +0000"  >&lt;p&gt;Could well be different. I&apos;m not thoroughly versed in spark, so I don&apos;t know how much help I can be. Please bring your question to the user mailing list and provide the full stack trace. We&apos;ll get you sorted out.&lt;/p&gt;</comment>
                            <comment id="15122130" author="sershe" created="Thu, 28 Jan 2016 19:12:01 +0000"  >&lt;p&gt;We should add a stackoverflow question w/the answer and link to it from the description in this JIRA &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15122250" author="ajinkyakale" created="Thu, 28 Jan 2016 20:12:09 +0000"  >&lt;p&gt;I do have a stackoverflow question &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; But these workarounds dont seem to work for me.&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/questions/34909506/accessing-hbase-tables-through-spark&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/34909506/accessing-hbase-tables-through-spark&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12728752">HIVE-7467</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 31 Mar 2014 23:38:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            46 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6br:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>