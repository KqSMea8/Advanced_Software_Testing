<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:54:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14605/HBASE-14605.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14605] Split fails due to &apos;No valid credentials&apos; error when SecureBulkLoadEndpoint#start tries to access hdfs</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14605</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;During recent testing in secure cluster (with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt;), we found the following when user X (non-super user) split a table with region replica:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-10-12 10:58:18,955 ERROR [FifoRpcScheduler.handler1-thread-9] master.HMaster: Region server hbase-4-4.novalocal,60020,1444645588137 reported a fatal error:
ABORTING region server hbase-4-4.novalocal,60020,1444645588137: The coprocessor org.apache.hadoop.hbase.security.access.SecureBulkLoadEndpoint threw an unexpected   exception
Cause:
java.lang.IllegalStateException: Failed to get FileSystem instance
  at org.apache.hadoop.hbase.security.access.SecureBulkLoadEndpoint.start(SecureBulkLoadEndpoint.java:148)
  at org.apache.hadoop.hbase.coprocessor.CoprocessorHost$Environment.startup(CoprocessorHost.java:415)
  at org.apache.hadoop.hbase.coprocessor.CoprocessorHost.loadInstance(CoprocessorHost.java:257)
  at org.apache.hadoop.hbase.coprocessor.CoprocessorHost.loadSystemCoprocessors(CoprocessorHost.java:160)
  at org.apache.hadoop.hbase.regionserver.RegionCoprocessorHost.&amp;lt;init&amp;gt;(RegionCoprocessorHost.java:192)
  at org.apache.hadoop.hbase.regionserver.HRegion.&amp;lt;init&amp;gt;(HRegion.java:701)
  at org.apache.hadoop.hbase.regionserver.HRegion.&amp;lt;init&amp;gt;(HRegion.java:608)
...
Caused by: java.io.IOException: Failed on local exception: java.io.IOException: javax.security.sasl.SaslException: GSS initiate failed [Caused by GSSException: No valid          credentials provided (Mechanism level: Failed to find any Kerberos tgt)]; Host Details : local host is: &lt;span class=&quot;code-quote&quot;&gt;&quot;hbase-4-4/172.22.66.186&quot;&lt;/span&gt;; destination host is: &lt;span class=&quot;code-quote&quot;&gt;&quot;os-r6-      okarus-hbase-4-2.novalocal&quot;&lt;/span&gt;:8020;
  at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:772)
  at org.apache.hadoop.ipc.Client.call(Client.java:1473)
  at org.apache.hadoop.ipc.Client.call(Client.java:1400)
  at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:232)
  at com.sun.proxy.$Proxy18.mkdirs(Unknown Source)
  at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.mkdirs(ClientNamenodeProtocolTranslatorPB.java:555)
  at sun.reflect.GeneratedMethodAccessor13.invoke(Unknown Source)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:606)
  at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:187)
  at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:102)
  at com.sun.proxy.$Proxy19.mkdirs(Unknown Source)
  at org.apache.hadoop.hdfs.DFSClient.primitiveMkdir(DFSClient.java:2775)
  at org.apache.hadoop.hdfs.DFSClient.mkdirs(DFSClient.java:2746)
  at org.apache.hadoop.hdfs.DistributedFileSystem$19.doCall(DistributedFileSystem.java:967)
  at org.apache.hadoop.hdfs.DistributedFileSystem$19.doCall(DistributedFileSystem.java:963)
  at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The cause was that SecureBulkLoadEndpoint#start tried to create staging dir in hdfs as user X but didn&apos;t pass authentication.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12904886">HBASE-14605</key>
            <summary>Split fails due to &apos;No valid credentials&apos; error when SecureBulkLoadEndpoint#start tries to access hdfs</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12907554">HBASE-14686</parent>
                                    <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Oct 2015 14:31:11 +0000</created>
                <updated>Wed, 27 Jan 2016 15:28:49 +0000</updated>
                            <resolved>Mon, 7 Dec 2015 21:41:09 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                    <fixVersion>0.98.16</fixVersion>
                                    <component>Coprocessors</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>13</watches>
                                                                <comments>
                            <comment id="14957022" author="yuzhihong@gmail.com" created="Wed, 14 Oct 2015 14:34:32 +0000"  >&lt;p&gt;Initially, I came up with a patch that narrows the scope of doAs() calls to region observer notifications.&lt;br/&gt;
However, each observer notification spans multiple lines which makes the code un-clean.&lt;/p&gt;

&lt;p&gt;After discussion with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt;, we came up with the attached patch.&lt;/p&gt;

&lt;p&gt;I have tested the above patch in secure cluster which solved the problem.&lt;/p&gt;</comment>
                            <comment id="14957309" author="jinghe" created="Wed, 14 Oct 2015 17:20:54 +0000"  >&lt;p&gt;This sounds like a regression caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt;, the entire code block of doing split and compaction is enclosed in requestUser.doAs().  Remote request user does not carry security credentials on the server.&lt;br/&gt;
I think the fix should probably go back to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; to narrow the doAs scope there. We only need the access control checking and audit part to be in the doAS() over there.&lt;br/&gt;
We may see other problems (eg. hdfs permissions) because of the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt;, or it just happen to work over there.&lt;/p&gt;</comment>
                            <comment id="14957334" author="yuzhihong@gmail.com" created="Wed, 14 Oct 2015 17:29:14 +0000"  >&lt;p&gt;Jerry,&lt;br/&gt;
As I mentioned previously, I tried to narrow the scope of doAs(). See the attached alternative.&lt;/p&gt;

&lt;p&gt;The alternative is not clean.&lt;/p&gt;

&lt;p&gt;Or, maybe you have something better in mind.&lt;/p&gt;</comment>
                            <comment id="14957366" author="hadoopqa" created="Wed, 14 Oct 2015 17:42:55 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12766555/14605-v1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12766555/14605-v1.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 94bfe909aff9fd74cb1a5d0c3f9209a19704c6cf.&lt;br/&gt;
  ATTACHMENT ID: 12766555&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1749 checkstyle errors (more than the master&apos;s current 1748 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 5 zombie test(s): 	at org.apache.hadoop.hbase.io.encoding.TestChangingEncoding.testCrazyRandomChanges(TestChangingEncoding.java:249)&lt;br/&gt;
	at org.apache.hadoop.hbase.io.hfile.TestScannerSelectionUsingTTL.testScannerSelection(TestScannerSelectionUsingTTL.java:117)&lt;br/&gt;
	at org.apache.hadoop.hbase.io.hfile.TestCacheOnWrite.testNotCachingDataBlocksDuringCompactionInternals(TestCacheOnWrite.java:434)&lt;br/&gt;
	at org.apache.hadoop.hbase.io.hfile.TestCacheOnWrite.testNotCachingDataBlocksDuringCompaction(TestCacheOnWrite.java:459)&lt;br/&gt;
	at org.apache.hadoop.hbase.io.encoding.TestDataBlockEncoders.testSeekingOnSample(TestDataBlockEncoders.java:204)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16007//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16007//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16007//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16007//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16007//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16007//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16007//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16007//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16007//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16007//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14957446" author="yuzhihong@gmail.com" created="Wed, 14 Oct 2015 18:20:33 +0000"  >&lt;p&gt;Using findHangingTests.py :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Fetching https:&lt;span class=&quot;code-comment&quot;&gt;//builds.apache.org/job/PreCommit-HBASE-Build/16007/consoleFull
&lt;/span&gt;Building remotely on &amp;lt;a href=&apos;/computer/H0&apos; class=&apos;model-link&apos;&amp;gt;H0&amp;lt;/a&amp;gt; (Hadoop Tez) in workspace /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build
Testing patch &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; HBASE-14605.
Testing patch on branch master.
[INFO] Apache HBase ...................................... SUCCESS [3.235s]
[INFO] Apache HBase - Checkstyle ......................... SUCCESS [0.514s]
[INFO] Apache HBase - Resource Bundle .................... SUCCESS [0.142s]
[INFO] Apache HBase - Annotations ........................ SUCCESS [0.782s]
[INFO] Apache HBase - Protocol ........................... SUCCESS [11.883s]
[INFO] Apache HBase - Common ............................. SUCCESS [1:29.233s]
[INFO] Apache HBase - Procedure .......................... SUCCESS [1:53.041s]
[INFO] Apache HBase - Client ............................. SUCCESS [1:23.553s]
[INFO] Apache HBase - Hadoop Compatibility ............... SUCCESS [7.386s]
[INFO] Apache HBase - Hadoop Two Compatibility ........... SUCCESS [7.648s]
[INFO] Apache HBase - Prefix Tree ........................ SUCCESS [10.630s]
[INFO] Apache HBase - Server ............................. SUCCESS [1:43:42.474s]
[INFO] Apache HBase - Testing Util ....................... SUCCESS [1.448s]
[INFO] Apache HBase - Thrift ............................. SUCCESS [3:39.220s]
[INFO] Apache HBase - Shell .............................. SUCCESS [4:16.425s]
[INFO] Apache HBase - Integration Tests .................. SUCCESS [1.614s]
[INFO] Apache HBase - Examples ........................... SUCCESS [11.053s]
[INFO] Apache HBase - Rest ............................... SUCCESS [10:11.644s]
[INFO] Apache HBase - External Block Cache ............... SUCCESS [0.827s]
[INFO] Apache HBase - Assembly ........................... SUCCESS [1.720s]
[INFO] Apache HBase - Shaded ............................. SUCCESS [0.111s]
[INFO] Apache HBase - Shaded - Client .................... SUCCESS [0.531s]
[INFO] Apache HBase - Shaded - Server .................... SUCCESS [1.034s]
[INFO] Apache HBase - Spark .............................. SUCCESS [1:32.957s]
Printing hanging tests
Printing Failing tests
Failing test : org.apache.hadoop.hbase.client.TestSnapshotCloneIndependence
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;No test regression.&lt;/p&gt;</comment>
                            <comment id="14957568" author="devaraj" created="Wed, 14 Oct 2015 19:23:01 +0000"  >&lt;p&gt;Yeah &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jinghe&quot; class=&quot;user-hover&quot; rel=&quot;jinghe&quot;&gt;Jerry He&lt;/a&gt; this is a regression introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt;... The patch 14605-v1.txt that Ted uploaded is based on the premise that the coprocessors&apos; initialization happens as the user RegionServer runs as. This should be fine in any case (it was already implicitly happening as the Regionserver user; this patch makes it explicit)...&lt;br/&gt;
One issue that still remains is that if the split-request/compaction-request implementation changes in the future where, for example, some HDFS operations are done synchronously (not suggesting this though), then the patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; will cause issues since the HDFS operations to do with splitting will happen as the end-user instead of the RegionServer user... But I guess, we can tackle those issues as and when they show up.&lt;/p&gt;</comment>
                            <comment id="14957639" author="enis" created="Wed, 14 Oct 2015 20:02:59 +0000"  >&lt;p&gt;Agreed that we should be only running the preXXX steps as the proxy user and not anything else. Although the alt patch is more explicit, I think that is the correct solution. &lt;/p&gt;</comment>
                            <comment id="14957649" author="yuzhihong@gmail.com" created="Wed, 14 Oct 2015 20:06:33 +0000"  >&lt;p&gt;I don&apos;t have strong opinion on which implementation to choose.&lt;/p&gt;

&lt;p&gt;Let me format the alternative solution as a patch and get QA run.&lt;/p&gt;</comment>
                            <comment id="14957706" author="jinghe" created="Wed, 14 Oct 2015 20:38:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;Initially, I came up with a patch that narrows the scope of doAs() calls to region observer notifications.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I misunderstood the above. I thought it was for the current JIRA.  But looking at the alt patch, you were indeed try to go back to the previous JIRA.&lt;/p&gt;

&lt;p&gt;We are on the same page &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  &lt;/p&gt;

&lt;p&gt;The bigger picture issue this that the AccessController piggybacks on the normal coprocessor hooks.  For example, the preSplit (and other preXXX) calls may have their own different purpose.&lt;br/&gt;
For a user request security checking, we can do the checking early as soon as we get the request, instead of going down to the core code already.&lt;/p&gt;</comment>
                            <comment id="14957755" author="jinghe" created="Wed, 14 Oct 2015 21:05:46 +0000"  >&lt;p&gt;The reason the original  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; didn&apos;t have a HDFS permission issue is probably because of these:&lt;/p&gt;

&lt;p&gt;1. HRegionFileSystem is already instantiated with a FileSystem instance by the region server process with &apos;hbase&apos; id.  DFSClient id.&lt;br/&gt;
2. Later requestUser.doAs() will do the work as request user. But if the work uses the existing HRegionFileSystem (e.g. create region files, etc) the real user to HDFS namenode is still &apos;hbase&apos;. &lt;/p&gt;</comment>
                            <comment id="14957949" author="hadoopqa" created="Wed, 14 Oct 2015 22:45:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12766633/14605-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12766633/14605-v2.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 0099ec6397934943cc72fc5c85062c4e70ea078c.&lt;br/&gt;
  ATTACHMENT ID: 12766633&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1748 checkstyle errors (more than the master&apos;s current 1747 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 1 release audit warnings (more than the master&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestCoprocessorInterface&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16015//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16015//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16015//artifact/patchprocess/patchReleaseAuditWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16015//artifact/patchprocess/patchReleaseAuditWarnings.txt&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16015//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16015//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16015//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16015//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16015//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16015//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14957990" author="yuzhihong@gmail.com" created="Wed, 14 Oct 2015 23:14:20 +0000"  >&lt;p&gt;The above test failure was due to the following call missing for the user being null case:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        parent.getCoprocessorHost().preSplit(splitrow);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14958154" author="hadoopqa" created="Thu, 15 Oct 2015 01:37:33 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12766676/14605-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12766676/14605-v3.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 658d25af25ae911c4409875643079be2c57c9888.&lt;br/&gt;
  ATTACHMENT ID: 12766676&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16019//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16019//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16019//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16019//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16019//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16019//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16019//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16019//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14958156" author="yuzhihong@gmail.com" created="Thu, 15 Oct 2015 01:40:21 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Printing hanging tests
Hanging test : org.apache.hadoop.hbase.TestChoreService
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I don&apos;t think my patch is related to Chore service.&lt;/p&gt;</comment>
                            <comment id="14958267" author="hadoopqa" created="Thu, 15 Oct 2015 04:07:55 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12766699/14605-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12766699/14605-v3.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 46f2877381afefd1b7c838e10a80776b043854ae.&lt;br/&gt;
  ATTACHMENT ID: 12766699&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.hadoop.hbase.client.TestReplicaWithCluster.testReplicaAndReplication(TestReplicaWithCluster.java:300)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16020//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16020//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16020//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16020//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16020//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16020//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16020//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16020//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14958291" author="yuzhihong@gmail.com" created="Thu, 15 Oct 2015 04:37:38 +0000"  >&lt;p&gt;Ran the tests locally with patch v3 which passed:&lt;/p&gt;

&lt;p&gt;Running org.apache.hadoop.hbase.client.TestMobSnapshotFromClient&lt;br/&gt;
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 74.699 sec - in org.apache.hadoop.hbase.client.TestMobSnapshotFromClient&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestMultiParallel&lt;br/&gt;
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 31.395 sec - in org.apache.hadoop.hbase.client.TestMultiParallel&lt;br/&gt;
Running org.apache.hadoop.hbase.io.encoding.TestDataBlockEncoders&lt;br/&gt;
Tests run: 56, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 259.521 sec - in org.apache.hadoop.hbase.io.encoding.TestDataBlockEncoders&lt;/p&gt;</comment>
                            <comment id="14959214" author="hadoopqa" created="Thu, 15 Oct 2015 16:49:12 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12766791/14605-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12766791/14605-v3.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit e7defd7d9a76f44e3089db3fe522fe400fe6dcd7.&lt;br/&gt;
  ATTACHMENT ID: 12766791&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn post-site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16029//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16029//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16029//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16029//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16029//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16029//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16029//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16029//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14959607" author="jinghe" created="Thu, 15 Oct 2015 21:00:18 +0000"  >&lt;p&gt;Another thought.&lt;br/&gt;
The changes to call the coprocessor hooks as request user would apply to all coprocessor implementations, even custom coprocessors.&lt;br/&gt;
Will this cause issue for people who have expected their coprocessors to be run under the server user?&lt;/p&gt;</comment>
                            <comment id="14959617" author="yuzhihong@gmail.com" created="Thu, 15 Oct 2015 21:05:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;have expected their coprocessors to be run under the server user&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think the above should be satisfied.&lt;br/&gt;
During review of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt;, consensus was to impersonate the splitting action as request user.&lt;/p&gt;</comment>
                            <comment id="14959634" author="hadoopqa" created="Thu, 15 Oct 2015 21:16:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12766836/144605-branch-1-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12766836/144605-branch-1-v3.txt&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit e7defd7d9a76f44e3089db3fe522fe400fe6dcd7.&lt;br/&gt;
  ATTACHMENT ID: 12766836&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.camel.component.quartz2.SpringQuartzConsumerTwoAppsClusteredRecoveryTest.testQuartzPersistentStoreClusteredApp(SpringQuartzConsumerTwoAppsClusteredRecoveryTest.java:43)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16031//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16031//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16031//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16031//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16031//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16031//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16031//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16031//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14959913" author="apurtell" created="Fri, 16 Oct 2015 00:18:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;The changes to call the coprocessor hooks as request user would apply to all coprocessor implementations, even custom coprocessors.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is a bit tricky. I think it can evolve as we fix these issues. Documentation in javadoc for each coprocessor hook on what user context the code will execute in would be good though. Should be a follow up issue.&lt;/p&gt;</comment>
                            <comment id="14959930" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 00:28:34 +0000"  >&lt;p&gt;Thanks for chiming in, Andrew.&lt;/p&gt;

&lt;p&gt;Does the above mean you&apos;re Okay with patch v3 ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="14959947" author="apurtell" created="Fri, 16 Oct 2015 00:44:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;Does the above mean you&apos;re Okay with patch v3 ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure, lgtm. Although, it would be useful to deprecate the commit and rollback methods that don&apos;t take a User and WARN in SplitTransactionImpl if the caller is using the old methods. If you agree, I think this can be done at commit. &lt;/p&gt;

&lt;p&gt;Do we have the same issue with merge transactions? Can follow up with a new issue. &lt;/p&gt;</comment>
                            <comment id="14959963" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 00:56:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;and WARN in SplitTransactionImpl if the caller is using the old methods&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The WARN is dependent upon security being enabled, right ?&lt;/p&gt;

&lt;p&gt;Patch v4 coming shortly.&lt;/p&gt;</comment>
                            <comment id="14959991" author="apurtell" created="Fri, 16 Oct 2015 01:17:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14960002" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 01:30:08 +0000"  >&lt;p&gt;Thanks Andrew.&lt;/p&gt;

&lt;p&gt;Am preparing patch for branch-1.&lt;/p&gt;

&lt;p&gt;Will start integrating early tomorrow morning, if there is no other review comment.&lt;/p&gt;</comment>
                            <comment id="14960062" author="hadoopqa" created="Fri, 16 Oct 2015 02:41:22 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12766947/14605-branch-1-v4.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12766947/14605-branch-1-v4.txt&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit d5ed46bc9f9285f75d2d906ec9c120cb408827df.&lt;br/&gt;
  ATTACHMENT ID: 12766947&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3761 checkstyle errors (more than the master&apos;s current 3759 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestSplitTransaction&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16044//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16044//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16044//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16044//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16044//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16044//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16044//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16044//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14960095" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 03:09:31 +0000"  >&lt;p&gt;Patch v5 fixes test failure and addresses checkstyle warnings.&lt;/p&gt;</comment>
                            <comment id="14960467" author="hadoopqa" created="Fri, 16 Oct 2015 10:09:47 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12767030/14605-branch-1.0-v5.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12767030/14605-branch-1.0-v5.txt&lt;/a&gt;&lt;br/&gt;
  against branch-1.0 branch at commit 4321b63f6f62d9d213f62c5f0a249eed3862a1b8.&lt;br/&gt;
  ATTACHMENT ID: 12767030&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16063//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16063//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14960566" author="hudson" created="Fri, 16 Oct 2015 12:05:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1084 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1084/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1084/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Split fails due to &apos;No valid credentials&apos; error when (tedyu: rev d71d7f5e356f7aa167036c20562f045f64e29070)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14960588" author="hudson" created="Fri, 16 Oct 2015 12:26:34 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #709 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/709/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/709/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Split fails due to &apos;No valid credentials&apos; error when (tedyu: rev c14233b4a486a6882dab0e00849002c17ab9da14)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14960610" author="hudson" created="Fri, 16 Oct 2015 12:47:21 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #215 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/215/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/215/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Split fails due to &apos;No valid credentials&apos; error when (tedyu: rev ff669d8fe6fd0f03ea6caae3cfa560a45c25f5f6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14960612" author="hudson" created="Fri, 16 Oct 2015 12:48:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #6919 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6919/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6919/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Split fails due to &apos;No valid credentials&apos; error when (tedyu: rev 4321b63f6f62d9d213f62c5f0a249eed3862a1b8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14960616" author="hudson" created="Fri, 16 Oct 2015 12:50:30 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #271 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/271/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/271/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Split fails due to &apos;No valid credentials&apos; error when (tedyu: rev 7fe5fa0069b8b4b5ebbd2b30763464ae5e53970f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14960630" author="hudson" created="Fri, 16 Oct 2015 12:58:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #242 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/242/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/242/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Split fails due to &apos;No valid credentials&apos; error when (tedyu: rev 7fe5fa0069b8b4b5ebbd2b30763464ae5e53970f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14960700" author="hudson" created="Fri, 16 Oct 2015 13:35:58 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #263 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/263/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/263/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Split fails due to &apos;No valid credentials&apos; error when (tedyu: rev ff669d8fe6fd0f03ea6caae3cfa560a45c25f5f6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14960952" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 16:13:32 +0000"  >&lt;p&gt;Thanks for the reviews&lt;/p&gt;</comment>
                            <comment id="14961160" author="hudson" created="Fri, 16 Oct 2015 18:33:00 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1112 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1112/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1112/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Split fails due to &apos;No valid credentials&apos; error when (tedyu: rev ad89f12f701f598023136672a5563a4c996edf17)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14961334" author="hudson" created="Fri, 16 Oct 2015 20:44:16 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #1159 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/1159/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/1159/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Split fails due to &apos;No valid credentials&apos; error when (tedyu: rev ad89f12f701f598023136672a5563a4c996edf17)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14974079" author="ram_krish" created="Mon, 26 Oct 2015 11:44:42 +0000"  >&lt;p&gt;This change breaks Phoenix LocalIndexSplitter because of the API param change in SplitTransaction#stepsAfterPONR.&lt;/p&gt;</comment>
                            <comment id="14974233" author="yuzhihong@gmail.com" created="Mon, 26 Oct 2015 14:03:17 +0000"  >&lt;p&gt;stepsAfterPONR is not in SplitTransaction. It is in SplitTransactionImpl which is marked @InterfaceAudience.Private&lt;/p&gt;

&lt;p&gt;I think Phoenix should adjust LocalIndexSplitter for the new API.&lt;/p&gt;</comment>
                            <comment id="14975292" author="apurtell" created="Mon, 26 Oct 2015 22:59:13 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This change breaks Phoenix LocalIndexSplitter because of the API param change in SplitTransaction#stepsAfterPONR.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;stepsAfterPONR is not in SplitTransaction. It is in SplitTransactionImpl which is marked @InterfaceAudience.Private&lt;br/&gt;
I think Phoenix should adjust LocalIndexSplitter for the new API.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yep, it&apos;s on Phoenix to move to the new APIs we made precisely for support for local indexes or this is going to keep happening. We&apos;ve said this enough now. HBase needs to evolve. Private APIs provide no compat guarantees by definition.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jamestaylor&quot; class=&quot;user-hover&quot; rel=&quot;jamestaylor&quot;&gt;James Taylor&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajeshbabu&quot; class=&quot;user-hover&quot; rel=&quot;rajeshbabu&quot;&gt;Rajeshbabu Chintaguntla&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14975318" author="apurtell" created="Mon, 26 Oct 2015 23:16:02 +0000"  >&lt;p&gt;Since we don&apos;t have the new interfaces in 1.0 or 0.98, I&apos;m sure we&apos;d welcome a patch to those versions that implements an equivalent fix without changing SplitTransactionImpl if you can manage it &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Until then, we need this fix in, or secure bulk loading is broken (after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14975718" author="ram_krish" created="Tue, 27 Oct 2015 04:42:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;br/&gt;
Let me check this for 1.0 and 0.98. Thanks.&lt;/p&gt;</comment>
                            <comment id="14978662" author="yuzhihong@gmail.com" created="Wed, 28 Oct 2015 16:09:47 +0000"  >&lt;p&gt;Ram:&lt;br/&gt;
Is the addendum along the lines you were thinking ?&lt;/p&gt;</comment>
                            <comment id="14979530" author="yuzhihong@gmail.com" created="Thu, 29 Oct 2015 00:06:51 +0000"  >&lt;p&gt;Verified that Phoenix builds with the latest addendum&lt;/p&gt;</comment>
                            <comment id="14980099" author="rajeshbabu" created="Thu, 29 Oct 2015 09:14:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;br/&gt;
Just uploaded the WIP patch of new local indexing approach at &lt;a href=&quot;https://issues.apache.org/jira/browse/PHOENIX-1734&quot; title=&quot;Local index improvements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PHOENIX-1734&quot;&gt;&lt;del&gt;PHOENIX-1734&lt;/del&gt;&lt;/a&gt;. Which removes the split,merge and balancer related internals. Distracted with other work. Sorry for that. Trying to complete as fast as possible. &lt;/p&gt;</comment>
                            <comment id="14980702" author="yuzhihong@gmail.com" created="Thu, 29 Oct 2015 16:14:21 +0000"  >&lt;p&gt;Thanks for the update, Rajesh.&lt;/p&gt;

&lt;p&gt;I believe the addendum is still needed - what if Phoenix users want to build against hbase 1.1.3 / 1.20 release before the next Phoenix release comes out ?&lt;/p&gt;</comment>
                            <comment id="14980774" author="ram_krish" created="Thu, 29 Oct 2015 16:51:10 +0000"  >&lt;p&gt;+1 on the addendum. But the feature would be still broke. Hope that is acceptable?&lt;/p&gt;</comment>
                            <comment id="14981814" author="yuzhihong@gmail.com" created="Fri, 30 Oct 2015 03:43:49 +0000"  >&lt;p&gt;Planning to commit addendum to 0.98 and 1.0 branches tomorrow.&lt;/p&gt;</comment>
                            <comment id="14984053" author="hudson" created="Sat, 31 Oct 2015 17:06:47 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1105 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1105/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1105/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Addendum restores two methods in SplitTransaction (tedyu: rev e1e6c6e3d668a447d8704e4c2f37eb02c9b61e67)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14984058" author="hudson" created="Sat, 31 Oct 2015 17:20:27 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1126 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1126/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1126/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Addendum restores two methods in SplitTransaction (tedyu: rev 90d920caa64ef67b186314157958e349022e3015)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14984451" author="hudson" created="Sun, 1 Nov 2015 16:53:01 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-matrix #254 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-matrix/254/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-matrix/254/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Addendum restores two methods in SplitTransaction (tedyu: rev 90d920caa64ef67b186314157958e349022e3015)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14986223" author="apurtell" created="Mon, 2 Nov 2015 23:03:52 +0000"  >&lt;p&gt;Committing the addendum to branch-1 and 0.98 if it&apos;s not been done yet. Since this is ready let&apos;s get it in place for the 0.98.16 RC this week.&lt;/p&gt;</comment>
                            <comment id="14986225" author="yuzhihong@gmail.com" created="Mon, 2 Nov 2015 23:05:57 +0000"  >&lt;p&gt;addendum was integrated 2 days ago.&lt;/p&gt;</comment>
                            <comment id="14986243" author="apurtell" created="Mon, 2 Nov 2015 23:14:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;addendum was integrated 2 days ago.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Only on branch-1.0 and 0.98 it seems. &lt;/p&gt;

&lt;p&gt;I&apos;m picking it to branch-1.1, branch-1.2, and branch-1 also for sake of consistent interfaces.&lt;/p&gt;</comment>
                            <comment id="14986644" author="hudson" created="Tue, 3 Nov 2015 04:13:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #289 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/289/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/289/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Addendum restores two methods in SplitTransactionImpl (apurtell: rev bd4addcedfda1a9e1c3fe3a83844bf9ed001c196)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14986649" author="hudson" created="Tue, 3 Nov 2015 04:18:17 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #338 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/338/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/338/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Addendum restores two methods in SplitTransactionImpl (apurtell: rev bd4addcedfda1a9e1c3fe3a83844bf9ed001c196)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14986702" author="hudson" created="Tue, 3 Nov 2015 05:10:29 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2-IT #259 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/259/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/259/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Addendum restores two methods in SplitTransactionImpl (apurtell: rev b929c0ed83776e6039c09967da83415c12d5c093)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14986799" author="hudson" created="Tue, 3 Nov 2015 06:55:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #341 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/341/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/341/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Addendum restores two methods in SplitTransactionImpl (apurtell: rev b929c0ed83776e6039c09967da83415c12d5c093)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14986855" author="hudson" created="Tue, 3 Nov 2015 07:42:30 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK8 #1670 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1670/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1670/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Addendum restores two methods in SplitTransactionImpl (apurtell: rev 79b6b91cc5a2a1ad87a713e55964ba1f31380e6b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14986887" author="hudson" created="Tue, 3 Nov 2015 08:20:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK7 #1582 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK7/1582/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK7/1582/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14605&quot; title=&quot;Split fails due to &amp;#39;No valid credentials&amp;#39; error when SecureBulkLoadEndpoint#start tries to access hdfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14605&quot;&gt;&lt;del&gt;HBASE-14605&lt;/del&gt;&lt;/a&gt; Addendum restores two methods in SplitTransactionImpl (apurtell: rev 79b6b91cc5a2a1ad87a713e55964ba1f31380e6b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransactionImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15044199" author="ndimiduk" created="Sun, 6 Dec 2015 23:58:21 +0000"  >&lt;p&gt;This patch (&lt;tt&gt;c14233b4&lt;/tt&gt;) introduces source incompatible changes to the &lt;tt&gt;SplitTransaction&lt;/tt&gt; interface on branch-1.1. Please see the &lt;a href=&quot;http://home.apache.org/~ndimiduk/1.1.0_branch-1.1_compat_report.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;compatibility report&lt;/a&gt; for details.&lt;/p&gt;</comment>
                            <comment id="15044212" author="apurtell" created="Mon, 7 Dec 2015 00:30:35 +0000"  >&lt;p&gt;I think we need these changes regardless or secure bulk load won&apos;t work in branch-1.1&lt;/p&gt;</comment>
                            <comment id="15044243" author="apurtell" created="Mon, 7 Dec 2015 01:23:30 +0000"  >&lt;p&gt;Rather than reopen this how about a new JIRA to look at what more can be done in 1.1 and 1.0 to avoid interface changes? &lt;/p&gt;</comment>
                            <comment id="15045787" author="apurtell" created="Mon, 7 Dec 2015 21:41:10 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14944&quot; title=&quot;Minimize or eliminate source incompatible changes due to HBASE-14605, HBASE-14631, and HBASE-14655&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14944&quot;&gt;&lt;del&gt;HBASE-14944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15119548" author="ndimiduk" created="Wed, 27 Jan 2016 15:28:49 +0000"  >&lt;p&gt;Bulk closing 1.1.3 issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12905584">HBASE-14631</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12766836" name="144605-branch-1-v3.txt" size="17634" author="yuzhihong@gmail.com" created="Thu, 15 Oct 2015 18:15:18 +0000"/>
                            <attachment id="12767093" name="14605-0.98-v5.txt" size="14917" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 16:13:07 +0000"/>
                            <attachment id="12769447" name="14605-branch-1-addendum.txt" size="1592" author="yuzhihong@gmail.com" created="Thu, 29 Oct 2015 00:06:51 +0000"/>
                            <attachment id="12766947" name="14605-branch-1-v4.txt" size="18364" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 01:35:07 +0000"/>
                            <attachment id="12766966" name="14605-branch-1-v5.txt" size="18384" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 03:16:06 +0000"/>
                            <attachment id="12767030" name="14605-branch-1.0-v5.txt" size="14859" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 09:51:51 +0000"/>
                            <attachment id="12766555" name="14605-v1.txt" size="1842" author="yuzhihong@gmail.com" created="Wed, 14 Oct 2015 14:31:52 +0000"/>
                            <attachment id="12766633" name="14605-v2.txt" size="16284" author="yuzhihong@gmail.com" created="Wed, 14 Oct 2015 20:52:51 +0000"/>
                            <attachment id="12766791" name="14605-v3.txt" size="16615" author="yuzhihong@gmail.com" created="Thu, 15 Oct 2015 13:34:34 +0000"/>
                            <attachment id="12766699" name="14605-v3.txt" size="16615" author="yuzhihong@gmail.com" created="Thu, 15 Oct 2015 01:40:49 +0000"/>
                            <attachment id="12766676" name="14605-v3.txt" size="16615" author="yuzhihong@gmail.com" created="Wed, 14 Oct 2015 23:28:53 +0000"/>
                            <attachment id="12766937" name="14605-v4.txt" size="17345" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 00:58:59 +0000"/>
                            <attachment id="12766959" name="14605-v5.txt" size="17365" author="yuzhihong@gmail.com" created="Fri, 16 Oct 2015 03:09:31 +0000"/>
                            <attachment id="12766594" name="14605.alt" size="15877" author="yuzhihong@gmail.com" created="Wed, 14 Oct 2015 17:29:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Oct 2015 17:20:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2n0bb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>When split is requested by non-super user, split related notifications for Coprocessor are executed using the login of the request user.&lt;br/&gt;
Previously the notifications were carried out as super user.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>