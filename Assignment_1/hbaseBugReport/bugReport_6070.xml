<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:33:32 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6070/HBASE-6070.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6070] AM.nodeDeleted and SSH races creating problems for regions under SPLIT</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6070</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We tried to address the problems in Master restart and RS restart while SPLIT region is in progress as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5806&quot; title=&quot;Handle split region related failures on master restart and RS restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5806&quot;&gt;&lt;del&gt;HBASE-5806&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
While doing some more we found still there is one race condition.&lt;br/&gt;
-&amp;gt; Split has just started and the znode is in RS_SPLIT state.&lt;br/&gt;
-&amp;gt; RS goes down.&lt;br/&gt;
-&amp;gt; First call back for SSH comes.&lt;br/&gt;
-&amp;gt; As part of the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5806&quot; title=&quot;Handle split region related failures on master restart and RS restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5806&quot;&gt;&lt;del&gt;HBASE-5806&lt;/del&gt;&lt;/a&gt; SSH knows that some region is in RIT.&lt;br/&gt;
-&amp;gt; But now nodeDeleted event comes for the SPLIt node and there we try to delete the RIT.&lt;br/&gt;
-&amp;gt; After this we try to see in the SSH whether any node is in RIT.  As we dont find the region in RIT the region is never assigned.&lt;/p&gt;

&lt;p&gt;When we fixed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5806&quot; title=&quot;Handle split region related failures on master restart and RS restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5806&quot;&gt;&lt;del&gt;HBASE-5806&lt;/del&gt;&lt;/a&gt; step 6 happened first and then step 5 happened.  So we missed it.  Now we found that. Will come up with a patch shortly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12557000">HBASE-6070</key>
            <summary>AM.nodeDeleted and SSH races creating problems for regions under SPLIT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 May 2012 13:17:18 +0000</created>
                <updated>Tue, 26 Feb 2013 08:16:07 +0000</updated>
                            <resolved>Fri, 25 May 2012 16:59:38 +0000</resolved>
                                    <version>0.92.1</version>
                    <version>0.94.0</version>
                                    <fixVersion>0.94.1</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13281678" author="ram_krish" created="Wed, 23 May 2012 15:42:06 +0000"  >&lt;p&gt;I plan to make the following change in AM.nodeDeleted.  Currently as SSH is trying to handle the RIT in splitting state doing the same in AM.nodeDeleted leads to race.  &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (rs.isSplitting() || rs.isSplit()) {
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (rs.isSplit()) {
           LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Ephemeral node deleted, regionserver crashed?, &quot;&lt;/span&gt; +
             &lt;span class=&quot;code-quote&quot;&gt;&quot;clearing from RIT; rs=&quot;&lt;/span&gt; + rs);
           regionOffline(rs.getRegion());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Pls provide your suggestions.&lt;/p&gt;</comment>
                            <comment id="13282381" author="ram_krish" created="Thu, 24 May 2012 12:20:03 +0000"  >&lt;p&gt;Uploaded patches for all branches.  Tested in cluster including scenarios for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5806&quot; title=&quot;Handle split region related failures on master restart and RS restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5806&quot;&gt;&lt;del&gt;HBASE-5806&lt;/del&gt;&lt;/a&gt;.  Pls review and provide your comments.&lt;/p&gt;</comment>
                            <comment id="13282483" author="hadoopqa" created="Thu, 24 May 2012 13:06:21 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12528962/HBASE-6070_trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12528962/HBASE-6070_trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 33 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestFromClientSide&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1981//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1981//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1981//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1981//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1981//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1981//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13282516" author="zhihyu@ebaysf.com" created="Thu, 24 May 2012 14:22:46 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+            &lt;span class=&quot;code-comment&quot;&gt;// but the RS had went down before completing the split process then will not &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; to&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&apos;had went down&apos; -&amp;gt; &apos;had gone down&apos;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(response == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Space after &apos;if&apos;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Result getMetaTableRowResultAsSplittedRegion(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HRegionInfo hri, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ServerName sn)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The method should be called getMetaTableRowResultAsSplitRegion().&lt;/p&gt;

&lt;p&gt;Should investigate the test failure in TestFromClientSide&lt;/p&gt;</comment>
                            <comment id="13282533" author="ram_krish" created="Thu, 24 May 2012 14:44:06 +0000"  >&lt;p&gt;Updated patches fixing the comments.  I tried running the failed testcase.  It passed every time.&lt;/p&gt;</comment>
                            <comment id="13282541" author="ram_krish" created="Thu, 24 May 2012 14:52:40 +0000"  >&lt;p&gt;Just reattaching the patch.&lt;/p&gt;</comment>
                            <comment id="13282818" author="zhihyu@ebaysf.com" created="Thu, 24 May 2012 22:53:35 +0000"  >&lt;p&gt;+1 on patch v2.&lt;/p&gt;

&lt;p&gt;You may want to verify that the failed test below wasn&apos;t related to this change:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1987/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1987/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13283121" author="ram_krish" created="Fri, 25 May 2012 04:43:16 +0000"  >&lt;p&gt;@Ted&lt;br/&gt;
TestServerCustomProtocol.testSingleMethod() passes with the patch.  I saw that even in someother precommit build the same has failed.&lt;/p&gt;

&lt;p&gt;-1 core tests. The patch failed these unit tests:&lt;br/&gt;
org.apache.hadoop.hbase.regionserver.TestServerCustomProtocol&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1993//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1993//testReport/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13283123" author="zhihyu@ebaysf.com" created="Fri, 25 May 2012 04:48:34 +0000"  >&lt;p&gt;All right.&lt;/p&gt;</comment>
                            <comment id="13283599" author="ram_krish" created="Fri, 25 May 2012 16:59:27 +0000"  >&lt;p&gt;Committed to trunk, 0.94 and 0.92.&lt;br/&gt;
Thanks for the review Ted.&lt;/p&gt;</comment>
                            <comment id="13283652" author="hudson" created="Fri, 25 May 2012 18:09:52 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #217 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/217/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/217/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6070&quot; title=&quot;AM.nodeDeleted and SSH races creating problems for regions under SPLIT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6070&quot;&gt;&lt;del&gt;HBASE-6070&lt;/del&gt;&lt;/a&gt; AM.nodeDeleted and SSH races creating problems for regions under SPLIT (Ramkrishna) (Revision 1342725)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13283658" author="hudson" created="Fri, 25 May 2012 18:11:08 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2922 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2922/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2922/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6070&quot; title=&quot;AM.nodeDeleted and SSH races creating problems for regions under SPLIT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6070&quot;&gt;&lt;del&gt;HBASE-6070&lt;/del&gt;&lt;/a&gt; AM.nodeDeleted and SSH races creating problems for regions under SPLIT (Ramkrishna) (Revision 1342724)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/master/Mocking.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13283752" author="hudson" created="Fri, 25 May 2012 21:13:56 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #421 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/421/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/421/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6070&quot; title=&quot;AM.nodeDeleted and SSH races creating problems for regions under SPLIT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6070&quot;&gt;&lt;del&gt;HBASE-6070&lt;/del&gt;&lt;/a&gt; AM.nodeDeleted and SSH races creating problems for regions under SPLIT (Ramkrishna) (Revision 1342727)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13283830" author="hudson" created="Sat, 26 May 2012 00:06:50 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #16 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/16/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/16/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6070&quot; title=&quot;AM.nodeDeleted and SSH races creating problems for regions under SPLIT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6070&quot;&gt;&lt;del&gt;HBASE-6070&lt;/del&gt;&lt;/a&gt; AM.nodeDeleted and SSH races creating problems for regions under SPLIT (Ramkrishna) (Revision 1342724)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/master/Mocking.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13283989" author="hudson" created="Sat, 26 May 2012 14:49:29 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #32 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/32/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/32/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6070&quot; title=&quot;AM.nodeDeleted and SSH races creating problems for regions under SPLIT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6070&quot;&gt;&lt;del&gt;HBASE-6070&lt;/del&gt;&lt;/a&gt; AM.nodeDeleted and SSH races creating problems for regions under SPLIT (Ramkrishna) (Revision 1342725)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13287233" author="hudson" created="Fri, 1 Jun 2012 08:08:18 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #109 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/109/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6070&quot; title=&quot;AM.nodeDeleted and SSH races creating problems for regions under SPLIT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6070&quot;&gt;&lt;del&gt;HBASE-6070&lt;/del&gt;&lt;/a&gt; AM.nodeDeleted and SSH races creating problems for regions under SPLIT (Ramkrishna) (Revision 1342727)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13483004" author="tychang" created="Wed, 24 Oct 2012 06:05:42 +0000"  >&lt;p&gt;@ram,  &lt;/p&gt;

&lt;p&gt;I am reading the code related to region split. I feel that this code below in AssignmentManager seems to be dead code.  Because 1) I don&apos;t see any place that callls to update the regionState to be State.SPLIT. 2) for scenario when region has already been split and RS crashed, ServerShutdownHandler should have already taken care of it.  Am I missing something here.  Thanks&lt;/p&gt;

&lt;p&gt;if (rs.isSplit()) {&lt;br/&gt;
          LOG.debug(&quot;Ephemeral node deleted, regionserver crashed?, &quot; +&lt;br/&gt;
            &quot;clearing from RIT; rs=&quot; + rs);&lt;br/&gt;
          regionOffline(rs.getRegion());&lt;/p&gt;</comment>
                            <comment id="13485262" author="stack" created="Fri, 26 Oct 2012 23:11:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tychang&quot; class=&quot;user-hover&quot; rel=&quot;tychang&quot;&gt;Tianying Chang&lt;/a&gt; Would you mind making a new issue to remove the dead code?  Thank you.&lt;/p&gt;</comment>
                            <comment id="13485353" author="tychang" created="Sat, 27 Oct 2012 04:32:43 +0000"  >&lt;p&gt;@stack &lt;/p&gt;

&lt;p&gt;Thanks. I want to get some second opinion from others. I guess it is better to do this by opening a separate jira. I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7058&quot; title=&quot;the code for handling when rs.isSplit() inside AM.nodeDeleted is dead code, should be removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7058&quot;&gt;HBASE-7058&lt;/a&gt; for this purpose. If other people found no other potential problem, I can provide patch.  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12528960" name="HBASE-6070_0.92.patch" size="3005" author="ram_krish" created="Thu, 24 May 2012 12:17:25 +0000"/>
                            <attachment id="12529075" name="HBASE-6070_0.92_1.patch" size="3005" author="ram_krish" created="Thu, 24 May 2012 14:42:44 +0000"/>
                            <attachment id="12528961" name="HBASE-6070_0.94.patch" size="9516" author="ram_krish" created="Thu, 24 May 2012 12:17:41 +0000"/>
                            <attachment id="12529076" name="HBASE-6070_0.94_1.patch" size="9510" author="ram_krish" created="Thu, 24 May 2012 14:43:02 +0000"/>
                            <attachment id="12528962" name="HBASE-6070_trunk.patch" size="10412" author="ram_krish" created="Thu, 24 May 2012 12:20:03 +0000"/>
                            <attachment id="12529079" name="HBASE-6070_trunk_1.patch" size="10407" author="ram_krish" created="Thu, 24 May 2012 14:52:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 May 2012 13:06:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245418</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i068ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>