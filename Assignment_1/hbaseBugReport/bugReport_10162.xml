<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:11:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10162/HBASE-10162.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10162] Add RegionObserver lifecycle hook to be called when region is available</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10162</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10161&quot; title=&quot;[AccessController] Tolerate regions in recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10161&quot;&gt;&lt;del&gt;HBASE-10161&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10148&quot; title=&quot;[VisibilityController] Tolerate regions in recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10148&quot;&gt;&lt;del&gt;HBASE-10148&lt;/del&gt;&lt;/a&gt;, there is discussion of the need to modify existing coprocessors, which previously performed initialization only in postOpen(), in order to account for the new log replay mechanism happening post open.&lt;/p&gt;

&lt;p&gt;This points out that we have a hole in coprocessor lifecycle management which caused the use of region lifecycle hooks (postOpen()) in the first place.&lt;/p&gt;

&lt;p&gt;Instead of requiring coprocessor authors to hook into region lifecycle methods for initialization, we should provide an explicit lifecycle hook for coprocessor authors to use when region open, log replay, and any future requirements are complete, say initializeWhenAvailable() (open to better names).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12684526">HBASE-10162</key>
            <summary>Add RegionObserver lifecycle hook to be called when region is available</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ghelmling">Gary Helmling</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Dec 2013 19:24:26 +0000</created>
                <updated>Sat, 14 Dec 2013 02:53:16 +0000</updated>
                                                                            <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13847825" author="anoop.hbase" created="Fri, 13 Dec 2013 19:35:06 +0000"  >&lt;p&gt;Thanks Gary for bringing this in.&lt;br/&gt;
The term &quot;available&quot; is little bit tricky in case of log replay. Yes the region is available at the time of post open also. But for writes not for reads.  So when the CP developer needs some sort of init wrt writes, will it be correct delaying the init until the log replay is over. In btw writes can happen to region.&lt;br/&gt;
Pls correct me if I am wrong Ted/Jefrey.&lt;/p&gt;</comment>
                            <comment id="13847845" author="ghelmling" created="Fri, 13 Dec 2013 19:46:24 +0000"  >&lt;p&gt;Hi Anoop,&lt;/p&gt;

&lt;p&gt;This is definitely a complicating consideration.  I&apos;m totally open to any better ways of structuring this.&lt;/p&gt;

&lt;p&gt;In addition, I think it may be difficult for most coprocessor authors to clearly distinguish between write availability vs. read availability.  As you mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10148&quot; title=&quot;[VisibilityController] Tolerate regions in recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10148&quot;&gt;&lt;del&gt;HBASE-10148&lt;/del&gt;&lt;/a&gt;, one of the errors was failure to correctly initialize the next ordinal # to use for new label writes in postOpen() due to the missing (not yet replayed) log entries.  This may be a good example to consider.  How would the coprocessor handle incoming writes prior to the log replay completing and generating the correct next ordinal #?&lt;/p&gt;

&lt;p&gt;That said, the intervening availability for writes is something coprocessor authors will have to deal with.  Maybe the initial proposal is too simplistic.  How can we most clearly communicate to coprocessor implementors where they are in the initialization stages?&lt;/p&gt;</comment>
                            <comment id="13848174" author="anoop.hbase" created="Sat, 14 Dec 2013 02:53:16 +0000"  >&lt;p&gt;Agree with you Gary..  Being a CP writer, this is my concern too.. Knowing that much internal!! &lt;br/&gt;
Yes what ever you mentioned is the best way (as of now) I can also think about.. Any other suggestions are most welcome.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Dec 2013 19:35:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qoaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363904</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>