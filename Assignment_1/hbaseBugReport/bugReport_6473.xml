<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:37:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6473/HBASE-6473.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6473] deleted table is not deleted completely, some region may be still online</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6473</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;consider such Scenario:&lt;/p&gt;

&lt;p&gt;we have a table called T1, which has 1 regions: A &lt;/p&gt;

&lt;p&gt;1. move A from rs1 to rs2,and A is now closed&lt;br/&gt;
2. disable T1,&lt;br/&gt;
3. delete  T1.&lt;br/&gt;
when we disable T1, disable handler will just set the zk to disabled and A will still be assigned. when Ais opened, A in transition will be clean out. &lt;/p&gt;

&lt;p&gt;At that time, Deletetable found it is safe to delete all regions and table in meta and fs , it will also delete the zk node of T1.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis() &amp;lt; done) {
        AssignmentManager.RegionState rs = am.isRegionInTransition(region);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (rs == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
        Threads.sleep(waitingTimeForEvents);
        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Waiting on  region to clear regions in transition; &quot;&lt;/span&gt; + rs);
      }
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (am.isRegionInTransition(region) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Waited hbase.master.wait.on.region (&quot;&lt;/span&gt; +
          waitTime + &lt;span class=&quot;code-quote&quot;&gt;&quot;ms) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region to leave region &quot;&lt;/span&gt; +
          region.getRegionNameAsString() + &lt;span class=&quot;code-quote&quot;&gt;&quot; in transitions&quot;&lt;/span&gt;);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;however A is still being unassigned, when it finished closed the A,it finds that the disabled state in zk is deleted, and then A will be assigned again.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600631">HBASE-6473</key>
            <summary>deleted table is not deleted completely, some region may be still online</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zhou wenjian">zhou wenjian</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jul 2012 09:00:41 +0000</created>
                <updated>Sat, 11 Apr 2015 00:23:21 +0000</updated>
                            <resolved>Sat, 11 Apr 2015 00:23:21 +0000</resolved>
                                    <version>0.94.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13424767" author="zhou wenjian" created="Mon, 30 Jul 2012 09:11:24 +0000"  >&lt;p&gt;the clisnt will have a scene that the table is deleted sucessfully.&lt;/p&gt;</comment>
                            <comment id="13426325" author="hadoopqa" created="Wed, 1 Aug 2012 04:41:53 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12538326/HBASE-6473-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12538326/HBASE-6473-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 6 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2468//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13426701" author="jxiang" created="Wed, 1 Aug 2012 15:34:09 +0000"  >&lt;p&gt;Not sure how the patch can fix the issue.  It seems to me we should fix this in unassignment handler: if the table is disabled, don&apos;t assign it again, right?&lt;/p&gt;</comment>
                            <comment id="13427065" author="zhou wen jian" created="Thu, 2 Aug 2012 01:47:23 +0000"  >&lt;p&gt;@Jimmy Xiang&lt;br/&gt;
the issue appears due to the the check condition of deletetable. &lt;br/&gt;
when we deletetable, we first try to check if the zk state is disabled, and then check if the regions online is not in rit. For some reason disabled state is set but there is region still being unassigned, in that case the check of delete table shipps,  and it will delete the table and zk state , that will cause the region being unassigned to assign again.&lt;/p&gt;

&lt;p&gt;In the patch I give a strictly check to deleting table. If there is region disabled but still online, we will wait for the region offline, after that we can delete table, and this case will never appear again&lt;/p&gt;
</comment>
                            <comment id="13427082" author="jxiang" created="Thu, 2 Aug 2012 02:45:00 +0000"  >&lt;p&gt;I see.  In your patch, can you get the region state and make sure it is OFFLINE instead of checking if it is not assigned?&lt;/p&gt;</comment>
                            <comment id="13427083" author="zhou wen jian" created="Thu, 2 Aug 2012 02:56:23 +0000"  >&lt;p&gt;@Jimmy Xiang.&lt;br/&gt;
You mean check the region state in rit to see it is offline? Region maybe is not in rit when delete table occours.&lt;br/&gt;
And i do not quite follow the reason we check the region in rit offline.&lt;/p&gt;

&lt;p&gt;Do you have a email? I suggest we discuss it personally&lt;/p&gt;</comment>
                            <comment id="13427092" author="jxiang" created="Thu, 2 Aug 2012 03:38:33 +0000"  >&lt;p&gt;RegionStates now has the state of a region no matter it is in transition or not.&lt;/p&gt;</comment>
                            <comment id="13427098" author="zhou wen jian" created="Thu, 2 Aug 2012 04:06:14 +0000"  >&lt;p&gt;@Jimmy Xiang&lt;br/&gt;
got you.&lt;br/&gt;
RegionStates is a new structure introduced in 96. I misunderstand it as a state in RIT like 94.&lt;br/&gt;
Thank for you reply.&lt;/p&gt;</comment>
                            <comment id="13432686" author="zhou wen jian" created="Fri, 10 Aug 2012 10:23:41 +0000"  >&lt;p&gt;get the region state and make sure it is OFFLINE&lt;br/&gt;
function getRegionState(hri) is protected and i think it is does the same thing with getRegionsOfTable(tableName).contains(region)&lt;/p&gt;</comment>
                            <comment id="13434879" author="zhou wen jian" created="Wed, 15 Aug 2012 08:35:03 +0000"  >&lt;p&gt;Submitted patch v2 for trunk. Please review and provide your comments/suggestions&lt;/p&gt;</comment>
                            <comment id="13435008" author="hadoopqa" created="Wed, 15 Aug 2012 12:11:21 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12541019/HBASE-6473-trunk-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12541019/HBASE-6473-trunk-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 9 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestRegionServerCoprocessorExceptionWithAbort&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2583//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13436543" author="zhou wen jian" created="Fri, 17 Aug 2012 03:48:29 +0000"  >&lt;p&gt;Our cluster online has encounter the bug.&lt;br/&gt;
After disable and delete then create the same table, We found the region in deleted table is still on the meta with info:regioninfo missed. HBCK seems drawing a blank on it, We have to clean the region invalid from the meta  manually&lt;/p&gt;</comment>
                            <comment id="13436548" author="zhihyu@ebaysf.com" created="Fri, 17 Aug 2012 04:03:05 +0000"  >&lt;p&gt;+1 on patch v3, if tests pass.&lt;/p&gt;</comment>
                            <comment id="13436556" author="hadoopqa" created="Fri, 17 Aug 2012 04:53:58 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12541323/HBASE-6473-trunk-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12541323/HBASE-6473-trunk-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 9 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestFromClientSide&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestAssignmentManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13436846" author="stack" created="Fri, 17 Aug 2012 16:41:05 +0000"  >&lt;p&gt;The break on new line needs to be wrapped in parens (We can add on commit).&lt;/p&gt;

&lt;p&gt;If a region is offline, it will not be in am.getRegionStates().getRegionsOfTable(tableName)?  Is that what this patch depends on?&lt;/p&gt;

&lt;p&gt;Thanks Zhou.&lt;/p&gt;</comment>
                            <comment id="13437633" author="zhou wen jian" created="Mon, 20 Aug 2012 02:40:26 +0000"  >&lt;p&gt;@stack&lt;br/&gt;
that is right, if a region is offline, it will not in am.getRegionStates().getRegionsOfTable(tableName) and rit.&lt;br/&gt;
Nice of you to add the parens on commit.&lt;/p&gt;</comment>
                            <comment id="13437635" author="zhou wen jian" created="Mon, 20 Aug 2012 02:42:54 +0000"  >&lt;p&gt;Look into the failed case ,found nothing with my case, may be caused by unstable hudsun&lt;/p&gt;</comment>
                            <comment id="13445526" author="lhofhansl" created="Fri, 31 Aug 2012 00:49:17 +0000"  >&lt;p&gt;@Zhou: Any chance for the 0.94 patch?&lt;/p&gt;</comment>
                            <comment id="13445594" author="zhou wenjian" created="Fri, 31 Aug 2012 03:03:47 +0000"  >&lt;p&gt;@Lars, i have got the patch for 94.&lt;br/&gt;
but since test for trunk is not passed (i do not know why, they are nothing with my case..)&lt;/p&gt;</comment>
                            <comment id="13445618" author="lhofhansl" created="Fri, 31 Aug 2012 03:55:40 +0000"  >&lt;p&gt;Do these two tests fail locally when you run them with the patch?&lt;/p&gt;</comment>
                            <comment id="13445621" author="zhou wenjian" created="Fri, 31 Aug 2012 03:58:38 +0000"  >&lt;p&gt;i have tried the patch in 94, there is no problem.&lt;/p&gt;</comment>
                            <comment id="13445624" author="lhofhansl" created="Fri, 31 Aug 2012 04:02:03 +0000"  >&lt;p&gt;In trunk, I do indeed find that TestAssignmentManager fails with your patch, but not without it. So something is not right.&lt;/p&gt;</comment>
                            <comment id="13445673" author="zhou wenjian" created="Fri, 31 Aug 2012 05:12:46 +0000"  >&lt;p&gt;@Lars,could you help me to pick out what happened in trunk.&lt;/p&gt;

&lt;p&gt;through &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2601//testReport/&lt;/a&gt; the error in TestAssignmentManager is Address already in use, so i suppose there is nothing with my patch, what caused you fails in trunk. thanks.&lt;/p&gt;</comment>
                            <comment id="13445676" author="lhofhansl" created="Fri, 31 Aug 2012 05:18:01 +0000"  >&lt;p&gt;Not sure what the problem is, yet. I ran TestAssignmentManager a few times with your patch and it failed every single time. Without your patch it passed time.&lt;/p&gt;

&lt;p&gt;I&apos;ll look at that tomorrow. Does TestAssignmentManager pass for you when you run it locally?&lt;/p&gt;</comment>
                            <comment id="13446146" author="lhofhansl" created="Fri, 31 Aug 2012 17:23:33 +0000"  >&lt;p&gt;I won&apos;t get to this this morning. I&apos;ll if I get time later. If not, it&apos;s no big deal to move it to 0.94.3&lt;/p&gt;</comment>
                            <comment id="13446480" author="lhofhansl" created="Fri, 31 Aug 2012 23:08:34 +0000"  >&lt;p&gt;These three tests actually time out with the patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Tests in error: 
  testBalanceOnMasterFailoverScenarioWithOpenedNode(org.apache.hadoop.hbase.master.TestAssignmentManager): test timed out after 5000 milliseconds
  testBalanceOnMasterFailoverScenarioWithClosedNode(org.apache.hadoop.hbase.master.TestAssignmentManager): test timed out after 5000 milliseconds
  testBalanceOnMasterFailoverScenarioWithOfflineNode(org.apache.hadoop.hbase.master.TestAssignmentManager): test timed out after 5000 milliseconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13446486" author="lhofhansl" created="Fri, 31 Aug 2012 23:17:17 +0000"  >&lt;p&gt;Moving to next point release.&lt;/p&gt;</comment>
                            <comment id="13468174" author="stack" created="Tue, 2 Oct 2012 23:27:04 +0000"  >&lt;p&gt;Moving out till you get a chance of looking into the fails Zhou.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12541019" name="HBASE-6473-trunk-v2.patch" size="1118" author="zhou wen jian" created="Wed, 15 Aug 2012 08:34:12 +0000"/>
                            <attachment id="12541323" name="HBASE-6473-trunk-v3.patch" size="1118" author="zhou wen jian" created="Fri, 17 Aug 2012 03:51:21 +0000"/>
                            <attachment id="12542110" name="HBASE-6473-trunk-v4.patch" size="1118" author="zhou wen jian" created="Thu, 23 Aug 2012 12:14:11 +0000"/>
                            <attachment id="12538326" name="HBASE-6473-trunk.patch" size="1062" author="zhou wenjian" created="Mon, 30 Jul 2012 10:17:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Aug 2012 04:41:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239561</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00r87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2343</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>