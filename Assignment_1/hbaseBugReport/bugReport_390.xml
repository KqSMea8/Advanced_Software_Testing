<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:43:50 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-390/HBASE-390.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-390] Add getClosestBefore method to MapFile.Reader</title>
                <link>https://issues.apache.org/jira/browse/HBASE-390</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I have been taking a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-366&quot; title=&quot;[hbase] Keep lazy cache of regions in client rather than an &amp;#39;authoritative&amp;#39; list&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-366&quot;&gt;&lt;del&gt;HADOOP-2443&lt;/del&gt;&lt;/a&gt;, using a sparse cache of HBase regions. My plan was to implement this ticket by doing point searches in the HBase ROOT and META regions as need be. In order to facilitate this, I need a method that will get me the closest key to a given key, but in the less than direction. That is, it should find the key that either matches exactly or is precisely prior to where it should be. This is necessary because in order to find where a given row key belongs in an HBase table, you need to compare it to the start keys of all the regions. &lt;/p&gt;

&lt;p&gt;The problem lies in the fact that MapFile.Reader, which stores the ROOT and META tables, only support searching in the greater-than-or-equal-to sense. With this kind of search, we would always end up exactly one position behind the region we&apos;re actually looking for. Since there is no back() method to readjust, this method would not help us. Basically our only option becomes doing a linear search through the MapFile to find the key we&apos;re looking for, which would carry a significant performance penalty in large regions.&lt;/p&gt;

&lt;p&gt;I propose adding a getClosestBefore method that returns the key immediately before the the switch from less than or equal to greater than, thus capturing the needed key/value. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12384919">HBASE-390</key>
            <summary>Add getClosestBefore method to MapFile.Reader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bryanduxbury">Bryan Duxbury</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Dec 2007 23:56:47 +0000</created>
                <updated>Fri, 22 Aug 2008 21:35:03 +0000</updated>
                            <resolved>Mon, 4 Feb 2008 19:04:55 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12565474" author="bryanduxbury" created="Mon, 4 Feb 2008 19:04:55 +0000"  >&lt;p&gt;This has already been done in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-274&quot; title=&quot;Add to MapFile a getClosest that returns key that comes just-before if key not present (Currently does just-after only).&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-274&quot;&gt;&lt;del&gt;HADOOP-2532&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25174</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h70v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>