<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:59:24 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2156/HBASE-2156.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2156] HBASE-2037 broke Scan</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2156</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Paul Ambrose wrote to the mailing list about some tests he has that doesn&apos;t pass on 0.20.3RC1-2. Looking into the issue it appears that this modification:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Scan addFamily(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] family) {
     familyMap.remove(family);
-    familyMap.put(family, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
+    familyMap.put(family, EMPTY_NAVIGABLE_SET);
     &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;;
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Makes it that when you use addColumn after that you put qualifiers into EMPTY_NAVIGABLE_SET which is static hence shared among all scanners after that like META scanners when calling tableExists.&lt;/p&gt;

&lt;p&gt;This was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2037&quot; title=&quot;Alternate indexed hbase implementation; speeds scans by adding indexes to regions rather secondary tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2037&quot;&gt;&lt;del&gt;HBASE-2037&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446290">HBASE-2156</key>
            <summary>HBASE-2037 broke Scan</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jan 2010 07:41:13 +0000</created>
                <updated>Fri, 12 Oct 2012 06:14:14 +0000</updated>
                            <resolved>Tue, 19 Oct 2010 21:49:41 +0000</resolved>
                                    <version>0.20.3</version>
                                    <fixVersion>0.20.3</fixVersion>
                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12803625" author="jdcryans" created="Fri, 22 Jan 2010 08:00:24 +0000"  >&lt;p&gt;Patch that fixes the bug by verifying if the set is the static one. Also adds a unit tests and re-indents the previous one in the class (which was horribly wrong).&lt;/p&gt;</comment>
                            <comment id="12803634" author="tsuna" created="Fri, 22 Jan 2010 08:37:37 +0000"  >&lt;p&gt;+1, figured out the bug with JD and verified the patch.&lt;br/&gt;
The unit test it&apos;s adding could be more minimalist and straight-to-the-point but oh well...&lt;/p&gt;</comment>
                            <comment id="12803782" author="stack" created="Fri, 22 Jan 2010 17:52:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12803811" author="jdcryans" created="Fri, 22 Jan 2010 18:41:36 +0000"  >&lt;p&gt;I committed the fix to branch and a to-the-point test to branch and trunk per Benoit&apos;s comment.&lt;/p&gt;</comment>
                            <comment id="12919973" author="lars_francke" created="Mon, 11 Oct 2010 20:20:55 +0000"  >&lt;p&gt;The &quot;to-the-point&quot;&#160;test JD implemented unfortunately never ran due to a missing annotation.&lt;/p&gt;

&lt;p&gt;And when I run it it fails:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException
	at org.apache.hadoop.hbase.client.TestFromClientSide.testScanVariableReuse(TestFromClientSide.java:3681)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:24)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:157)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:64)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12921757" author="stack" created="Sat, 16 Oct 2010 20:21:34 +0000"  >&lt;p&gt;Reopening so J-D can take a look (This was marked a blocker after all).  Thanks for detective work Lars.&lt;/p&gt;</comment>
                            <comment id="12922720" author="jdcryans" created="Tue, 19 Oct 2010 21:07:05 +0000"  >&lt;p&gt;This test was failing on trunk because &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2037&quot; title=&quot;Alternate indexed hbase implementation; speeds scans by adding indexes to regions rather secondary tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2037&quot;&gt;&lt;del&gt;HBASE-2037&lt;/del&gt;&lt;/a&gt; never ended up getting applied there. I think the test is still useful to prevent that kind of bug, so here&apos;s a better/working version of it.&lt;/p&gt;</comment>
                            <comment id="12922736" author="stack" created="Tue, 19 Oct 2010 21:45:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12922739" author="jdcryans" created="Tue, 19 Oct 2010 21:49:41 +0000"  >&lt;p&gt;Thanks Stack, committed to trunk and re-closing the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12457595" name="HBASE-2156-test-fix.patch" size="903" author="jdcryans" created="Tue, 19 Oct 2010 21:07:05 +0000"/>
                            <attachment id="12431101" name="HBASE-2156.patch" size="2795" author="jdcryans" created="Fri, 22 Jan 2010 08:00:24 +0000"/>
                            <attachment id="12456888" name="HBASE-2156.test-enabled.patch" size="566" author="lars_francke" created="Mon, 11 Oct 2010 20:20:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Jan 2010 08:37:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08tdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>