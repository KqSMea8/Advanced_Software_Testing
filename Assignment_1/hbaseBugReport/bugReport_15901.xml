<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:08:22 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-15901/HBASE-15901.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-15901] Region server process is often getting crashed</title>
                <link>https://issues.apache.org/jira/browse/HBASE-15901</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Issue Description:&lt;br/&gt;
=================&lt;/p&gt;

&lt;p&gt;Region server process is often getting crashed.When analyzed further, we came to know that &apos;Region server process JVM&apos; was consuming more physical memory due to which Linux &apos;OOM killer&apos; killed the process. This randomly occurs in different HSlave machines in the cluster.&lt;/p&gt;

&lt;p&gt;The Heap size for the Region server is 38 GB(aware this is on higher side &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;

&lt;p&gt;I see lot of 64MB pages allocated for &quot;anon&quot; from PMAP.&lt;/p&gt;

&lt;p&gt;I would like to understand the following,&lt;/p&gt;

&lt;p&gt;1) What would be the reason for these many 64MB physical memory pages acquired by region server process?&lt;br/&gt;
2) How to control this behaviour, in order to reduce the memory foot print outside heap?&lt;/p&gt;


&lt;p&gt;Log Details:&lt;br/&gt;
===========&lt;/p&gt;

&lt;p&gt;Here is the memory usage in HBase cluster reported by &quot;free, top, JMAP &amp;amp; PMAP&quot;&lt;/p&gt;

&lt;p&gt;HSLave1&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Free:&lt;/p&gt;

&lt;p&gt;total       used       free     shared    buffers     cached&lt;br/&gt;
Mem:         64386      60966       3420          0        291       5870&lt;br/&gt;
-/+ buffers/cache:      54804       9581&lt;br/&gt;
Swap:        28963        768      28195&lt;/p&gt;


&lt;p&gt;Top:&lt;/p&gt;

&lt;p&gt;top - 19:12:24 up 329 days,  2:11,  2 users,  load average: 0.66, 0.53, 0.58&lt;br/&gt;
Tasks:   1 total,   0 running,   1 sleeping,   0 stopped,   0 zombie&lt;br/&gt;
Cpu(s):  4.6%us,  3.6%sy,  0.0%ni, 90.6%id,  0.0%wa,  0.0%hi,  1.2%si,  0.0%st&lt;br/&gt;
Mem:  65932072k total, 63597656k used,  2334416k free,   300284k buffers&lt;br/&gt;
Swap: 29659128k total,   787304k used, 28871824k free,  7174108k cached&lt;/p&gt;

&lt;p&gt; PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                                   &lt;br/&gt;
62381 hbase     20   0 50.5g  49g 7352 S 35.6 79.4  19273:50 java  &lt;/p&gt;


&lt;p&gt;JMAP:&lt;/p&gt;

&lt;p&gt;Attaching to process ID 62381, please wait...&lt;br/&gt;
Debugger attached successfully.&lt;br/&gt;
Server compiler detected.&lt;br/&gt;
JVM version is 20.45-b01&lt;/p&gt;

&lt;p&gt;using parallel threads in the new generation.&lt;br/&gt;
using thread-local object allocation.&lt;br/&gt;
Concurrent Mark-Sweep GC&lt;/p&gt;

&lt;p&gt;Heap Configuration:&lt;br/&gt;
   MinHeapFreeRatio = 40&lt;br/&gt;
   MaxHeapFreeRatio = 70&lt;br/&gt;
   MaxHeapSize      = 40802189312 (38912.0MB)&lt;br/&gt;
   NewSize          = 21757952 (20.75MB)&lt;br/&gt;
   MaxNewSize       = 392560640 (374.375MB)&lt;br/&gt;
   OldSize          = 65404928 (62.375MB)&lt;br/&gt;
   NewRatio         = 7&lt;br/&gt;
   SurvivorRatio    = 8&lt;br/&gt;
   PermSize         = 21757952 (20.75MB)&lt;br/&gt;
   MaxPermSize      = 85983232 (82.0MB)&lt;/p&gt;

&lt;p&gt;Heap Usage:&lt;br/&gt;
New Generation (Eden + 1 Survivor Space):&lt;br/&gt;
   capacity = 353304576 (336.9375MB)&lt;br/&gt;
   used     = 328423048 (313.20862579345703MB)&lt;br/&gt;
   free     = 24881528 (23.72887420654297MB)&lt;br/&gt;
   92.95748493220762% used&lt;br/&gt;
Eden Space:&lt;br/&gt;
   capacity = 314048512 (299.5MB)&lt;br/&gt;
   used     = 314048512 (299.5MB)&lt;br/&gt;
   free     = 0 (0.0MB)&lt;br/&gt;
   100.0% used&lt;br/&gt;
From Space:&lt;br/&gt;
   capacity = 39256064 (37.4375MB)&lt;br/&gt;
   used     = 14374536 (13.708625793457031MB)&lt;br/&gt;
   free     = 24881528 (23.72887420654297MB)&lt;br/&gt;
   36.617364389868534% used&lt;br/&gt;
To Space:&lt;br/&gt;
   capacity = 39256064 (37.4375MB)&lt;br/&gt;
   used     = 1519584 (1.449188232421875MB)&lt;br/&gt;
   free     = 37736480 (35.988311767578125MB)&lt;br/&gt;
   3.8709535423622703% used&lt;br/&gt;
concurrent mark-sweep generation:&lt;br/&gt;
   capacity = 40409628672 (38537.625MB)&lt;br/&gt;
   used     = 6564587064 (6260.478080749512MB)&lt;br/&gt;
   free     = 33845041608 (32277.14691925049MB)&lt;br/&gt;
   16.24510612874953% used&lt;br/&gt;
Perm Generation:&lt;br/&gt;
   capacity = 64958464 (61.94921875MB)&lt;br/&gt;
   used     = 38873344 (37.072509765625MB)&lt;br/&gt;
   free     = 26085120 (24.876708984375MB)&lt;br/&gt;
   59.84338545936062% used&lt;/p&gt;


&lt;p&gt;PMAP:&lt;/p&gt;

&lt;p&gt;In PMAP OUTPUT we could see a lot of anonymos &lt;span class=&quot;error&quot;&gt;&amp;#91;anon&amp;#93;&lt;/span&gt; memory each of 64 MB , allocated to the region pid,&lt;/p&gt;

&lt;p&gt;62381:   /usr/java/latest/bin/java -XX:OnOutOfMemoryError=kill -9 %p -Xmx8000m -XX:+UseConcMarkSweepGC -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false -XX:MaxTenuringThreshold=8 -XX:+CMSParallelRemarkEnabled -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70 -XX:+ScavengeBeforeFullGC -XX:+CMSScavengeBeforeRemark -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=1 -XX:GCLogFileSize=512M -Xloggc:/opt/hbase/logs/hbase-hbas&lt;br/&gt;
Address           Kbytes     RSS   Dirty Mode   Mapping&lt;br/&gt;
0000000040000000      36       4       0 r-x--  java&lt;br/&gt;
0000000040108000       8       8       8 rwx--  java&lt;br/&gt;
000000004010a000   75316   75188   75188 rwx--    [ anon ]&lt;br/&gt;
00007f8868000000   65476   65476   65476 rwx--    [ anon ]&lt;br/&gt;
00007f886bff1000      60       0       0 -----    [ anon ]&lt;br/&gt;
00007f886c000000   65536   22192   22192 rwx--    [ anon ]&lt;br/&gt;
00007f8870000000   65476   65476   65476 rwx--    [ anon ]&lt;br/&gt;
00007f8873ff1000      60       0       0 -----    [ anon ]&lt;br/&gt;
00007f8878000000   65484   61048   61048 rwx--    [ anon ]&lt;br/&gt;
00007f887bff3000      52       0       0 -----    [ anon ]&lt;br/&gt;
00007f887c000000   65532   65532   65532 rwx--    [ anon ]&lt;br/&gt;
00007f887ffff000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007f8880000000   65512   65512   65512 rwx--    [ anon ]&lt;br/&gt;
00007f8883ffa000      24       0       0 -----    [ anon ]&lt;br/&gt;
00007f8888000000   65488   65488   65488 rwx--    [ anon ]&lt;br/&gt;
00007f888bff4000      48       0       0 -----    [ anon ]&lt;br/&gt;
00007f888c000000   65512   65512   65512 rwx--    [ anon ]&lt;br/&gt;
00007f888fffa000      24       0       0 -----    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
00007f8b7c52a000    1016     100     100 rwx--    [ anon ]&lt;br/&gt;
00007f8b7f658000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f8b7f65b000    1016     116     116 rwx--    [ anon ]&lt;br/&gt;
00007f8b7fa5c000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f8b7fa5f000    1016      96      96 rwx--    [ anon ]&lt;br/&gt;
00007f8b7fb5d000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f8b7fb60000    1016      88      88 rwx--    [ anon ]&lt;br/&gt;
00007f8b7fd5f000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f8b7fd62000    1016      96      96 rwx--    [ anon ]&lt;br/&gt;
00007f8b8086a000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f8b8086d000    1016      96      96 rwx--    [ anon ]&lt;br/&gt;
00007f8b80d6f000      12       0       0 -----    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;/p&gt;

&lt;p&gt;00007f95539fb000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007f9553afb000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007f9553afc000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007f9553bfc000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007f9553bfd000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007f9553cfd000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007f9553cfe000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007f9553dfe000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007f9553dff000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007f9553eff000       4       0       0 -----    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
----------------  ------  ------  ------&lt;br/&gt;
total kB        52905432 52327812 52320456&lt;/p&gt;


&lt;p&gt;HSLave2&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Free:&lt;/p&gt;

&lt;p&gt;             total       used       free     shared    buffers     cached&lt;br/&gt;
Mem:         64386      64059        327          0        448      11860&lt;br/&gt;
-/+ buffers/cache:      51750      12635&lt;br/&gt;
Swap:        28963        558      28405&lt;/p&gt;


&lt;p&gt;Top:&lt;/p&gt;

&lt;p&gt;   top - 19:22:43 up 329 days,  1:54,  2 users,  load average: 2.86, 2.35, 2.35&lt;br/&gt;
Tasks: 781 total,   1 running, 780 sleeping,   0 stopped,   0 zombie&lt;br/&gt;
Cpu(s): 11.3%us,  0.8%sy,  0.0%ni, 87.8%id,  0.0%wa,  0.0%hi,  0.1%si,  0.0%st&lt;br/&gt;
Mem:  65932072k total, 64978056k used,   954016k free,   462020k buffers&lt;br/&gt;
Swap: 29659128k total,   571868k used, 29087260k free, 11518808k cached&lt;/p&gt;

&lt;p&gt;  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                                   &lt;br/&gt;
20890 hbase     20   0 61.9g  45g  15m S 273.7 72.8  49920:48 java &lt;/p&gt;


&lt;p&gt;JMAP:&lt;/p&gt;

&lt;p&gt;Attaching to process ID 20890, please wait...&lt;br/&gt;
Debugger attached successfully.&lt;br/&gt;
Server compiler detected.&lt;br/&gt;
JVM version is 20.45-b01&lt;/p&gt;

&lt;p&gt;using parallel threads in the new generation.&lt;br/&gt;
using thread-local object allocation.&lt;br/&gt;
Concurrent Mark-Sweep GC&lt;/p&gt;

&lt;p&gt;Heap Configuration:&lt;br/&gt;
   MinHeapFreeRatio = 40&lt;br/&gt;
   MaxHeapFreeRatio = 70&lt;br/&gt;
   MaxHeapSize      = 40802189312 (38912.0MB)&lt;br/&gt;
   NewSize          = 21757952 (20.75MB)&lt;br/&gt;
   MaxNewSize       = 392560640 (374.375MB)&lt;br/&gt;
   OldSize          = 65404928 (62.375MB)&lt;br/&gt;
   NewRatio         = 7&lt;br/&gt;
   SurvivorRatio    = 8&lt;br/&gt;
   PermSize         = 21757952 (20.75MB)&lt;br/&gt;
   MaxPermSize      = 85983232 (82.0MB)&lt;/p&gt;

&lt;p&gt;Heap Usage:&lt;br/&gt;
New Generation (Eden + 1 Survivor Space):&lt;br/&gt;
   capacity = 353304576 (336.9375MB)&lt;br/&gt;
   used     = 143119808 (136.48968505859375MB)&lt;br/&gt;
   free     = 210184768 (200.44781494140625MB)&lt;br/&gt;
   40.50890300384901% used&lt;br/&gt;
Eden Space:&lt;br/&gt;
   capacity = 314048512 (299.5MB)&lt;br/&gt;
   used     = 140928488 (134.3998794555664MB)&lt;br/&gt;
   free     = 173120024 (165.1001205444336MB)&lt;br/&gt;
   44.874751070305976% used&lt;br/&gt;
From Space:&lt;br/&gt;
   capacity = 39256064 (37.4375MB)&lt;br/&gt;
   used     = 2191320 (2.0898056030273438MB)&lt;br/&gt;
   free     = 37064744 (35.347694396972656MB)&lt;br/&gt;
   5.582118472193239% used&lt;br/&gt;
To Space:&lt;br/&gt;
   capacity = 39256064 (37.4375MB)&lt;br/&gt;
   used     = 0 (0.0MB)&lt;br/&gt;
   free     = 39256064 (37.4375MB)&lt;br/&gt;
   0.0% used&lt;br/&gt;
concurrent mark-sweep generation:&lt;br/&gt;
   capacity = 25221365760 (24052.96875MB)&lt;br/&gt;
   used     = 16879822464 (16097.853149414062MB)&lt;br/&gt;
   free     = 8341543296 (7955.1156005859375MB)&lt;br/&gt;
   66.926678850876% used&lt;br/&gt;
Perm Generation:&lt;br/&gt;
   capacity = 65531904 (62.49609375MB)&lt;br/&gt;
   used     = 39318808 (37.497337341308594MB)&lt;br/&gt;
   free     = 26213096 (24.998756408691406MB)&lt;br/&gt;
   59.99948971420089% used&lt;/p&gt;


&lt;p&gt;PMAP:&lt;/p&gt;

&lt;p&gt;In PMAP OUTPUT we could see a lot of anonymos &lt;span class=&quot;error&quot;&gt;&amp;#91;anon&amp;#93;&lt;/span&gt; memory each of 64 MB , allocated to the region pid,&lt;/p&gt;

&lt;p&gt;20890:   /usr/java/latest/bin/java -XX:OnOutOfMemoryError=kill -9 %p -Xmx8000m -XX:+UseConcMarkSweepGC -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false -XX:MaxTenuringThreshold=8 -XX:+CMSParallelRemarkEnabled -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70 -XX:+ScavengeBeforeFullGC -XX:+CMSScavengeBeforeRemark -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=1 -XX:GCLogFileSize=512M -Xloggc:/opt/hbase/logs/hbase-hbas&lt;br/&gt;
Address           Kbytes     RSS   Dirty Mode   Mapping&lt;br/&gt;
0000000040000000      36      36       0 r-x--  java&lt;br/&gt;
0000000040108000       8       8       8 rwx--  java&lt;br/&gt;
000000004010a000 23320596 23320596 23320596 rwx--    [ anon ]&lt;br/&gt;
00007fece45c9000  196608   68280   68280 rwx--    [ anon ]&lt;br/&gt;
00007fecf0ed2000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fecf0ed5000    1016      88      88 rwx--    [ anon ]&lt;br/&gt;
00007fecf0fd3000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fecf0fd6000    1016      24      24 rwx--    [ anon ]&lt;br/&gt;
00007fecf1ee2000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fecf1ee5000    1016      24      24 rwx--    [ anon ]&lt;br/&gt;
00007fecf20e4000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fecf20e7000    1016      24      24 rwx--    [ anon ]&lt;br/&gt;
00007fecf23e7000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fecf23ea000    1016      24      24 rwx--    [ anon ]&lt;br/&gt;
00007fecf27eb000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fecf27ee000    1016      92      92 rwx--    [ anon ]&lt;br/&gt;
00007fecf28ec000      12       0       0 -----    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;/p&gt;

&lt;p&gt;00007ff6c8bfd000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007ff6c8cfd000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007ff6c8cfe000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007ff6c8dfe000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007ff6c8dff000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007ff6c8eff000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007ff6c8f00000   10176    9148    9148 rwx--    [ anon ]&lt;br/&gt;
00007ff6c98f0000  105516   55732   55732 rwx--    [ anon ]&lt;br/&gt;
00007ff6cfffb000      20       0       0 -----    [ anon ]&lt;br/&gt;
00007ff6d009d000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007ff6d009e000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007ff6d019e000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007ff6d019f000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007ff6d029f000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007ff6d02a0000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007ff6d03a0000       4       0       0 -----    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
00007fff1c45a000      96      56      56 rwx--    [ stack ]&lt;br/&gt;
00007fff1c561000       4       4       0 r-x--    [ anon ]&lt;br/&gt;
ffffffffff600000       4       0       0 r-x--    [ anon ]&lt;br/&gt;
----------------  ------  ------  ------&lt;br/&gt;
total kB        64942000 47998468 47983064&lt;/p&gt;


&lt;p&gt;HSLave3&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Free:&lt;/p&gt;

&lt;p&gt;             total       used       free     shared    buffers     cached&lt;br/&gt;
Mem:         64386      63757        629          0        315       2004&lt;br/&gt;
-/+ buffers/cache:      61437       2949&lt;br/&gt;
Swap:        28963        154      28809&lt;/p&gt;


&lt;p&gt;Top:&lt;/p&gt;

&lt;p&gt;top - 19:29:12 up 329 days,  1:39,  2 users,  load average: 0.70, 0.90, 1.22&lt;br/&gt;
Tasks:   1 total,   0 running,   1 sleeping,   0 stopped,   0 zombie&lt;br/&gt;
Cpu(s):  7.4%us,  1.5%sy,  0.0%ni, 90.8%id,  0.1%wa,  0.0%hi,  0.2%si,  0.0%st&lt;br/&gt;
Mem:  65932072k total, 65283080k used,   648992k free,   322804k buffers&lt;br/&gt;
Swap: 29659128k total,   158364k used, 29500764k free,  1975488k cached&lt;/p&gt;

&lt;p&gt;  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                                   &lt;br/&gt;
41644 hbase     20   0 62.6g  52g 8620 S 15.5 83.6  48068:32 java                   &lt;/p&gt;


&lt;p&gt;JMAP:&lt;/p&gt;

&lt;p&gt;Attaching to process ID 41644, please wait...&lt;br/&gt;
Debugger attached successfully.&lt;br/&gt;
Server compiler detected.&lt;br/&gt;
JVM version is 20.45-b01&lt;/p&gt;

&lt;p&gt;using parallel threads in the new generation.&lt;br/&gt;
using thread-local object allocation.&lt;br/&gt;
Concurrent Mark-Sweep GC&lt;/p&gt;

&lt;p&gt;Heap Configuration:&lt;br/&gt;
   MinHeapFreeRatio = 40&lt;br/&gt;
   MaxHeapFreeRatio = 70&lt;br/&gt;
   MaxHeapSize      = 40802189312 (38912.0MB)&lt;br/&gt;
   NewSize          = 21757952 (20.75MB)&lt;br/&gt;
   MaxNewSize       = 392560640 (374.375MB)&lt;br/&gt;
   OldSize          = 65404928 (62.375MB)&lt;br/&gt;
   NewRatio         = 7&lt;br/&gt;
   SurvivorRatio    = 8&lt;br/&gt;
   PermSize         = 21757952 (20.75MB)&lt;br/&gt;
   MaxPermSize      = 85983232 (82.0MB)&lt;/p&gt;

&lt;p&gt;Heap Usage:&lt;br/&gt;
New Generation (Eden + 1 Survivor Space):&lt;br/&gt;
   capacity = 353304576 (336.9375MB)&lt;br/&gt;
   used     = 96493664 (92.02352905273438MB)&lt;br/&gt;
   free     = 256810912 (244.91397094726562MB)&lt;br/&gt;
   27.311750414463923% used&lt;br/&gt;
Eden Space:&lt;br/&gt;
   capacity = 314048512 (299.5MB)&lt;br/&gt;
   used     = 91050000 (86.83204650878906MB)&lt;br/&gt;
   free     = 222998512 (212.66795349121094MB)&lt;br/&gt;
   28.992336063034745% used&lt;br/&gt;
From Space:&lt;br/&gt;
   capacity = 39256064 (37.4375MB)&lt;br/&gt;
   used     = 5443664 (5.1914825439453125MB)&lt;br/&gt;
   free     = 33812400 (32.24601745605469MB)&lt;br/&gt;
   13.86706522589733% used&lt;br/&gt;
To Space:&lt;br/&gt;
   capacity = 39256064 (37.4375MB)&lt;br/&gt;
   used     = 0 (0.0MB)&lt;br/&gt;
   free     = 39256064 (37.4375MB)&lt;br/&gt;
   0.0% used&lt;br/&gt;
concurrent mark-sweep generation:&lt;br/&gt;
   capacity = 30304894976 (28901.0MB)&lt;br/&gt;
   used     = 17871116576 (17043.224884033203MB)&lt;br/&gt;
   free     = 12433778400 (11857.775115966797MB)&lt;br/&gt;
   58.971055963576354% used&lt;br/&gt;
Perm Generation:&lt;br/&gt;
   capacity = 67346432 (64.2265625MB)&lt;br/&gt;
   used     = 40325792 (38.457672119140625MB)&lt;br/&gt;
   free     = 27020640 (25.768890380859375MB)&lt;br/&gt;
   59.87814172545919% used&lt;/p&gt;


&lt;p&gt;PMAP:&lt;/p&gt;

&lt;p&gt;In PMAP OUTPUT we could see a lot of anonymos &lt;span class=&quot;error&quot;&gt;&amp;#91;anon&amp;#93;&lt;/span&gt; memory each of 64 MB , allocated to the region pid,&lt;/p&gt;

&lt;p&gt;41644:   /usr/java/latest/bin/java -XX:OnOutOfMemoryError=kill -9 %p -Xmx8000m -XX:+UseConcMarkSweepGC -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false -XX:MaxTenuringThreshold=8 -XX:+CMSParallelRemarkEnabled -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70 -XX:+ScavengeBeforeFullGC -XX:+CMSScavengeBeforeRemark -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=1 -XX:GCLogFileSize=512M -Xloggc:/opt/hbase/logs/hbase-hbas&lt;br/&gt;
Address           Kbytes     RSS   Dirty Mode   Mapping&lt;br/&gt;
0000000040000000      36       8       0 r-x--  java&lt;br/&gt;
0000000040108000       8       8       8 rwx--  java&lt;br/&gt;
000000004010a000   43532   43404   43404 rwx--    [ anon ]&lt;br/&gt;
00007f4f10000000   65532   65492   65492 rwx--    [ anon ]&lt;br/&gt;
00007f4f13fff000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007f4f34000000   65496   65496   65496 rwx--    [ anon ]&lt;br/&gt;
00007f4f37ff6000      40       0       0 -----    [ anon ]&lt;br/&gt;
00007f4f3c000000   65536   65536   65536 rwx--    [ anon ]&lt;br/&gt;
00007f4f74000000   65480   65480   65480 rwx--    [ anon ]&lt;br/&gt;
00007f4f77ff2000      56       0       0 -----    [ anon ]&lt;br/&gt;
00007f5048000000   65524   17568   17568 rwx--    [ anon ]&lt;br/&gt;
00007f504bffd000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f5050000000   65520   65520   65520 rwx--    [ anon ]&lt;br/&gt;
00007f5053ffc000      16       0       0 -----    [ anon ]&lt;br/&gt;
00007f5054000000   65536   65536   65536 rwx--    [ anon ]&lt;br/&gt;
00007f5058000000   65496   65496   65496 rwx--    [ anon ]&lt;br/&gt;
00007f505bff6000      40       0       0 -----    [ anon ]&lt;br/&gt;
00007f505c000000   65532   65484   65484 rwx--    [ anon ]&lt;br/&gt;
00007f505ffff000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007f5060000000   65508   65508   65508 rwx--    [ anon ]&lt;br/&gt;
00007f5063ff9000      28       0       0 -----    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
00007f56add2a000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56add2d000    1016     108     108 rwx--    [ anon ]&lt;br/&gt;
00007f56ade2b000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56ade2e000    1016     104     104 rwx--    [ anon ]&lt;br/&gt;
00007f56adf2c000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56adf2f000    1016      96      96 rwx--    [ anon ]&lt;br/&gt;
00007f56ae02d000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56ae030000    1016     112     112 rwx--    [ anon ]&lt;br/&gt;
00007f56ae12e000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56ae131000    1016     104     104 rwx--    [ anon ]&lt;br/&gt;
00007f56ae22f000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56ae232000    1016      92      92 rwx--    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
00007f56b24ca000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56b24cd000    1016       8       8 rwx--    [ anon ]&lt;br/&gt;
00007f56b25cb000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56b25ce000    1016      56      56 rwx--    [ anon ]&lt;br/&gt;
00007f56b26cc000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56b26cf000    1016      48      48 rwx--    [ anon ]&lt;br/&gt;
00007f56b27cd000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56b27d0000    1016       8       8 rwx--    [ anon ]&lt;br/&gt;
00007f56b28ce000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007f56b28d1000    1016       8       8 rwx--    [ anon ]&lt;br/&gt;
00007f56b29cf000   96836       8       0 r-x--  locale-archive&lt;br/&gt;
00007f56b8860000      12       0       0 -----    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
----------------  ------  ------  ------&lt;br/&gt;
total kB        65653168 55086808 55078192&lt;/p&gt;


&lt;p&gt;HSLave4&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Free:&lt;/p&gt;

&lt;p&gt;             total       used       free     shared    buffers     cached&lt;br/&gt;
Mem:         64386      64163        223          0         71         24&lt;br/&gt;
-/+ buffers/cache:      64067        319&lt;br/&gt;
Swap:        28963       3807      25156&lt;/p&gt;


&lt;p&gt;Top:&lt;/p&gt;

&lt;p&gt;top - 19:34:41 up 329 days,  1:25,  1 user,  load average: 4.09, 4.45, 4.25&lt;br/&gt;
Tasks:   1 total,   0 running,   1 sleeping,   0 stopped,   0 zombie&lt;br/&gt;
Cpu(s):  7.0%us,  1.6%sy,  0.0%ni, 91.1%id,  0.1%wa,  0.0%hi,  0.2%si,  0.0%st&lt;br/&gt;
Mem:  65932072k total, 65707276k used,   224796k free,     8180k buffers&lt;br/&gt;
Swap: 29659128k total,  3923944k used, 25735184k free,   158556k cached&lt;/p&gt;

&lt;p&gt;  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                                   &lt;br/&gt;
59864 hbase     20   0 60.5g  56g 2480 S 134.9 89.8  49529:39 java&lt;/p&gt;


&lt;p&gt;JMAP:&lt;/p&gt;

&lt;p&gt;Attaching to process ID 59864, please wait...&lt;br/&gt;
Debugger attached successfully.&lt;br/&gt;
Server compiler detected.&lt;br/&gt;
JVM version is 20.45-b01&lt;/p&gt;

&lt;p&gt;using parallel threads in the new generation.&lt;br/&gt;
using thread-local object allocation.&lt;br/&gt;
Concurrent Mark-Sweep GC&lt;/p&gt;

&lt;p&gt;Heap Configuration:&lt;br/&gt;
   MinHeapFreeRatio = 40&lt;br/&gt;
   MaxHeapFreeRatio = 70&lt;br/&gt;
   MaxHeapSize      = 40802189312 (38912.0MB)&lt;br/&gt;
   NewSize          = 21757952 (20.75MB)&lt;br/&gt;
   MaxNewSize       = 392560640 (374.375MB)&lt;br/&gt;
   OldSize          = 65404928 (62.375MB)&lt;br/&gt;
   NewRatio         = 7&lt;br/&gt;
   SurvivorRatio    = 8&lt;br/&gt;
   PermSize         = 21757952 (20.75MB)&lt;br/&gt;
   MaxPermSize      = 85983232 (82.0MB)&lt;/p&gt;

&lt;p&gt;Heap Usage:&lt;br/&gt;
New Generation (Eden + 1 Survivor Space):&lt;br/&gt;
   capacity = 353304576 (336.9375MB)&lt;br/&gt;
   used     = 92135560 (87.86731719970703MB)&lt;br/&gt;
   free     = 261169016 (249.07018280029297MB)&lt;br/&gt;
   26.078224359030095% used&lt;br/&gt;
Eden Space:&lt;br/&gt;
   capacity = 314048512 (299.5MB)&lt;br/&gt;
   used     = 79957848 (76.25374603271484MB)&lt;br/&gt;
   free     = 234090664 (223.24625396728516MB)&lt;br/&gt;
   25.460349259671066% used&lt;br/&gt;
From Space:&lt;br/&gt;
   capacity = 39256064 (37.4375MB)&lt;br/&gt;
   used     = 12177712 (11.613571166992188MB)&lt;br/&gt;
   free     = 27078352 (25.823928833007812MB)&lt;br/&gt;
   31.021225153902336% used&lt;br/&gt;
To Space:&lt;br/&gt;
   capacity = 39256064 (37.4375MB)&lt;br/&gt;
   used     = 0 (0.0MB)&lt;br/&gt;
   free     = 39256064 (37.4375MB)&lt;br/&gt;
   0.0% used&lt;br/&gt;
concurrent mark-sweep generation:&lt;br/&gt;
   capacity = 40409628672 (38537.625MB)&lt;br/&gt;
   used     = 10409575160 (9927.34447479248MB)&lt;br/&gt;
   free     = 30000053512 (28610.28052520752MB)&lt;br/&gt;
   25.760135646118517% used&lt;br/&gt;
Perm Generation:&lt;br/&gt;
   capacity = 68177920 (65.01953125MB)&lt;br/&gt;
   used     = 40687664 (38.80278015136719MB)&lt;br/&gt;
   free     = 27490256 (26.216751098632812MB)&lt;br/&gt;
   59.67865256082908% used&lt;/p&gt;


&lt;p&gt;PMAP:&lt;/p&gt;

&lt;p&gt;In PMAP OUTPUT we could see a lot of anonymos &lt;span class=&quot;error&quot;&gt;&amp;#91;anon&amp;#93;&lt;/span&gt; memory each of 64 MB , allocated to the region pid,&lt;/p&gt;

&lt;p&gt;59864:   /usr/java/latest/bin/java -XX:OnOutOfMemoryError=kill -9 %p -Xmx8000m -XX:+UseConcMarkSweepGC -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv6Addresses=false -XX:MaxTenuringThreshold=8 -XX:+CMSParallelRemarkEnabled -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70 -XX:+ScavengeBeforeFullGC -XX:+CMSScavengeBeforeRemark -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=1 -XX:GCLogFileSize=512M -Xloggc:/opt/hbase/logs/hbase-hbas&lt;br/&gt;
Address           Kbytes     RSS   Dirty Mode   Mapping&lt;br/&gt;
0000000040000000      36       0       0 r-x--  java&lt;br/&gt;
0000000040108000       8       4       0 rwx--  java&lt;br/&gt;
000000004010a000 4872320 4831728 4831680 rwx--    [ anon ]&lt;br/&gt;
00007fd8ac000000   65512   20664   20664 rwx--    [ anon ]&lt;br/&gt;
00007fd8afffa000      24       0       0 -----    [ anon ]&lt;br/&gt;
00007fd8b4000000   65532   65532   65532 rwx--    [ anon ]&lt;br/&gt;
00007fd8b7fff000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007fd8b8000000   65536   65536   65536 rwx--    [ anon ]&lt;br/&gt;
00007fd8bc000000   65532   65532   65532 rwx--    [ anon ]&lt;br/&gt;
00007fd8bffff000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007fd8c0000000   65488   65488   65488 rwx--    [ anon ]&lt;br/&gt;
00007fd8c3ff4000      48       0       0 -----    [ anon ]&lt;br/&gt;
00007fd8c4000000   65536   65536   65536 rwx--    [ anon ]&lt;br/&gt;
00007fd8cc000000   65532   65532   65532 rwx--    [ anon ]&lt;br/&gt;
00007fd8cffff000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007fd8d4000000   65536   65512   65512 rwx--    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
00007fdde145e000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fdde1461000    1016      88      88 rwx--    [ anon ]&lt;br/&gt;
00007fdde155f000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fdde1562000    1016      92      92 rwx--    [ anon ]&lt;br/&gt;
00007fdde1660000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fdde1663000    1016      92      92 rwx--    [ anon ]&lt;br/&gt;
00007fdde1761000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fdde1764000    1016      24      24 rwx--    [ anon ]&lt;br/&gt;
00007fdde1862000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fdde1865000    1016      24      24 rwx--    [ anon ]&lt;br/&gt;
00007fdde1963000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fdde1966000    1016      96      96 rwx--    [ anon ]&lt;br/&gt;
00007fdde1a64000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fdde1a67000    1016      92      92 rwx--    [ anon ]&lt;br/&gt;
00007fdde1b65000      12       0       0 -----    [ anon ]&lt;br/&gt;
00007fdde1b68000    1016      24      24 rwx--    [ anon ]&lt;br/&gt;
00007fdde1c66000      12       0       0 -----    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
00007fe7b0000000   65528   65416   65416 rwx--    [ anon ]&lt;br/&gt;
00007fe7b3ffe000       8       0       0 -----    [ anon ]&lt;br/&gt;
00007fe7b408c000   27536   27116   26876 rwx--    [ anon ]&lt;br/&gt;
00007fe7b5b70000  102952   41620   39716 rwx--    [ anon ]&lt;br/&gt;
00007fe7bbffa000      24       0       0 -----    [ anon ]&lt;br/&gt;
00007fe7bc07a000   12336   12336   12336 rwx--    [ anon ]&lt;br/&gt;
00007fe7bcc86000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007fe7bcc87000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007fe7bcd87000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007fe7bcd88000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007fe7bce88000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007fe7bce89000    1024      12      12 rwx--    [ anon ]&lt;br/&gt;
00007fe7bcf89000       4       0       0 -----    [ anon ]&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;/p&gt;

&lt;p&gt;00007fe7bfeee000     212       0       0 r-xs-  passwd&lt;br/&gt;
00007fe7bff23000       4       4       4 rwx--    [ anon ]&lt;br/&gt;
00007fe7bff24000       4       0       0 -----    [ anon ]&lt;br/&gt;
00007fe7bff25000      12       8       8 rwx--    [ anon ]&lt;br/&gt;
00007fe7bff28000      28       0       0 r-x--  libjli.so&lt;br/&gt;
00007fe7bff2f000    1028       0       0 -----  libjli.so&lt;br/&gt;
00007fe7c0030000       8       4       0 rwx--  libjli.so&lt;br/&gt;
00007fe7c0032000       8       8       0 rwx--    [ anon ]&lt;br/&gt;
00007fe7c0034000       4       4       4 r-x--  ld-2.12.so&lt;br/&gt;
00007fe7c0035000       4       4       4 rwx--  ld-2.12.so&lt;br/&gt;
00007fe7c0036000       4       4       0 rwx--    [ anon ]&lt;br/&gt;
00007fff81efc000      96      20      12 rwx--    [ stack ]&lt;br/&gt;
00007fff81fff000       4       4       0 r-x--    [ anon ]&lt;br/&gt;
ffffffffff600000       4       0       0 r-x--    [ anon ]&lt;br/&gt;
----------------  ------  ------  ------&lt;br/&gt;
total kB        63470632 59178756 59174032&lt;/p&gt;


&lt;p&gt;----------------------------------&lt;/p&gt;</description>
                <environment>&lt;p&gt;System Setup:&lt;br/&gt;
============&lt;/p&gt;

&lt;p&gt;1 Hmaster + 1 HsecMaster + 4 Hslaves&lt;/p&gt;

&lt;p&gt;Software Versions:&lt;br/&gt;
=================&lt;/p&gt;

&lt;p&gt;RHEL_VERSION	6.4&lt;br/&gt;
HBASE_VERSION	0.94.6-cdh4.3.1&lt;br/&gt;
HADOOP_VERSION	2.0.0-cdh4.3.1&lt;br/&gt;
ZOOKEEPER_VERSION	3.4.5-cdh4.3.1&lt;br/&gt;
JAVA_VERSION	1.6u45&lt;/p&gt;

&lt;p&gt;System Configuration:&lt;br/&gt;
====================&lt;/p&gt;

&lt;p&gt;CPU: 2 Physical CPU x 6 Cores&lt;br/&gt;
Memory: 64 GB&lt;/p&gt;</environment>
        <key id="12973404">HBASE-15901</key>
            <summary>Region server process is often getting crashed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nathanbigdata">Chidambaranathan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 May 2016 12:25:14 +0000</created>
                <updated>Fri, 27 May 2016 12:25:14 +0000</updated>
                                            <version>0.94.6</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yljz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>