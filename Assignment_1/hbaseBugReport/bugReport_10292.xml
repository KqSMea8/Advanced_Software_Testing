<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:12:22 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10292/HBASE-10292.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10292] TestRegionServerCoprocessorExceptionWithAbort fails occasionally</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10292</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;TestRegionServerCoprocessorExceptionWithAbort has occasionally failed for a very long time now. Fix or disable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12687751">HBASE-10292</key>
            <summary>TestRegionServerCoprocessorExceptionWithAbort fails occasionally</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jan 2014 22:12:51 +0000</created>
                <updated>Sat, 21 Feb 2015 23:29:56 +0000</updated>
                            <resolved>Sat, 11 Jan 2014 19:19:20 +0000</resolved>
                                    <version>0.98.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13864839" author="apurtell" created="Tue, 7 Jan 2014 23:17:10 +0000"  >&lt;p&gt;Example failure trace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 26.293 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
testExceptionFromCoprocessorDuringPut(org.apache.hadoop.hbase.coprocessor.TestRegionServerCoprocessorExceptionWithAbort)  Time elapsed: 12.878 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: The put should have failed, as the coprocessor is buggy
	at org.junit.Assert.fail(Assert.java:88)
	at org.apache.hadoop.hbase.coprocessor.TestRegionServerCoprocessorExceptionWithAbort.testExceptionFromCoprocessorDuringPut(TestRegionServerCoprocessorExceptionWithAbort.java:93)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13865144" author="apurtell" created="Wed, 8 Jan 2014 06:59:00 +0000"  >&lt;p&gt;Attached patch fixes it for me. Otherwise I could reproduce a failure after ~40-50 repetitions using JDK 6. With the patch applied, 100 complete successfully.&lt;/p&gt;</comment>
                            <comment id="13865146" author="anoop.hbase" created="Wed, 8 Jan 2014 07:01:34 +0000"  >&lt;p&gt;When a CP throws non IOE, we do either&lt;br/&gt;
Abort RS or throw DNRIOE to client.  Abort RS only if the config says to do so. But when aborting the server, dont we need to send  back DNRIOE to client? What is the need for the client to retry?&lt;/p&gt;</comment>
                            <comment id="13865152" author="stack" created="Wed, 8 Jan 2014 07:13:26 +0000"  >&lt;p&gt;I like Anoop question but +1 on committing patches to tests that make them more robust (If you need a +1 &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13865153" author="apurtell" created="Wed, 8 Jan 2014 07:15:39 +0000"  >&lt;p&gt;I don&apos;t understand the question &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;. This issue is about fixing a failing test. If there&apos;s some client behavior that you would like to investigate or change, please open another JIRA. The changes I have made here are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add a flush commits so we are sure every time the Put is sent to the RS&lt;/li&gt;
	&lt;li&gt;Remove some unnecessarily complicated exception catching.&lt;/li&gt;
	&lt;li&gt;Make the code that creates NPEs consistent across all of these tests.&lt;/li&gt;
	&lt;li&gt;Waits for 10 seconds to insure the RS has either aborted or not, depending which behavioral alternative we are checking for.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;They are sufficient to fix the test according to my local testing.&lt;/p&gt;</comment>
                            <comment id="13865162" author="apurtell" created="Wed, 8 Jan 2014 07:20:18 +0000"  >&lt;p&gt;Here:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-      fail(&lt;span class=&quot;code-quote&quot;&gt;&quot;The put should have failed, as the coprocessor is buggy&quot;&lt;/span&gt;);
-    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ignored) {
-      &lt;span class=&quot;code-comment&quot;&gt;// Expected.
&lt;/span&gt;+      table.flushCommits();
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (RetriesExhaustedWithDetailsException e) {
+      threwIOE = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
+    } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
+      assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;The regionserver should have thrown an exception&quot;&lt;/span&gt;, threwIOE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I suppose I could put IOException in for RetriesExhaustedWithDetailsException to paper over details that may change (but still subclass IOE). That was an auto-completion and what the other TestRegionServerCoprocessorExceptionWithFoo test does so I left it.&lt;/p&gt;</comment>
                            <comment id="13865166" author="anoop.hbase" created="Wed, 8 Jan 2014 07:23:53 +0000"  >&lt;p&gt;NP Andy.. That can be addressed in another jira..  I was wondering why the test was taking more time and doing many client retries.  That is how went into that abort code.  If the change makes the test to pass always (you see no failure in 100 runs) +1 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13865169" author="apurtell" created="Wed, 8 Jan 2014 07:26:09 +0000"  >&lt;p&gt;Still not sure what you mean by client retries. The tests retry the check to see if the server has aborted or not. ? Anyway, never mind me if I&apos;m not getting your point. It&apos;s late. Let me put up a patch that catches IOE as mentioned above. Just a sec.&lt;/p&gt;</comment>
                            <comment id="13865170" author="apurtell" created="Wed, 8 Jan 2014 07:27:03 +0000"  >&lt;p&gt;Updated patch. &lt;/p&gt;</comment>
                            <comment id="13865176" author="apurtell" created="Wed, 8 Jan 2014 07:36:40 +0000"  >&lt;p&gt;Thanks for the +1s Stack and Anoop. If HadoopQA signs off on this I will commit, most likely tomorrow morning.&lt;/p&gt;</comment>
                            <comment id="13865189" author="anoop.hbase" created="Wed, 8 Jan 2014 08:12:51 +0000"  >&lt;p&gt;Oh sorry for the confusion.  I was not saying about retry in this test .&lt;br/&gt;
What I was refering CoprocessorHost#handleCoprocessorThrowable&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (e &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; IOException) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; (IOException)e;
    }
    &lt;span class=&quot;code-comment&quot;&gt;// If we got here, e is not an IOException. A loaded coprocessor has a
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// fatal bug, and the server (master or regionserver) should remove the
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// faulty coprocessor from its set of active coprocessors. Setting
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// &apos;hbase.coprocessor.abortonerror&apos; to &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; will cause abortServer(),
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// which may be useful in development and testing environments where
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// &apos;failing fast&apos; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; error analysis is desired.
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (env.getConfiguration().getBoolean(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.coprocessor.abortonerror&quot;&lt;/span&gt;,&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)) {
      &lt;span class=&quot;code-comment&quot;&gt;// server is configured to abort.
&lt;/span&gt;      abortServer(env, e);
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Removing coprocessor &apos;&quot;&lt;/span&gt; + env.toString() + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos; from &quot;&lt;/span&gt; +
          &lt;span class=&quot;code-quote&quot;&gt;&quot;environment because it threw:  &quot;&lt;/span&gt; + e,e);
      coprocessors.remove(env);
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        shutdown(env);
      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception x) {
        LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Uncaught exception when shutting down coprocessor &apos;&quot;&lt;/span&gt;
            + env.toString() + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;, x);
      }
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DoNotRetryIOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Coprocessor: &apos;&quot;&lt;/span&gt; + env.toString() +
          &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos; threw: &apos;&quot;&lt;/span&gt; + e + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos; and has been removed from the active &quot;&lt;/span&gt; +
          &lt;span class=&quot;code-quote&quot;&gt;&quot;coprocessor set.&quot;&lt;/span&gt;, e);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Was wondering why we are not throwing back DNRIOE to client when RS also aborts.  May be that is correct and intended. &lt;/p&gt;</comment>
                            <comment id="13865191" author="ram_krish" created="Wed, 8 Jan 2014 08:15:04 +0000"  >&lt;p&gt;LGTM. +1&lt;/p&gt;</comment>
                            <comment id="13865289" author="hadoopqa" created="Wed, 8 Jan 2014 10:35:22 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12621938/10292.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12621938/10292.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12621938&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 4 release audit warnings (more than the trunk&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8364//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13865672" author="apurtell" created="Wed, 8 Jan 2014 17:44:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;Was wondering why we are not throwing back DNRIOE to client when RS also aborts&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Got it. I think the answer is this code predates DNRIOE.&lt;/p&gt;</comment>
                            <comment id="13865676" author="apurtell" created="Wed, 8 Jan 2014 17:52:31 +0000"  >&lt;p&gt;Thanks for the reviews Stack, Anoop, and Ram. Committed to trunk and 0.98. &lt;/p&gt;

&lt;p&gt;I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10300&quot; title=&quot;Insure a throw of DoNotRetryIOException when a regionserver aborts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10300&quot;&gt;&lt;del&gt;HBASE-10300&lt;/del&gt;&lt;/a&gt; for followup.&lt;/p&gt;</comment>
                            <comment id="13865800" author="hudson" created="Wed, 8 Jan 2014 19:50:14 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4797 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4797/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4797/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10292&quot; title=&quot;TestRegionServerCoprocessorExceptionWithAbort fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10292&quot;&gt;&lt;del&gt;HBASE-10292&lt;/del&gt;&lt;/a&gt;. TestRegionServerCoprocessorExceptionWithAbort fails occasionally (apurtell: rev 1556586)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithRemove.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13865860" author="hudson" created="Wed, 8 Jan 2014 20:32:28 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #63 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/63/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/63/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10292&quot; title=&quot;TestRegionServerCoprocessorExceptionWithAbort fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10292&quot;&gt;&lt;del&gt;HBASE-10292&lt;/del&gt;&lt;/a&gt;. TestRegionServerCoprocessorExceptionWithAbort fails occasionally (apurtell: rev 1556590)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithRemove.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13865897" author="hudson" created="Wed, 8 Jan 2014 21:15:51 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #57 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/57/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/57/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10292&quot; title=&quot;TestRegionServerCoprocessorExceptionWithAbort fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10292&quot;&gt;&lt;del&gt;HBASE-10292&lt;/del&gt;&lt;/a&gt;. TestRegionServerCoprocessorExceptionWithAbort fails occasionally (apurtell: rev 1556590)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithRemove.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13866150" author="hudson" created="Thu, 9 Jan 2014 01:06:14 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #46 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/46/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/46/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10292&quot; title=&quot;TestRegionServerCoprocessorExceptionWithAbort fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10292&quot;&gt;&lt;del&gt;HBASE-10292&lt;/del&gt;&lt;/a&gt;. TestRegionServerCoprocessorExceptionWithAbort fails occasionally (apurtell: rev 1556586)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithRemove.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13868133" author="apurtell" created="Fri, 10 Jan 2014 18:58:40 +0000"  >&lt;p&gt;Still seeing this occasionally&lt;/p&gt;</comment>
                            <comment id="13868377" author="apurtell" created="Fri, 10 Jan 2014 22:06:43 +0000"  >&lt;p&gt;Testing this addendum. On another issue Sergey mentioned that AsyncProcess may return the error for a given put on the next one. I&apos;m not familiar with this area of the code, but let&apos;s try it.&lt;/p&gt;</comment>
                            <comment id="13868852" author="apurtell" created="Sat, 11 Jan 2014 19:05:28 +0000"  >&lt;p&gt;I am going to commit the addendum momentarily because after 30 executions of the complete unit test suite on the test box where this test was failing, now there are zero test failures.&lt;/p&gt;</comment>
                            <comment id="13868885" author="hudson" created="Sat, 11 Jan 2014 21:35:05 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #72 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/72/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/72/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10292&quot; title=&quot;TestRegionServerCoprocessorExceptionWithAbort fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10292&quot;&gt;&lt;del&gt;HBASE-10292&lt;/del&gt;&lt;/a&gt;. TestRegionServerCoprocessorExceptionWithAbort fails occasionally (apurtell: rev 1557438)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithRemove.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13868893" author="hudson" created="Sat, 11 Jan 2014 22:30:25 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4808 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4808/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4808/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10292&quot; title=&quot;TestRegionServerCoprocessorExceptionWithAbort fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10292&quot;&gt;&lt;del&gt;HBASE-10292&lt;/del&gt;&lt;/a&gt;. TestRegionServerCoprocessorExceptionWithAbort fails occasionally (apurtell: rev 1557436)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithRemove.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13868899" author="hudson" created="Sat, 11 Jan 2014 23:08:14 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #67 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/67/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/67/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10292&quot; title=&quot;TestRegionServerCoprocessorExceptionWithAbort fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10292&quot;&gt;&lt;del&gt;HBASE-10292&lt;/del&gt;&lt;/a&gt;. TestRegionServerCoprocessorExceptionWithAbort fails occasionally (apurtell: rev 1557438)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithRemove.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13868918" author="hudson" created="Sun, 12 Jan 2014 01:18:08 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #51 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/51/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/51/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10292&quot; title=&quot;TestRegionServerCoprocessorExceptionWithAbort fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10292&quot;&gt;&lt;del&gt;HBASE-10292&lt;/del&gt;&lt;/a&gt;. TestRegionServerCoprocessorExceptionWithAbort fails occasionally (apurtell: rev 1557436)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithRemove.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13869154" author="apurtell" created="Sun, 12 Jan 2014 21:26:47 +0000"  >&lt;p&gt;Confirmed, the addendum has resolved this issue on all of the test boxes that were exhibiting it after 50 iterations of the unit test suite. It is concerning that a failed put won&apos;t always return an error indication, sometimes handed to the next, but &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10277&quot; title=&quot;refactor AsyncProcess&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10277&quot;&gt;&lt;del&gt;HBASE-10277&lt;/del&gt;&lt;/a&gt; is a more relevant vehicle for discussing that.&lt;/p&gt;</comment>
                            <comment id="14330627" author="enis" created="Sat, 21 Feb 2015 23:29:56 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12622447" name="10292-addendum-1.patch" size="2016" author="apurtell" created="Fri, 10 Jan 2014 22:06:43 +0000"/>
                            <attachment id="12621938" name="10292.patch" size="6995" author="apurtell" created="Wed, 8 Jan 2014 07:26:55 +0000"/>
                            <attachment id="12621933" name="10292.patch" size="7037" author="apurtell" created="Wed, 8 Jan 2014 06:59:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Jan 2014 07:01:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366751</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1r7uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>