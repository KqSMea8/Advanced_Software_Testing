<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:11:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10158/HBASE-10158.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10158] Add sync rate histogram to HLogPE</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10158</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HLogPE emits a few metrics that help comparing WAL implementations &amp;#8211; sync and append counts.  This patch adds a histogram around time between sync calls to ensure implementations are not clumping sync invocations.  Helps comparing implementations.&lt;/p&gt;

&lt;p&gt;It also makes it so the just committed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8755&quot; title=&quot;A new write thread model for HLog to improve the overall HBase write throughput&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8755&quot;&gt;&lt;del&gt;HBASE-8755&lt;/del&gt;&lt;/a&gt; code calls postSync and postAppend methods.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; Mind reviewing?  Also, are these additions actually needed?  Could I dump the metrics we already collect if I only did proper startup invocation; i.e. use our metrics rather than these yammer ones?&lt;/p&gt;

&lt;p&gt;Here is what the output looks like on a run of HLogPE:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
2013-12-13 09:41:15,641 INFO  [StoreOpener-a77539a833048fa441d3195c853cf6ea-1] hfile.CacheConfig: Allocating LruBlockCache with maximum size 395 M
2013-12-13 09:41:15,652 INFO  [StoreOpener-a77539a833048fa441d3195c853cf6ea-1] compactions.CompactionConfiguration: size [134217728, 9223372036854775807); files [3, 10); ratio 1.200000; off-peak ratio 5.000000; throttle point 2684354560; delete expired; major period 604800000, major jitter 0.500000
2013-12-13 09:41:15,662 INFO  [StoreOpener-a77539a833048fa441d3195c853cf6ea-1] util.ChecksumType: Checksum using org.apache.hadoop.util.PureJavaCrc32
2013-12-13 09:41:15,663 INFO  [StoreOpener-a77539a833048fa441d3195c853cf6ea-1] util.ChecksumType: Checksum can use org.apache.hadoop.util.PureJavaCrc32C
2013-12-13 09:41:15,666 DEBUG [main] regionserver.HRegion: Found 0 recovered edits file(s) under file:/Users/stack/checkouts/trunk/target/test-data/a62eb348-138b-4275-b33a-12ebb12c20b9/HLogPerformanceEvaluation/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/HLogPerformanceEvaluation/a77539a833048fa441d3195c853cf6ea
2013-12-13 09:41:15,669 INFO  [main] regionserver.HRegion: Onlined a77539a833048fa441d3195c853cf6ea; next sequenceid=1
12/13/13 9:42:15 AM ============================================================
org.apache.hadoop.hbase.regionserver.wal.HLogPerformanceEvaluation:
  appendMeter:
             count = 1173705160
         mean rate = 19180.80 bytes/ms
     1-minute rate = 16437.82 bytes/ms
     5-minute rate = 12716.38 bytes/ms
    15-minute rate = 11783.97 bytes/ms

  syncMeter:
             count = 1726060
         mean rate = 28.20 syncs/ms
     1-minute rate = 24.16 syncs/ms
     5-minute rate = 18.68 syncs/ms
    15-minute rate = 17.30 syncs/ms


org.apache.hadoop.hbase.regionserver.wal.HLogPerformanceEvaluation.nanos-between-syncs:
  syncHistogram:
               min = 13000.00
               max = 32438000.00
              mean = 34754.07
            stddev = 38993.58
            median = 29000.00
              75% &amp;lt;= 37000.00
              95% &amp;lt;= 56000.00
              98% &amp;lt;= 84420.00
              99% &amp;lt;= 99000.00
            99.9% &amp;lt;= 267709.00



2013-12-13 09:42:25,040 INFO  [t0] wal.HLogPerformanceEvaluation: t0 took 69.369s 28831.320ops/s
2013-12-13 09:42:25,040 INFO  [main] wal.HLogPerformanceEvaluation: Summary: threads=1, iterations=2000000, syncInterval=0 took 69.369s 28831.320ops/s
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12684506">HBASE-10158</key>
            <summary>Add sync rate histogram to HLogPE</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12653172">HBASE-8755</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10">Implemented</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Dec 2013 17:46:50 +0000</created>
                <updated>Sat, 21 Feb 2015 23:33:55 +0000</updated>
                            <resolved>Fri, 11 Apr 2014 23:38:24 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                                    <component>Performance</component>
                    <component>wal</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13967212" author="ndimiduk" created="Fri, 11 Apr 2014 22:56:20 +0000"  >&lt;p&gt;Did you intend to post a patch?&lt;/p&gt;</comment>
                            <comment id="13967243" author="stack" created="Fri, 11 Apr 2014 23:38:24 +0000"  >&lt;p&gt;Sorry &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; Was added as side effect of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10156&quot; title=&quot;FSHLog Refactor (WAS -&amp;gt; Fix up the HBASE-8755 slowdown when low contention)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10156&quot;&gt;&lt;del&gt;HBASE-10156&lt;/del&gt;&lt;/a&gt; FSHLog Refactor&quot;&lt;/p&gt;</comment>
                            <comment id="14331153" author="enis" created="Sat, 21 Feb 2015 23:33:55 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12684499">HBASE-10156</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Apr 2014 22:56:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qo5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363884</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>