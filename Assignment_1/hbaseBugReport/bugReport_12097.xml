<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:29:41 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12097/HBASE-12097.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12097] Blocked threads on hbase, slowly increasing, appears to be updating metrics</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12097</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Hbase shows an increasing number of IPC Threads in BLOCKED state&lt;/p&gt;

&lt;p&gt;Hundreds of these,more and more appearing over hours, performance degrading, requiring regionserver restart to restore performance.&lt;/p&gt;

&lt;p&gt;Thread:&lt;/p&gt;

&lt;p&gt;Thread 421 (IPC Server handler 368 on 60201):&lt;br/&gt;
  State: BLOCKED&lt;br/&gt;
  Blocked count: 19314&lt;br/&gt;
  Waited count: 322565&lt;br/&gt;
  Blocked on org.apache.hadoop.metrics.util.MetricsIntValue@1ec5ca55&lt;br/&gt;
  Blocked by 236 (IPC Server handler 183 on 60201)&lt;br/&gt;
  Stack:&lt;br/&gt;
    org.apache.hadoop.metrics.util.MetricsIntValue.set(MetricsIntValue.java:73)&lt;br/&gt;
org.apache.hadoop.hbase.ipc.HBaseServer.updateCallQueueLenMetrics(HBaseServer.java:1360)   org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1399)&lt;/p&gt;

&lt;p&gt;i dont actually know how to troubleshoot this much further... Happy to take suggestions...&lt;/p&gt;</description>
                <environment>&lt;p&gt;RHEL 6.2, CDH 4.3.0.0&lt;/p&gt;</environment>
        <key id="12744083">HBASE-12097</key>
            <summary>Blocked threads on hbase, slowly increasing, appears to be updating metrics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="warlock_za">Michael Smith</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Sep 2014 18:09:37 +0000</created>
                <updated>Thu, 25 Sep 2014 19:27:31 +0000</updated>
                            <resolved>Thu, 25 Sep 2014 19:27:31 +0000</resolved>
                                    <version>0.94.6</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14148124" author="warlock_za" created="Thu, 25 Sep 2014 18:44:17 +0000"  >&lt;p&gt;The attached graph shows the increasing number of blocked threads. The massive drops, are when we do rolling restarts of all the regionservers. You then see the number of blocked threads slowly starting to grow.&lt;/p&gt;

&lt;p&gt;We determine the number of blocked threads, by hitting the web interface, ie &amp;lt;host:60030&amp;gt;/dump, and then for each thread, counting the number of &apos;Status: BLOCKED&apos; threads.&lt;/p&gt;

&lt;p&gt;Analysis of the Blocked threads, has revealed its blocked on updating Metrics&lt;/p&gt;</comment>
                            <comment id="14148188" author="apurtell" created="Thu, 25 Sep 2014 19:27:31 +0000"  >&lt;p&gt;Please write to user@hbase.apache.org for troubleshooting assistance.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12671279" name="total_blocks_versus_threads-week.png" size="45995" author="warlock_za" created="Thu, 25 Sep 2014 18:44:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Sep 2014 19:27:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20hlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>