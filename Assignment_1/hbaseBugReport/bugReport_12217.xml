<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:30:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12217/HBASE-12217.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12217] System load average based client pushback</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12217</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;If a RegionServer host is already heavily loaded* then it might not be best to accept more work in the form of coprocessor invocations. This could generalize to all RPC work, perhaps as part of a broader admission control initiative, but I think it makes sense to start small in an obvious place.&lt;/p&gt;

&lt;p&gt;*: We could use % CPU utilization or the UNIX 1min or 5min load average to determine this, and provide an option for choosing between those alternatives. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12747079">HBASE-12217</key>
            <summary>System load average based client pushback</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Oct 2014 18:02:28 +0000</created>
                <updated>Sat, 18 Jun 2016 00:21:11 +0000</updated>
                                                            <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="14165455" author="jesse_yates" created="Thu, 9 Oct 2014 18:09:24 +0000"  >&lt;p&gt;Linking this to the original client pushback jira where we wanted to slow dow the client if the region is overloaded with writes (and gets blocked with compactions)&lt;/p&gt;</comment>
                            <comment id="14165509" author="apurtell" created="Thu, 9 Oct 2014 18:41:00 +0000"  >&lt;p&gt;I&apos;m going to schedule this for 0.98.8 and let&apos;s see what happens&lt;/p&gt;</comment>
                            <comment id="14192228" author="apurtell" created="Fri, 31 Oct 2014 18:38:49 +0000"  >&lt;p&gt;Unscheduling. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt; posted a patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5162&quot; title=&quot;Basic client pushback mechanism&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5162&quot;&gt;&lt;del&gt;HBASE-5162&lt;/del&gt;&lt;/a&gt; that we can build CPU load awareness on later. Keeping this issue open as a placeholder for that future work. &lt;/p&gt;</comment>
                            <comment id="14310910" author="apurtell" created="Sat, 7 Feb 2015 20:19:35 +0000"  >&lt;p&gt;I recently came across &lt;a href=&quot;https://github.com/cb372/metrics-sigar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;metrics-sigar&lt;/a&gt;, which integrates Coda Hale&apos;s Metrics with the &lt;a href=&quot;https://support.hyperic.com/display/SIGAR/Home&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SIGAR&lt;/a&gt; cross-platform native-based library for gathering system information. It&apos;s interesting but of course requires native binaries be deployed and a system property set to point to them. Since we are just interested in system load I think we are better off doing it like YARN does: a generic interface (ResourceCalculatorPlugin) and OS-specific implementations (like LinuxResourceCalculatorPlugin, which knows how to parse procfs), but let&apos;s mention both options.&lt;/p&gt;</comment>
                            <comment id="14596290" author="busbey" created="Mon, 22 Jun 2015 17:33:49 +0000"  >&lt;p&gt;I think we&apos;d be interested in more than just load average if it was available. Over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13103&quot; title=&quot;[ergonomics] add region size balancing as a feature of master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13103&quot;&gt;&lt;del&gt;HBASE-13103&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; calls out several other metrics we&apos;d want to know about when auto-tuning number of regions.&lt;/p&gt;</comment>
                            <comment id="14596414" author="apurtell" created="Mon, 22 Jun 2015 18:45:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;Over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13103&quot; title=&quot;[ergonomics] add region size balancing as a feature of master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13103&quot;&gt;&lt;del&gt;HBASE-13103&lt;/del&gt;&lt;/a&gt; Lars Hofhansl calls out several other metrics we&apos;d want to know about when auto-tuning number of regions.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Pardon, but this issue isn&apos;t about auto-tuning the number of regions. This issue is about providing backpressure to the client based on server side conditions.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think we&apos;d be interested in more than just load average if it was available. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There are other proposed strategies on other JIRAs, linked as related items on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5162&quot; title=&quot;Basic client pushback mechanism&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5162&quot;&gt;&lt;del&gt;HBASE-5162&lt;/del&gt;&lt;/a&gt;. When/if we get around to this work the idea is the load estimation strategy and client response will both be pluggable. It may be more challenging to make them composable. That would be a stretch goal IMHO.&lt;/p&gt;</comment>
                            <comment id="14596548" author="busbey" created="Mon, 22 Jun 2015 20:02:20 +0000"  >&lt;p&gt;Understood. I only meant to provide an example of how we&apos;d make use of an expanded set of host metrics elsewhere in the codebase if the chosen library included them.&lt;/p&gt;

&lt;p&gt;Apologies for not making that clearer.&lt;/p&gt;</comment>
                            <comment id="15337287" author="mantonov" created="Sat, 18 Jun 2016 00:21:01 +0000"  >&lt;p&gt;Adaptive load control is totally something we should start doing more of; but now kicking out of 1.3&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12910230">HBASE-14756</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12762382">HBASE-12702</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12537840">HBASE-5162</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 9 Oct 2014 18:09:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20zwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>