<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:59:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8908/HBASE-8908.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8908] Backport HBASE-8882 and HBASE-8904 (An Integration Test to Test MTTR) to 0.94</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8908</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Easy low risk backport. See how 0.94 stacks up against later versions with respect to MTTR, and vice versa.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656965">HBASE-8908</key>
            <summary>Backport HBASE-8882 and HBASE-8904 (An Integration Test to Test MTTR) to 0.94</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jul 2013 22:47:26 +0000</created>
                <updated>Wed, 24 Jul 2013 19:08:06 +0000</updated>
                            <resolved>Tue, 16 Jul 2013 00:41:23 +0000</resolved>
                                    <version>0.94.10</version>
                                    <fixVersion>0.94.10</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13703947" author="apurtell" created="Tue, 9 Jul 2013 22:53:41 +0000"  >&lt;p&gt;Passes locally, tested with head of 0.94:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;apurtell@acer:~/src/Hadoop/hbase$ mvn failsafe:integration-test -Dit.test=IntegrationTestMTTR
[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building HBase 0.94.9
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-failsafe-plugin:2.12-TRUNK-HBASE-2:integration-test (default-cli) @ hbase ---
[INFO] Failsafe report directory: /usr/src/Hadoop/hbase/target/failsafe-reports
[INFO] Using configured provider org.apache.maven.surefire.junitcore.JUnitCoreProvider

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.hadoop.hbase.mttr.IntegrationTestMTTR
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 917.092 sec

Results :

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also attached the measured results from my dev laptop for the curious.&lt;/p&gt;</comment>
                            <comment id="13704017" author="eclark" created="Tue, 9 Jul 2013 23:47:21 +0000"  >&lt;p&gt;This changes some visibilities of code that&apos;s already been released.  Is that something we need to worry about for test utils ?&lt;/p&gt;</comment>
                            <comment id="13704041" author="apurtell" created="Wed, 10 Jul 2013 00:25:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;This changes some visibilities of code that&apos;s already been released. Is that something we need to worry about for test utils ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hadoop doesn&apos;t consider test code public, as we&apos;ve experienced. Should we?&lt;/p&gt;</comment>
                            <comment id="13704049" author="apurtell" created="Wed, 10 Jul 2013 00:40:35 +0000"  >&lt;p&gt;Updated patch removes the vestiges of the htrace related code, noticed it looking at the attached example output just now.&lt;/p&gt;</comment>
                            <comment id="13704230" author="stack" created="Wed, 10 Jul 2013 05:32:48 +0000"  >&lt;p&gt;Patch is fine by me.  Is it premature backporting this just now &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;?  You seem to be improving it by the minute.&lt;/p&gt;</comment>
                            <comment id="13704669" author="apurtell" created="Wed, 10 Jul 2013 15:47:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is it premature backporting this just now Elliott Clark?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Just say if more changes are coming. I&apos;ll watch for them and update here.&lt;/p&gt;</comment>
                            <comment id="13704745" author="eclark" created="Wed, 10 Jul 2013 16:50:49 +0000"  >&lt;p&gt;At this point other than adding more HTrace stuff I think IntegrationTestMTTR is good.&lt;/p&gt;

&lt;p&gt;I&apos;m +1 on the patch after the explanation on test code changes.&lt;/p&gt;</comment>
                            <comment id="13705230" author="eclark" created="Wed, 10 Jul 2013 23:34:38 +0000"  >&lt;p&gt;I take it back I just found one bug in the it test. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8924&quot; title=&quot;Master Can fail to come up after chaos monkey if the sleep time is too short.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8924&quot;&gt;&lt;del&gt;HBASE-8924&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13705241" author="apurtell" created="Wed, 10 Jul 2013 23:44:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;I take it back I just found one bug in the it test. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8924&quot; title=&quot;Master Can fail to come up after chaos monkey if the sleep time is too short.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8924&quot;&gt;&lt;del&gt;HBASE-8924&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Watching.&lt;/p&gt;</comment>
                            <comment id="13705583" author="eclark" created="Thu, 11 Jul 2013 08:11:41 +0000"  >&lt;p&gt;Ok so I put the work around in 0.95 and trunk.  I&apos;m not sure you&apos;ll need it in 0.94 but it probably can&apos;t hurt to apply the patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8924&quot; title=&quot;Master Can fail to come up after chaos monkey if the sleep time is too short.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8924&quot;&gt;&lt;del&gt;HBASE-8924&lt;/del&gt;&lt;/a&gt; to the one above.&lt;/p&gt;</comment>
                            <comment id="13708119" author="apurtell" created="Sun, 14 Jul 2013 20:37:40 +0000"  >&lt;p&gt;Updated patch incorporates the changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8924&quot; title=&quot;Master Can fail to come up after chaos monkey if the sleep time is too short.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8924&quot;&gt;&lt;del&gt;HBASE-8924&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13708585" author="eclark" created="Mon, 15 Jul 2013 16:17:03 +0000"  >&lt;p&gt;+1 lgtm&lt;/p&gt;</comment>
                            <comment id="13708598" author="apurtell" created="Mon, 15 Jul 2013 16:31:25 +0000"  >&lt;p&gt;Thanks for the great test and for taking a look here too &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;. Going to commit this evening unless objection.&lt;/p&gt;</comment>
                            <comment id="13709276" author="apurtell" created="Tue, 16 Jul 2013 00:41:23 +0000"  >&lt;p&gt;Committed to 0.94.&lt;/p&gt;

&lt;p&gt;Latest patch completed successfully locally:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;apurtell@acer:~/src/Hadoop/hbase$ mvn -DskipTests clean install &amp;amp;&amp;amp; mvn failsafe:integration-test -Dit.test=IntegrationTestMTTR
[...]
[INFO] --- maven-failsafe-plugin:2.12-TRUNK-HBASE-2:integration-test (default-cli) @ hbase ---
[INFO] Failsafe report directory: /usr/src/Hadoop/hbase/target/failsafe-reports
[INFO] Using configured provider org.apache.maven.surefire.junitcore.JUnitCoreProvider

-------------------------------------------------------
 T E S T S
-------------------------------------------------------

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.hadoop.hbase.mttr.IntegrationTestMTTR
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 911.292 sec

Results :

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0

[WARNING] File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13709363" author="hudson" created="Tue, 16 Jul 2013 02:07:07 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #211 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/211/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/211/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8908&quot; title=&quot;Backport HBASE-8882 and HBASE-8904 (An Integration Test to Test MTTR) to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8908&quot;&gt;&lt;del&gt;HBASE-8908&lt;/del&gt;&lt;/a&gt;. Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8882&quot; title=&quot;Create an Integration Test to Test MTTR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8882&quot;&gt;&lt;del&gt;HBASE-8882&lt;/del&gt;&lt;/a&gt;&lt;ins&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8904&quot; title=&quot;Clean up IntegrationTestMTTR and add small features.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8904&quot;&gt;&lt;del&gt;HBASE-8904&lt;/del&gt;&lt;/a&gt;&lt;/ins&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8924&quot; title=&quot;Master Can fail to come up after chaos monkey if the sleep time is too short.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8924&quot;&gt;&lt;del&gt;HBASE-8924&lt;/del&gt;&lt;/a&gt; (An Integration Test to Test MTTR) to 0.94 (apurtell: rev 1503530)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/AbstractHBaseTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mttr&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mttr/IntegrationTestMTTR.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/ChaosMonkey.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13709375" author="hudson" created="Tue, 16 Jul 2013 02:16:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1057 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1057/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1057/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8908&quot; title=&quot;Backport HBASE-8882 and HBASE-8904 (An Integration Test to Test MTTR) to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8908&quot;&gt;&lt;del&gt;HBASE-8908&lt;/del&gt;&lt;/a&gt;. Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8882&quot; title=&quot;Create an Integration Test to Test MTTR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8882&quot;&gt;&lt;del&gt;HBASE-8882&lt;/del&gt;&lt;/a&gt;&lt;ins&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8904&quot; title=&quot;Clean up IntegrationTestMTTR and add small features.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8904&quot;&gt;&lt;del&gt;HBASE-8904&lt;/del&gt;&lt;/a&gt;&lt;/ins&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8924&quot; title=&quot;Master Can fail to come up after chaos monkey if the sleep time is too short.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8924&quot;&gt;&lt;del&gt;HBASE-8924&lt;/del&gt;&lt;/a&gt; (An Integration Test to Test MTTR) to 0.94 (apurtell: rev 1503530)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/AbstractHBaseTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mttr&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mttr/IntegrationTestMTTR.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/ChaosMonkey.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12592214" name="8908.patch" size="28360" author="apurtell" created="Sun, 14 Jul 2013 20:37:40 +0000"/>
                            <attachment id="12591563" name="8908.patch" size="27815" author="apurtell" created="Wed, 10 Jul 2013 00:40:35 +0000"/>
                            <attachment id="12591544" name="8908.patch" size="27909" author="apurtell" created="Tue, 9 Jul 2013 22:53:41 +0000"/>
                            <attachment id="12591545" name="IntegrationTestMTTR-output.txt" size="8000" author="apurtell" created="Tue, 9 Jul 2013 22:53:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Jul 2013 23:47:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 22 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m5sn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337511</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>