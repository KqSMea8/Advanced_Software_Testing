<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:27:26 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5403/HBASE-5403.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5403] Checkpoint the compressed HLog</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5403</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Let&apos;s assume that HBase replication can be based on replaying the HLog in the replica cluster.&lt;br/&gt;
The replica process could be crash during the replay. Obviously, the replica process need a way to start from the lastest check point in the HLog, even the HLog is compressed.&lt;br/&gt;
So the proposal is to write a series of checkpoints within the HLog. &lt;br/&gt;
Each each checkpoint will have a header with some special sequence of bytes.&lt;br/&gt;
And between each checkpoints, HLog should use new dictionaries to compress.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12542727">HBASE-5403</key>
            <summary>Checkpoint the compressed HLog</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Feb 2012 18:42:15 +0000</created>
                <updated>Fri, 31 Aug 2012 18:36:54 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13208724" author="nspiegelberg" created="Wed, 15 Feb 2012 19:45:12 +0000"  >&lt;p&gt;We had discussed this:  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4608?focusedCommentId=13192604&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4608?focusedCommentId=13192604&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What is the benefit of checkpointing versus just rolling the log?&lt;/p&gt;</comment>
                            <comment id="13208751" author="li" created="Wed, 15 Feb 2012 20:13:21 +0000"  >&lt;p&gt;Rolling the log would just reset the dictionary, which means performance will be degraded for a bit until the dictionary was built back up again. &lt;/p&gt;

&lt;p&gt;I&apos;m assuming checkpointing would involve dumping the contents of the dictionary at certain points - but the max size of the dictionary can be quite large, up to 32 megabytes or so in extreme cases. This has its own problems.&lt;/p&gt;</comment>
                            <comment id="13208752" author="li" created="Wed, 15 Feb 2012 20:13:21 +0000"  >&lt;p&gt;Rolling the log would just reset the dictionary, which means performance will be degraded for a bit until the dictionary was built back up again. &lt;/p&gt;

&lt;p&gt;I&apos;m assuming checkpointing would involve dumping the contents of the dictionary at certain points - but the max size of the dictionary can be quite large, up to 32 megabytes or so in extreme cases. This has its own problems.&lt;/p&gt;</comment>
                            <comment id="13208831" author="liyin" created="Wed, 15 Feb 2012 21:59:01 +0000"  >&lt;p&gt;@Nicolas, The block size in the DFS usually will be set quite large, let&apos;s say 256M. And it is inefficient to write small log file which is less than one dfs block. I asume this is the main benefit of checkpointing vs rolling the log.&lt;/p&gt;</comment>
                            <comment id="13208843" author="tlipcon" created="Wed, 15 Feb 2012 22:09:40 +0000"  >&lt;p&gt;Another option is to address this at the &quot;read&quot; side, since the failure recovery is probably a rare case. If the log reader sees an error, it can record the offset, start over, and &quot;skip&quot; records until it gets back to the point where it wants to start reading again. If we expect these failure scenarios to be unlikely, maybe this is better?&lt;/p&gt;</comment>
                            <comment id="13446220" author="ivarley" created="Fri, 31 Aug 2012 18:36:54 +0000"  >&lt;p&gt;Liyin, this issue has been dormant for a little while. Any thoughts on Todd&apos;s suggestion? Should we keep this open as an option, or close / alter it in favor of addressing it on the replay side?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Feb 2012 19:45:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228013</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0htc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>