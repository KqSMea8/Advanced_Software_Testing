<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:56:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14836/HBASE-14836.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14836] Document how to deal with WARN &quot;BucketCache: Failed allocation for...too big size=1113254; adjust BucketCache sizes ..to accomodate...&quot;</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14836</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;A busy, internal &lt;b&gt;smart&lt;/b&gt; user was having their logs filled with messages like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
BucketCache: Failed allocation &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; c326ba1d8a134b4487539239fce60a99_0; org.apache.hadoop.hbase.io.hfile.bucket.BucketAllocatorException: Allocation too big size=1113254; adjust BucketCache sizes hbase.bucketcache.bucket.sizes to accomodate &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; size seems reasonable and you want it cached.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;.. and wasn&apos;t sure how to address them.&lt;/p&gt;

&lt;p&gt;Had to explain what the above is about (we don&apos;t have a bucket of a size into which we could put this object).&lt;/p&gt;

&lt;p&gt;Need to doc that c326ba1d8a134b4487539239fce60a99_0 is a filename and an offset. Need to doc how to look at this object that we are trying to cache using hfile tool.&lt;/p&gt;

&lt;p&gt;Then had to describe how you&apos;d add a bucket that was big enough. Below I add 786432 and 1048576 beyond the default bucket sizes.&lt;/p&gt;

&lt;p&gt;&amp;lt;property&amp;gt;&lt;br/&gt;
&amp;lt;name&amp;gt;hbase.bucketcache.bucket.sizes&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;lt;value&amp;gt;4096, 8192, 16384, 32768, 40960, 49152, 57344, 65536, 98304, 131072, 196608, 262144, 393216, 524288, 786432, 1048576&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;The operator asked some questions about how can I tell rates at which Cell sizes are being served.&lt;/p&gt;

&lt;p&gt;Also, we were looking at the bucket numbers in the bucket L2 tab and it became obvious that bucket sizes, accesses, and frees should be summary stats, not per bucket instance. TODO.&lt;/p&gt;

&lt;p&gt;Anyway, this issue is about doc&apos;ing how to deal w/ the above.  We&apos;ll see it more when bucket cache is on always as we&apos;d like to do in 2.0 hbase.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12914287">HBASE-14836</key>
            <summary>Document how to deal with WARN &quot;BucketCache: Failed allocation for...too big size=1113254; adjust BucketCache sizes ..to accomodate...&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Nov 2015 23:13:55 +0000</created>
                <updated>Wed, 18 Nov 2015 23:19:33 +0000</updated>
                                                                            <component>BlockCache</component>
                    <component>BucketCache</component>
                    <component>documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2olxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>