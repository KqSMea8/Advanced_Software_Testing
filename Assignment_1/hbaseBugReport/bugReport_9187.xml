<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:02:11 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9187/HBASE-9187.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9187] HBaseAdmin#testTableExists can go zombie</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9187</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See it here as a zombie in hadoopqa: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6687/consoleText&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6687/consoleText&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Looking at it, we seem stuck in here:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;RpcServer.handler=1,port=51776&quot;&lt;/span&gt; daemon prio=10 tid=0x72001400 nid=0x17ea waiting on condition [0x71cd4000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (sleeping)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:150)
	- locked &amp;lt;0x81042070&amp;gt; (a org.apache.hadoop.hbase.client.RpcRetryingCaller)
	at org.apache.hadoop.hbase.client.HTable.get(HTable.java:732)
	at org.apache.hadoop.hbase.master.TableNamespaceManager.get(TableNamespaceManager.java:111)
	- locked &amp;lt;0x7f71ba70&amp;gt; (a org.apache.hadoop.hbase.master.TableNamespaceManager)
	at org.apache.hadoop.hbase.master.HMaster.getNamespaceDescriptor(HMaster.java:3076)
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1779)
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1820)
	at org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos$MasterAdminService$2.callBlockingMethod(MasterAdminProtos.java:26698)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2068)
	at org.apache.hadoop.hbase.ipc.RpcServer$CallRunner.run(RpcServer.java:1807)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.consumerLoop(SimpleRpcScheduler.java:165)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.access$000(SimpleRpcScheduler.java:41)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler$1.run(SimpleRpcScheduler.java:113)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This lock is held: 0x7f71ba70  We are doing retries against the new ns table.&lt;/p&gt;

&lt;p&gt;A bunch other threads are trying to get in here while we are retrying:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;RpcServer.handler=0,port=51776&quot;&lt;/span&gt; daemon prio=10 tid=0x72000400 nid=0x17e9 waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry [0x71d25000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
	at org.apache.hadoop.hbase.master.TableNamespaceManager.get(TableNamespaceManager.java:111)
	- waiting to lock &amp;lt;0x7f71ba70&amp;gt; (a org.apache.hadoop.hbase.master.TableNamespaceManager)
	at org.apache.hadoop.hbase.master.HMaster.getNamespaceDescriptor(HMaster.java:3076)
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1779)
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1820)
	at org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos$MasterAdminService$2.callBlockingMethod(MasterAdminProtos.java:26698)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2068)
	at org.apache.hadoop.hbase.ipc.RpcServer$CallRunner.run(RpcServer.java:1807)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.consumerLoop(SimpleRpcScheduler.java:165)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.access$000(SimpleRpcScheduler.java:41)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler$1.run(SimpleRpcScheduler.java:113)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)

...

&lt;span class=&quot;code-quote&quot;&gt;&quot;RpcServer.handler=4,port=51776&quot;&lt;/span&gt; daemon prio=10 tid=0x72cc9000 nid=0x17ed waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry [0x71be1000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
	at org.apache.hadoop.hbase.master.TableNamespaceManager.get(TableNamespaceManager.java:111)
	- waiting to lock &amp;lt;0x7f71ba70&amp;gt; (a org.apache.hadoop.hbase.master.TableNamespaceManager)
	at org.apache.hadoop.hbase.master.HMaster.getNamespaceDescriptor(HMaster.java:3076)
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1779)
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1820)
	at org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos$MasterAdminService$2.callBlockingMethod(MasterAdminProtos.java:26698)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2068)
	at org.apache.hadoop.hbase.ipc.RpcServer$CallRunner.run(RpcServer.java:1807)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.consumerLoop(SimpleRpcScheduler.java:165)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.access$000(SimpleRpcScheduler.java:41)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler$1.run(SimpleRpcScheduler.java:113)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)

&lt;span class=&quot;code-quote&quot;&gt;&quot;RpcServer.handler=3,port=51776&quot;&lt;/span&gt; daemon prio=10 tid=0x72cc7800 nid=0x17ec waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry [0x71c32000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
	at org.apache.hadoop.hbase.master.TableNamespaceManager.get(TableNamespaceManager.java:111)
	- waiting to lock &amp;lt;0x7f71ba70&amp;gt; (a org.apache.hadoop.hbase.master.TableNamespaceManager)
	at org.apache.hadoop.hbase.master.HMaster.getNamespaceDescriptor(HMaster.java:3076)
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1779)
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1820)
	at org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos$MasterAdminService$2.callBlockingMethod(MasterAdminProtos.java:26698)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2068)
	at org.apache.hadoop.hbase.ipc.RpcServer$CallRunner.run(RpcServer.java:1807)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.consumerLoop(SimpleRpcScheduler.java:165)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.access$000(SimpleRpcScheduler.java:41)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler$1.run(SimpleRpcScheduler.java:113)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)

&lt;span class=&quot;code-quote&quot;&gt;&quot;RpcServer.handler=2,port=51776&quot;&lt;/span&gt; daemon prio=10 tid=0x72002c00 nid=0x17eb waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry [0x71c83000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
	at org.apache.hadoop.hbase.master.TableNamespaceManager.get(TableNamespaceManager.java:111)
	- waiting to lock &amp;lt;0x7f71ba70&amp;gt; (a org.apache.hadoop.hbase.master.TableNamespaceManager)
	at org.apache.hadoop.hbase.master.HMaster.getNamespaceDescriptor(HMaster.java:3076)
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1779)
	at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1820)
	at org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos$MasterAdminService$2.callBlockingMethod(MasterAdminProtos.java:26698)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2068)
	at org.apache.hadoop.hbase.ipc.RpcServer$CallRunner.run(RpcServer.java:1807)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.consumerLoop(SimpleRpcScheduler.java:165)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.access$000(SimpleRpcScheduler.java:41)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler$1.run(SimpleRpcScheduler.java:113)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;d guess no one is getting in here till we finish our 35 retryings (almost ten minutes, which makes us look like a zombie).&lt;/p&gt;

&lt;p&gt;Seems like we need to be able to interrupt in here when done or at least add logging why we are in here having trouble trying to get from the ns table?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12663019">HBASE-9187</key>
            <summary>HBaseAdmin#testTableExists can go zombie</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12657475">HBASE-8939</parent>
                                    <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 Aug 2013 05:07:39 +0000</created>
                <updated>Mon, 23 Sep 2013 19:22:24 +0000</updated>
                            <resolved>Wed, 14 Aug 2013 00:21:41 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13735754" author="stack" created="Sat, 10 Aug 2013 05:09:57 +0000"  >&lt;p&gt;The bummer is that there is no log.  THis has a timeout of five minutes.  Maybe that is too long?  Let me down it for this one test.&lt;/p&gt;</comment>
                            <comment id="13735756" author="stack" created="Sat, 10 Aug 2013 05:13:15 +0000"  >&lt;p&gt;Shorten timeout in effort at converting test from zombie to timer-outer.&lt;/p&gt;

&lt;p&gt;I committed this to 0.95 and trunk.&lt;/p&gt;</comment>
                            <comment id="13735758" author="stack" created="Sat, 10 Aug 2013 05:14:55 +0000"  >&lt;p&gt;Bummer is it passes locally.  Might be run off from the test before... it might be bound up on ns table but because this one doesn&apos;t timeout, it goes zombie, we do not get surefire output so there is no log to examine.  Lets see if this commit makes a difference.&lt;/p&gt;</comment>
                            <comment id="13735787" author="hudson" created="Sat, 10 Aug 2013 07:50:28 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95 #427 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/427/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/427/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9187&quot; title=&quot;HBaseAdmin#testTableExists can go zombie&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9187&quot;&gt;&lt;del&gt;HBASE-9187&lt;/del&gt;&lt;/a&gt; HBaseAdmin#testTableExists can go zombie (stack: rev 1512563)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13735816" author="hudson" created="Sat, 10 Aug 2013 09:34:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4367 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4367/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4367/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9187&quot; title=&quot;HBaseAdmin#testTableExists can go zombie&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9187&quot;&gt;&lt;del&gt;HBASE-9187&lt;/del&gt;&lt;/a&gt; HBaseAdmin#testTableExists can go zombie (stack: rev 1512564)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13735881" author="hudson" created="Sat, 10 Aug 2013 12:10:31 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.95-on-hadoop2 #231 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/231/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/231/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9187&quot; title=&quot;HBaseAdmin#testTableExists can go zombie&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9187&quot;&gt;&lt;del&gt;HBASE-9187&lt;/del&gt;&lt;/a&gt; HBaseAdmin#testTableExists can go zombie (stack: rev 1512563)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13735906" author="hudson" created="Sat, 10 Aug 2013 13:08:08 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #663 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/663/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/663/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9187&quot; title=&quot;HBaseAdmin#testTableExists can go zombie&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9187&quot;&gt;&lt;del&gt;HBASE-9187&lt;/del&gt;&lt;/a&gt; HBaseAdmin#testTableExists can go zombie (stack: rev 1512564)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13739063" author="stack" created="Wed, 14 Aug 2013 00:21:41 +0000"  >&lt;p&gt;The common hang that came in w/ namespaces seems to be gone now.  Resolving as fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12597253" name="9187_shorten_timeout.txt" size="1048" author="stack" created="Sat, 10 Aug 2013 05:13:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 10 Aug 2013 07:50:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343021</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n5mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>