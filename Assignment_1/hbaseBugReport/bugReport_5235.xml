<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:25:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5235/HBASE-5235.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5235] HLogSplitter writer thread&apos;s streams not getting closed when any of the writer threads has exceptions.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5235</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Pls find the analysis.  Correct me if am wrong&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2012-01-15 05:14:02,374 FATAL org.apache.hadoop.hbase.regionserver.wal.HLogSplitter: WriterThread-9 Got &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; writing log entry to log
java.io.IOException: All datanodes 10.18.40.200:50010 are bad. Aborting...
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.processDatanodeError(DFSClient.java:3373)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:2811)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:3026)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here we have an exception in one of the writer threads. If any exception we try to hold it in an Atomic variable &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void writerThreadError(Throwable t) {
    thrown.compareAndSet(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, t);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In the finally block of splitLog we try to close the streams.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (WriterThread t: writerThreads) {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
          t.join();
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException ie) {
          &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(ie);
        }
        checkForErrors();
      }
      LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Split writers finished&quot;&lt;/span&gt;);
      
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; closeStreams();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Inside checkForErrors&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void checkForErrors() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    Throwable thrown = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.thrown.get();
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (thrown == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (thrown &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; IOException) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; (IOException)thrown;
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(thrown);
    }
  }
So once we &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; the exception the DFSStreamer threads are not getting closed.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12539141">HBASE-5235</key>
            <summary>HLogSplitter writer thread&apos;s streams not getting closed when any of the writer threads has exceptions.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Jan 2012 14:26:07 +0000</created>
                <updated>Fri, 20 Nov 2015 11:54:47 +0000</updated>
                            <resolved>Thu, 26 Jan 2012 07:32:30 +0000</resolved>
                                    <version>0.90.5</version>
                    <version>0.92.0</version>
                                    <fixVersion>0.90.6</fixVersion>
                    <fixVersion>0.92.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13189853" author="ram_krish" created="Fri, 20 Jan 2012 15:27:53 +0000"  >&lt;p&gt;I think if any errors we should only close the Streams and not call closeStreams().&lt;br/&gt;
Because here we do lot of other steps that completes the log split process. &lt;br/&gt;
Also even if one WriterThread has an exception can we completely abort the master as we did for any failures of splitLog()? Pls suggest.&lt;/p&gt;</comment>
                            <comment id="13189961" author="zhihyu@ebaysf.com" created="Fri, 20 Jan 2012 18:10:31 +0000"  >&lt;p&gt;closeStreams() records all the IOException&apos;s and throw a MultipleIOException before exiting.&lt;br/&gt;
I think the simplest solution is to wrap closeStreams() in a finally block in finishWritingAndClose()&lt;/p&gt;

&lt;p&gt;Thanks for reporting this issue, Ram.&lt;/p&gt;</comment>
                            <comment id="13189969" author="ram_krish" created="Fri, 20 Jan 2012 18:15:58 +0000"  >&lt;p&gt;But Ted, in closeStreams() we also do the steps related to renaming the .temp files in recovered.edits. So we should only do the &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (WriterAndPath wap : logWriters.values()) {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
          wap.w.close();
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ioe) {
          LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Couldn&apos;t close log at &quot;&lt;/span&gt; + wap.p, ioe);
          thrown.add(ioe);
          &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;and make the master abort so that the subsequent split can parse the HLog. Correct me if am wrong.&lt;/p&gt;</comment>
                            <comment id="13189987" author="zhihyu@ebaysf.com" created="Fri, 20 Jan 2012 18:38:57 +0000"  >&lt;p&gt;How about introducing a boolean, logWritersClosed (similar to hasClosed) ?&lt;br/&gt;
We separate the above for loop into a new private method called closeLogWriters() where logWritersClosed is checked upon entry. After successful execution logWritersClosed would be set to true before exit.&lt;br/&gt;
closeStreams() calls closeLogWriters().&lt;br/&gt;
We also place closeLogWriters() in the finally block of finishWritingAndClose().&lt;/p&gt;

&lt;p&gt;Is the above close to what you were thinking, Ram ?&lt;/p&gt;</comment>
                            <comment id="13190326" author="ram_krish" created="Sat, 21 Jan 2012 06:20:53 +0000"  >&lt;p&gt;Yes.  This is what i was thinking too.  Will upload a patch&lt;/p&gt;</comment>
                            <comment id="13190376" author="ram_krish" created="Sat, 21 Jan 2012 12:10:24 +0000"  >&lt;p&gt;Patch for 0.90.  If this patch is fine i will prepare a similar patch for 0.92&lt;/p&gt;</comment>
                            <comment id="13190438" author="zhihyu@ebaysf.com" created="Sat, 21 Jan 2012 15:08:54 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-comment&quot;&gt;// close the log writer streams only &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; they are not closed
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// in closeStreams().
&lt;/span&gt;+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!closeCompleted &amp;amp;&amp;amp; !logWritersClosed) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Do we need to check closeCompleted here ? It is set after logWritersClosed is set to true.&lt;/p&gt;

&lt;p&gt;I think closeAndCleanupCompleted would be a better name for hasClosed.&lt;br/&gt;
The following line should be in closeLogWriters():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      logWritersClosed = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I were you, I would put the loop from line 789 to 798 into closeLogWriters() and let closeStreams() call closeLogWriters()&lt;br/&gt;
Then closeLogWriters() would start for loop to iterate over logWriters.values()&lt;/p&gt;</comment>
                            <comment id="13190439" author="zhihyu@ebaysf.com" created="Sat, 21 Jan 2012 15:12:42 +0000"  >&lt;p&gt;The rationale for my above comment is that in patch v1, the following assignment may be skipped if there is runtime exception thrown in the try block of line 801:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      logWritersClosed = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It would make the code cleaner if logWritersClosed only reflects the status of log writer closing.&lt;/p&gt;</comment>
                            <comment id="13190477" author="ram_krish" created="Sat, 21 Jan 2012 17:41:09 +0000"  >&lt;p&gt;Addressing Ted&apos;s comments.  Here the logWriter.values() will be iterated twice.&lt;/p&gt;</comment>
                            <comment id="13190481" author="zhihyu@ebaysf.com" created="Sat, 21 Jan 2012 17:51:12 +0000"  >&lt;p&gt;+1 on patch v2.&lt;br/&gt;
Minor comments which can be addressed at time of commit:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Closed path &quot;&lt;/span&gt; + wap.p + &lt;span class=&quot;code-quote&quot;&gt;&quot; (wrote &quot;&lt;/span&gt; + wap.editsWritten
+            + &lt;span class=&quot;code-quote&quot;&gt;&quot; edits in &quot;&lt;/span&gt; + (wap.nanosSpent / 1000 / 1000) + &lt;span class=&quot;code-quote&quot;&gt;&quot;ms)&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think the above should be inside closeLogWriters().&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-comment&quot;&gt;// close the log writer streams only &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; they are not closed
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// in closeStreams().&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since closeLogWriters() is called inside closeStreams(), the above comment can be removed.&lt;/p&gt;

&lt;p&gt;Please run through test suite.&lt;/p&gt;</comment>
                            <comment id="13190492" author="ram_krish" created="Sat, 21 Jan 2012 18:07:59 +0000"  >&lt;p&gt;Patch for trunk.  &lt;/p&gt;</comment>
                            <comment id="13190502" author="hadoopqa" created="Sat, 21 Jan 2012 18:48:14 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12511401/HBASE-5235_trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12511401/HBASE-5235_trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -145 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 82 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/827//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/827//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/827//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/827//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/827//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/827//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13190664" author="ram_krish" created="Sun, 22 Jan 2012 13:00:00 +0000"  >&lt;p&gt;Updated patch addressing Ted&apos;s comments for 0.90. Already trunk patch incorporates Ted&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13190666" author="hadoopqa" created="Sun, 22 Jan 2012 13:01:59 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12511427/HBASE-5235_0.90_2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12511427/HBASE-5235_0.90_2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/833//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/833//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13190714" author="hudson" created="Sun, 22 Jan 2012 17:24:28 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2644 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2644/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2644/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5235&quot; title=&quot;HLogSplitter writer thread&amp;#39;s streams not getting closed when any of the writer threads has exceptions.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5235&quot;&gt;&lt;del&gt;HBASE-5235&lt;/del&gt;&lt;/a&gt; HLogSplitter writer thread&apos;s streams not getting closed when any of the writer threads has exceptions.(Ram)&lt;/p&gt;

&lt;p&gt;ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13190721" author="ram_krish" created="Sun, 22 Jan 2012 17:43:51 +0000"  >&lt;p&gt;Committed to 0.90 and trunk.  &lt;br/&gt;
Thanks for the review Ted.&lt;/p&gt;</comment>
                            <comment id="13190818" author="zhihyu@ebaysf.com" created="Sun, 22 Jan 2012 23:29:04 +0000"  >&lt;p&gt;Patch should be integrated to 0.92 branch as well.&lt;/p&gt;</comment>
                            <comment id="13190883" author="hudson" created="Mon, 23 Jan 2012 05:47:15 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #85 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/85/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/85/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5235&quot; title=&quot;HLogSplitter writer thread&amp;#39;s streams not getting closed when any of the writer threads has exceptions.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5235&quot;&gt;&lt;del&gt;HBASE-5235&lt;/del&gt;&lt;/a&gt; HLogSplitter writer thread&apos;s streams not getting closed when any of the writer threads has exceptions.(Ram)&lt;/p&gt;

&lt;p&gt;ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13191359" author="hudson" created="Mon, 23 Jan 2012 19:12:31 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #257 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/257/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/257/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5235&quot; title=&quot;HLogSplitter writer thread&amp;#39;s streams not getting closed when any of the writer threads has exceptions.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5235&quot;&gt;&lt;del&gt;HBASE-5235&lt;/del&gt;&lt;/a&gt; HLogSplitter writer thread&apos;s streams not getting closed when any of the writer threads has exceptions. (Ram)&lt;/p&gt;

&lt;p&gt;ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13191986" author="hudson" created="Tue, 24 Jan 2012 07:50:12 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #88 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/88/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/88/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5235&quot; title=&quot;HLogSplitter writer thread&amp;#39;s streams not getting closed when any of the writer threads has exceptions.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5235&quot;&gt;&lt;del&gt;HBASE-5235&lt;/del&gt;&lt;/a&gt; HLogSplitter writer thread&apos;s streams not getting closed when any of the writer threads has exceptions. (Ram)&lt;/p&gt;

&lt;p&gt;ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13193616" author="ram_krish" created="Thu, 26 Jan 2012 07:32:30 +0000"  >&lt;p&gt;Committed to 0.92, trunk and 0.90&lt;/p&gt;</comment>
                            <comment id="15016316" author="lars_francke" created="Fri, 20 Nov 2015 11:54:47 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12511376" name="HBASE-5235_0.90.patch" size="3136" author="ram_krish" created="Sat, 21 Jan 2012 12:10:24 +0000"/>
                            <attachment id="12511397" name="HBASE-5235_0.90_1.patch" size="4001" author="ram_krish" created="Sat, 21 Jan 2012 17:41:09 +0000"/>
                            <attachment id="12511427" name="HBASE-5235_0.90_2.patch" size="3909" author="ram_krish" created="Sun, 22 Jan 2012 13:00:00 +0000"/>
                            <attachment id="12511401" name="HBASE-5235_trunk.patch" size="3758" author="ram_krish" created="Sat, 21 Jan 2012 18:07:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Jan 2012 18:10:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i069lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>