<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:43:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7158/HBASE-7158.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7158] Allow CopyTable to identify the source cluster (for replication scenarios)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7158</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When I worked on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2195&quot; title=&quot;Support cyclic replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2195&quot;&gt;&lt;del&gt;HBASE-2195&lt;/del&gt;&lt;/a&gt; I added a mechanism for an edit to identify its source cluster, so that replication would not bounce it back to the source.&lt;br/&gt;
See: &lt;tt&gt;this.clusterId = zkHelper.getUUIDForCluster(zkHelper.getZookeeperWatcher());&lt;/tt&gt; in ReplicationSource, and &lt;tt&gt;put.setClusterId(entry.getKey().getClusterId());&lt;/tt&gt; in ReplicationSink.&lt;/p&gt;

&lt;p&gt;In master-master replication scenarios, it would very useful if CopyTable would identify the source cluster (by tagging each Put/Delete with the source clusterId before applying it).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12615980">HBASE-7158</key>
            <summary>Allow CopyTable to identify the source cluster (for replication scenarios)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Nov 2012 23:49:08 +0000</created>
                <updated>Tue, 26 Feb 2013 08:23:06 +0000</updated>
                            <resolved>Wed, 19 Dec 2012 23:07:58 +0000</resolved>
                                                    <fixVersion>0.94.4</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13532814" author="jdcryans" created="Sat, 15 Dec 2012 00:08:59 +0000"  >&lt;p&gt;Something like this boss? I tried to come up with reasons not to tag each Put and Delete and make it configurable but couldn&apos;t.&lt;/p&gt;</comment>
                            <comment id="13532835" author="eclark" created="Sat, 15 Dec 2012 00:37:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13532863" author="lhofhansl" created="Sat, 15 Dec 2012 01:26:03 +0000"  >&lt;p&gt;Awesome. So for CopyTable it would tag the KVs with the id of the source cluster. For import/importTSV it would tag them with the local cluster id.&lt;/p&gt;

&lt;p&gt;For the import case we might sometimes want to set a specific cluster ID (for example if we did an export in cluster X and moved that data to cluster Y, we might specify cluster X as the cluster id when we import to cluster Y). But that can be on an other issue.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13535644" author="lhofhansl" created="Wed, 19 Dec 2012 05:07:26 +0000"  >&lt;p&gt;Let&apos;s commit this?&lt;/p&gt;</comment>
                            <comment id="13536357" author="jdcryans" created="Wed, 19 Dec 2012 19:53:51 +0000"  >&lt;p&gt;Yeah the Import thing is weird, I guess if you only do an Import it&apos;s doing something equivalent to what happens right now except that you set the scope earlier. I&apos;ll commit this today.&lt;/p&gt;</comment>
                            <comment id="13536551" author="jdcryans" created="Wed, 19 Dec 2012 23:07:58 +0000"  >&lt;p&gt;Committed to branch and trunk. Follow-up is &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7396&quot; title=&quot;Allow user-specified cluster IDs for Import&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7396&quot;&gt;HBASE-7396&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13536585" author="yuzhihong@gmail.com" created="Wed, 19 Dec 2012 23:34:24 +0000"  >&lt;p&gt;I wonder if it was just me who got the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) on project hbase: Compilation failure: Compilation failure:
[ERROR] /Users/tyu/94-hbase/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java:[154,8] cannot find symbol
[ERROR] symbol  : class HConnection
[ERROR] location: class org.apache.hadoop.hbase.mapreduce.Import.Importer
[ERROR] /Users/tyu/94-hbase/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java:[154,33] cannot find symbol
[ERROR] symbol  : variable HConnectionManager
[ERROR] location: class org.apache.hadoop.hbase.mapreduce.Import.Importer
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13536593" author="lhofhansl" created="Wed, 19 Dec 2012 23:39:50 +0000"  >&lt;p&gt;Just came here to say that. There&apos;s an import missing.&lt;/p&gt;</comment>
                            <comment id="13536594" author="lhofhansl" created="Wed, 19 Dec 2012 23:40:07 +0000"  >&lt;p&gt;In 0.94 that is.&lt;/p&gt;</comment>
                            <comment id="13536596" author="jdcryans" created="Wed, 19 Dec 2012 23:41:06 +0000"  >&lt;p&gt;It did that for me too the first time I patched but then the next time I compiled it was fine. Also this is in the file:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;import org.apache.hadoop.hbase.client.*;&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13536597" author="lhofhansl" created="Wed, 19 Dec 2012 23:42:01 +0000"  >&lt;p&gt;I&apos;ll add an addendum.&lt;/p&gt;</comment>
                            <comment id="13536598" author="lhofhansl" created="Wed, 19 Dec 2012 23:42:17 +0000"  >&lt;p&gt;Hmm... Strange&lt;/p&gt;</comment>
                            <comment id="13536601" author="lhofhansl" created="Wed, 19 Dec 2012 23:44:08 +0000"  >&lt;p&gt;I think you&apos;re mixing up trunk and 0.94. In 0.94 I see separate imports and HConnection, etc is missing.&lt;/p&gt;</comment>
                            <comment id="13536603" author="jdcryans" created="Wed, 19 Dec 2012 23:44:47 +0000"  >&lt;p&gt;Ok I see it in 0.94, I guess the first time I compiled it was in 0.94 then I did it in trunk and it was fine. Sorry about that! committed the fix.&lt;/p&gt;</comment>
                            <comment id="13536626" author="hudson" created="Thu, 20 Dec 2012 00:15:23 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3640 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3640/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3640/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7158&quot; title=&quot;Allow CopyTable to identify the source cluster (for replication scenarios)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7158&quot;&gt;&lt;del&gt;HBASE-7158&lt;/del&gt;&lt;/a&gt;  Allow CopyTable to identify the source cluster (for replication scenarios) (Revision 1424193)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Mutation.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13536698" author="hudson" created="Thu, 20 Dec 2012 02:13:23 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #304 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/304/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/304/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7158&quot; title=&quot;Allow CopyTable to identify the source cluster (for replication scenarios)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7158&quot;&gt;&lt;del&gt;HBASE-7158&lt;/del&gt;&lt;/a&gt;  Allow CopyTable to identify the source cluster (for replication scenarios) (Revision 1424193)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Mutation.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13536709" author="hudson" created="Thu, 20 Dec 2012 02:26:01 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #647 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/647/&lt;/a&gt;)&lt;br/&gt;
    Missing imports for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7158&quot; title=&quot;Allow CopyTable to identify the source cluster (for replication scenarios)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7158&quot;&gt;&lt;del&gt;HBASE-7158&lt;/del&gt;&lt;/a&gt; (Revision 1424229)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7158&quot; title=&quot;Allow CopyTable to identify the source cluster (for replication scenarios)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7158&quot;&gt;&lt;del&gt;HBASE-7158&lt;/del&gt;&lt;/a&gt;  Allow CopyTable to identify the source cluster (for replication scenarios) (Revision 1424192)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Mutation.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13537906" author="hudson" created="Fri, 21 Dec 2012 14:17:09 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #87 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/87/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/87/&lt;/a&gt;)&lt;br/&gt;
    Missing imports for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7158&quot; title=&quot;Allow CopyTable to identify the source cluster (for replication scenarios)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7158&quot;&gt;&lt;del&gt;HBASE-7158&lt;/del&gt;&lt;/a&gt; (Revision 1424229)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7158&quot; title=&quot;Allow CopyTable to identify the source cluster (for replication scenarios)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7158&quot;&gt;&lt;del&gt;HBASE-7158&lt;/del&gt;&lt;/a&gt;  Allow CopyTable to identify the source cluster (for replication scenarios) (Revision 1424192)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Mutation.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13544439" author="hudson" created="Sat, 5 Jan 2013 00:42:32 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #10 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/10/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/10/&lt;/a&gt;)&lt;br/&gt;
    Missing imports for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7158&quot; title=&quot;Allow CopyTable to identify the source cluster (for replication scenarios)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7158&quot;&gt;&lt;del&gt;HBASE-7158&lt;/del&gt;&lt;/a&gt; (Revision 1424229)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7158&quot; title=&quot;Allow CopyTable to identify the source cluster (for replication scenarios)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7158&quot;&gt;&lt;del&gt;HBASE-7158&lt;/del&gt;&lt;/a&gt;  Allow CopyTable to identify the source cluster (for replication scenarios) (Revision 1424192)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Mutation.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12561066" name="HBASE-7158-0.94-v1.patch" size="4108" author="jdcryans" created="Sat, 15 Dec 2012 00:08:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 15 Dec 2012 00:08:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0k3en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>115369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>