<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:25:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5221/HBASE-5221.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5221] bin/hbase script doesn&apos;t look for Hadoop jars in the right place in trunk layout</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5221</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Running against an 0.24.0-SNAPSHOT hadoop:&lt;br/&gt;
ls: cannot access /home/todd/ha-demo/hadoop-0.24.0-SNAPSHOT/hadoop-common*.jar: No such file or directory&lt;br/&gt;
ls: cannot access /home/todd/ha-demo/hadoop-0.24.0-SNAPSHOT/hadoop-hdfs*.jar: No such file or directory&lt;br/&gt;
ls: cannot access /home/todd/ha-demo/hadoop-0.24.0-SNAPSHOT/hadoop-mapred*.jar: No such file or directory&lt;br/&gt;
The jars are rooted deeper in the heirarchy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538698">HBASE-5221</key>
            <summary>bin/hbase script doesn&apos;t look for Hadoop jars in the right place in trunk layout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="tlipcon">Todd Lipcon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jan 2012 21:11:48 +0000</created>
                <updated>Fri, 12 Oct 2012 05:35:14 +0000</updated>
                            <resolved>Wed, 8 Feb 2012 18:24:44 +0000</resolved>
                                    <version>0.92.0</version>
                                    <fixVersion>0.94.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13203091" author="jxiang" created="Wed, 8 Feb 2012 01:16:57 +0000"  >&lt;p&gt;This patch works for hadoop-0.23 and versions with the old folder structure.&lt;/p&gt;</comment>
                            <comment id="13203126" author="hadoopqa" created="Wed, 8 Feb 2012 01:51:55 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12513737/hbase-5221.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12513737/hbase-5221.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -136 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 156 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestAtomicOperation&lt;br/&gt;
                  org.apache.hadoop.hbase.io.hfile.TestHFileBlock&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.TestZooKeeper&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/919//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/919//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/919//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/919//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/919//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/919//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13203273" author="stack" created="Wed, 8 Feb 2012 04:47:46 +0000"  >&lt;p&gt;So idea is to put hadoop jars under /share?  Where does this notion come from? (Pardon my ignorance)&lt;/p&gt;</comment>
                            <comment id="13203675" author="jxiang" created="Wed, 8 Feb 2012 15:43:45 +0000"  >&lt;p&gt;Since 0.23, Hadoop re-organized the folder structure. They put the jars under each individual modules like hdfs, mapreduce, util and so on (under share/hadoop).  The common one is under share/haddop/common. &lt;/p&gt;

&lt;p&gt;I am not very clear about the story behind either.  Todd should know this much better.&lt;/p&gt;</comment>
                            <comment id="13203687" author="stack" created="Wed, 8 Feb 2012 15:55:15 +0000"  >&lt;p&gt;No worries Jimmy.  That&apos;ll do.  Thanks. Let me commit.&lt;/p&gt;</comment>
                            <comment id="13203690" author="stack" created="Wed, 8 Feb 2012 15:57:23 +0000"  >&lt;p&gt;Committed to trunk (Should we put it in 0.92?)   Thanks for the patch Jimmy.&lt;/p&gt;</comment>
                            <comment id="13203784" author="rvs" created="Wed, 8 Feb 2012 18:03:32 +0000"  >&lt;p&gt;Guys, this fix will break certain HADOOP 0.23 layout. The correct fix for this one will have to come out of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5286&quot; title=&quot;bin/hbase&amp;#39;s logic of adding Hadoop jar files to the classpath is fragile when presented with split packaged Hadoop 0.23 installation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5286&quot;&gt;&lt;del&gt;HBASE-5286&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It would be really nice if folks can chime in on the JIRA that I quoted.&lt;/p&gt;

&lt;p&gt;Also, I don&apos;t quite understand why this is a problem. For developer&apos;s builds HBase bundles everything under lib and thus has no reason to look under HADOOP installation tree. For pacakged deployments (Bigtop, CDH) the layout of Hadoop is different anyway, which means this fix will actually break things.&lt;/p&gt;</comment>
                            <comment id="13203794" author="stack" created="Wed, 8 Feb 2012 18:11:43 +0000"  >&lt;p&gt;I reverted the change Jimmy.  Should we close as won&apos;t resolve or as dup of the issue that Roman refers to?&lt;/p&gt;</comment>
                            <comment id="13203801" author="stack" created="Wed, 8 Feb 2012 18:17:04 +0000"  >&lt;p&gt;@Roman Thanks for catching this.&lt;/p&gt;</comment>
                            <comment id="13203807" author="jxiang" created="Wed, 8 Feb 2012 18:21:48 +0000"  >&lt;p&gt;The problem is that when I run hbase shell, it complains those files are missing, and ClassNotFound org.apache.hadoop.util.PlatformName.&lt;/p&gt;

&lt;p&gt;We need to fix it. &lt;/p&gt;

&lt;p&gt;The script is already looking under HADOOP installation tree, just a wrong place.&lt;/p&gt;

&lt;p&gt;I don&apos;t think this fix will break anything.  We can use this fix before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5286&quot; title=&quot;bin/hbase&amp;#39;s logic of adding Hadoop jar files to the classpath is fragile when presented with split packaged Hadoop 0.23 installation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5286&quot;&gt;&lt;del&gt;HBASE-5286&lt;/del&gt;&lt;/a&gt; is resolved.&lt;/p&gt;</comment>
                            <comment id="13203810" author="jxiang" created="Wed, 8 Feb 2012 18:24:23 +0000"  >&lt;p&gt;Ok, let me close it as dup.  Probably, I just use the fix for myself before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5286&quot; title=&quot;bin/hbase&amp;#39;s logic of adding Hadoop jar files to the classpath is fragile when presented with split packaged Hadoop 0.23 installation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5286&quot;&gt;&lt;del&gt;HBASE-5286&lt;/del&gt;&lt;/a&gt; is resolved.&lt;/p&gt;</comment>
                            <comment id="13204283" author="hudson" created="Thu, 9 Feb 2012 05:47:35 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #102 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/102/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/102/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5221&quot; title=&quot;bin/hbase script doesn&amp;#39;t look for Hadoop jars in the right place in trunk layout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5221&quot;&gt;&lt;del&gt;HBASE-5221&lt;/del&gt;&lt;/a&gt; bin/hbase script doesn&apos;t look for Hadoop jars in the right place in trunk layout &amp;#8211; REVERTED&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5221&quot; title=&quot;bin/hbase script doesn&amp;#39;t look for Hadoop jars in the right place in trunk layout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5221&quot;&gt;&lt;del&gt;HBASE-5221&lt;/del&gt;&lt;/a&gt; bin/hbase script doesn&apos;t look for Hadoop jars in the right place in trunk layout&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/bin/hbase&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/bin/hbase&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13204292" author="rvs" created="Thu, 9 Feb 2012 05:56:07 +0000"  >&lt;p&gt;@stack, NP &amp;#8211; thanks for taking care of it on your end so quickly. I&apos;ll try to tackle  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5286&quot; title=&quot;bin/hbase&amp;#39;s logic of adding Hadoop jar files to the classpath is fragile when presented with split packaged Hadoop 0.23 installation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5286&quot;&gt;&lt;del&gt;HBASE-5286&lt;/del&gt;&lt;/a&gt; tomorrow.&lt;/p&gt;

&lt;p&gt;@Jimmy,&lt;/p&gt;

&lt;p&gt;for the developer build you always have an option of unsetting the HADOOP_HOME variable and the ClassNotFound will go away. In fact, I think, for dev. builds it is desirable to unset HADOOP_HOME, since that way you can be sure that you&apos;re testing your HBase build with whatever dependencies are declared in the POM.&lt;/p&gt;</comment>
                            <comment id="13205336" author="hudson" created="Fri, 10 Feb 2012 10:26:37 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2656 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2656/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2656/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5221&quot; title=&quot;bin/hbase script doesn&amp;#39;t look for Hadoop jars in the right place in trunk layout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5221&quot;&gt;&lt;del&gt;HBASE-5221&lt;/del&gt;&lt;/a&gt; bin/hbase script doesn&apos;t look for Hadoop jars in the right place in trunk layout &amp;#8211; REVERTED&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5221&quot; title=&quot;bin/hbase script doesn&amp;#39;t look for Hadoop jars in the right place in trunk layout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5221&quot;&gt;&lt;del&gt;HBASE-5221&lt;/del&gt;&lt;/a&gt; bin/hbase script doesn&apos;t look for Hadoop jars in the right place in trunk layout&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/bin/hbase&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/bin/hbase&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12539952">HBASE-5286</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12539189">HBASE-5239</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12513737" name="hbase-5221.txt" size="1228" author="jxiang" created="Wed, 8 Feb 2012 01:07:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Feb 2012 01:16:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i069lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>