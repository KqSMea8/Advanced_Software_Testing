<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:15:35 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4063/HBASE-4063.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4063] Improve TableInputFormat to allow application to configure the number of mappers</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4063</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;TableInputFormat creates one split/mapper task per region. In the case of lots of small regions, the overhead of map reduce framework becomes overhead. There are some related work items that could address this issue.&lt;/p&gt;

&lt;p&gt;1.	Reduce the number of small regions. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-420&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-420&lt;/a&gt; &lt;br/&gt;
2.	Improvement in map reduce framework to handle small jobs. &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-1220&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAPREDUCE-1220&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;Another quick way to solve this is to just improve TableInputFormat so that it can pack a configurable number of regions from a given region server into one mapper task. I tested this approach and was able to achieve 40% improvement on map job latency.&lt;/p&gt;


&lt;p&gt;In addition, Ophir Cohen suggested support for multiple mappers per region as below.&lt;/p&gt;

&lt;p&gt;On Thu, Jun 30, 2011 at 8:38 AM, Ophir Cohen &amp;lt;ophchu@gmail.com&amp;gt; wrote:&lt;br/&gt;
&amp;gt; Actually I thought of opposite version:&lt;br/&gt;
&amp;gt; If I have a spare map slots why not configure it to run more than one mapper&lt;br/&gt;
&amp;gt; on region?&lt;br/&gt;
&amp;gt; The question then is how to &apos;skip&apos; the mappers to the needed places inside&lt;br/&gt;
&amp;gt; the regions.&lt;/p&gt;

&lt;p&gt;Well, the current splitter passed mappers Scans where the start/end&lt;br/&gt;
rows are the region boundaries (at the time at which the splitter&lt;br/&gt;
ran).&lt;/p&gt;

&lt;p&gt;To do your case,  in the splitter, you&apos;d just give out multiple splits&lt;br/&gt;
per region.  To cut up the region key-space, you might use the&lt;br/&gt;
Bytes.split code.  It does coarse BigNumber math dividing the key&lt;br/&gt;
space.  See here:&lt;br/&gt;
&lt;a href=&quot;http://hbase.apache.org/xref/org/apache/hadoop/hbase/util/Bytes.html#1034&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/xref/org/apache/hadoop/hbase/util/Bytes.html#1034&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;St.Ack&lt;/p&gt;


&lt;p&gt;To support the scenarios of:&lt;br/&gt;
a) One mapper for multiple regions.&lt;br/&gt;
b) Multiple mappers for one region.&lt;/p&gt;


&lt;p&gt;We can modify TableInputFormat to allow application to config the number of mappers. TableInputFormat will do the internal calculation to find out how to config mappers&apos; key range properly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512914">HBASE-4063</key>
            <summary>Improve TableInputFormat to allow application to configure the number of mappers</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="mingma">Ming Ma</assignee>
                                    <reporter username="mingma">Ming Ma</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2011 01:27:05 +0000</created>
                <updated>Fri, 26 Oct 2012 22:26:41 +0000</updated>
                                                                            <component>mapreduce</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13138848" author="yuzhihong@gmail.com" created="Fri, 28 Oct 2011 22:15:15 +0000"  >&lt;p&gt;RegionLoad carries statistics about the region, such as the total size of the store files for the region, uncompressed, in MB.&lt;br/&gt;
We should utilize such information to form balanced region groups.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12533369">HBASE-4914</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12537571">HBASE-5140</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 Oct 2011 22:15:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02f1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>