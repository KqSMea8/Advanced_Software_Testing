<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:46:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13816/HBASE-13816.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13816] Build shaded modules only in release profile</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13816</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Shaded modules are great, but not needed in the regular build + test cycle. I noticed that around 30-40% of the build time goes in the actual shading. &lt;/p&gt;

&lt;p&gt;I think we can just build the shaded jars in the &lt;tt&gt;release&lt;/tt&gt; profile. hadoopqe and mvn publishing should not be affected. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12834022">HBASE-13816</key>
            <summary>Build shaded modules only in release profile</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Sat, 30 May 2015 23:57:15 +0000</created>
                <updated>Fri, 18 Dec 2015 07:22:31 +0000</updated>
                            <resolved>Mon, 1 Jun 2015 19:18:25 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.1.1</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14566260" author="enis" created="Sun, 31 May 2015 00:02:08 +0000"  >&lt;p&gt;Patch to move the &lt;tt&gt;maven-shade-plugin&lt;/tt&gt; to the release profile. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn install -DskipTests -Prelease
....
[INFO] Dependency-reduced POM written at: /Users/enis/projects/hbase/hbase-shaded/hbase-shaded-server/target/dependency-reduced-pom.xml
[INFO] 
[INFO] --- maven-install-plugin:2.3.1:install (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-install) @ hbase-shaded-server ---
[INFO] Installing /Users/enis/projects/hbase/hbase-shaded/hbase-shaded-server/target/hbase-shaded-server-2.0.0-SNAPSHOT.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase-shaded-server/2.0.0-SNAPSHOT/hbase-shaded-server-2.0.0-SNAPSHOT.jar
[INFO] Installing /Users/enis/projects/hbase/hbase-shaded/hbase-shaded-server/target/dependency-reduced-pom.xml to /Users/enis/.m2/repository/org/apache/hbase/hbase-shaded-server/2.0.0-SNAPSHOT/hbase-shaded-server-2.0.0-SNAPSHOT.pom
[INFO] Installing /Users/enis/projects/hbase/hbase-shaded/hbase-shaded-server/target/hbase-shaded-server-2.0.0-SNAPSHOT-tests.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase-shaded-server/2.0.0-SNAPSHOT/hbase-shaded-server-2.0.0-SNAPSHOT-tests.jar
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] HBase ............................................. SUCCESS [3.695s]
[INFO] HBase - Checkstyle ................................ SUCCESS [0.616s]
[INFO] HBase - Annotations ............................... SUCCESS [0.245s]
[INFO] HBase - Protocol .................................. SUCCESS [1.990s]
[INFO] HBase - Common .................................... SUCCESS [3.865s]
[INFO] HBase - Procedure ................................. SUCCESS [0.460s]
[INFO] HBase - Client .................................... SUCCESS [1.803s]
[INFO] HBase - Hadoop Compatibility ...................... SUCCESS [0.212s]
[INFO] HBase - Hadoop Two Compatibility .................. SUCCESS [0.846s]
[INFO] HBase - Prefix Tree ............................... SUCCESS [0.510s]
[INFO] HBase - Server .................................... SUCCESS [7.438s]
[INFO] HBase - Testing Util .............................. SUCCESS [0.764s]
[INFO] HBase - Thrift .................................... SUCCESS [1.828s]
[INFO] HBase - Shell ..................................... SUCCESS [0.531s]
[INFO] HBase - Integration Tests ......................... SUCCESS [0.572s]
[INFO] HBase - Examples .................................. SUCCESS [0.403s]
[INFO] HBase - Rest ...................................... SUCCESS [0.746s]
[INFO] HBase - Assembly .................................. SUCCESS [0.637s]
[INFO] HBase - Shaded .................................... SUCCESS [0.035s]
[INFO] HBase - Shaded - Client ........................... SUCCESS [10.038s]
[INFO] HBase - Shaded - Server ........................... SUCCESS [15.314s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 53.749s
[INFO] Finished at: Sat May 30 16:53:53 PDT 2015
[INFO] Final Memory: 84M/506M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14566273" author="stack" created="Sun, 31 May 2015 00:52:55 +0000"  >&lt;p&gt;Looks good &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; +1&lt;/p&gt;

&lt;p&gt;I like how you exploit the &apos;release&apos; profile, one we do not actually have till this patch but one we invoke on each release because we pick up the parent apache provided profile.&lt;/p&gt;</comment>
                            <comment id="14566307" author="hadoopqa" created="Sun, 31 May 2015 02:38:52 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12736382/hbase-13816_v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12736382/hbase-13816_v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit ae803d72fe3816378a9d2acd1775c01c9db19198.&lt;br/&gt;
  ATTACHMENT ID: 12736382&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation, build,&lt;br/&gt;
                        or dev-support patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.backup.TestHFileArchiving&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesUseSecurityEndPoint&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 5 zombie test(s): 	at org.apache.phoenix.end2end.index.LocalIndexIT.testLocalIndexScanAfterRegionSplit(LocalIndexIT.java:735)&lt;br/&gt;
	at org.apache.phoenix.end2end.DeleteIT.testDeleteRowFromTableWithImmutableIndex(DeleteIT.java:371)&lt;br/&gt;
	at org.apache.phoenix.end2end.DeleteIT.testDeleteRowFromTableWithImmutableLocalIndex(DeleteIT.java:351)&lt;br/&gt;
	at org.apache.phoenix.end2end.index.IndexExpressionIT.testInClauseWithMutableIndex(IndexExpressionIT.java:560)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14248//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14248//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14248//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14248//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14248//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14248//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14248//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14248//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14567641" author="eclark" created="Mon, 1 Jun 2015 17:47:59 +0000"  >&lt;p&gt;+1 from me.&lt;/p&gt;</comment>
                            <comment id="14567828" author="enis" created="Mon, 1 Jun 2015 19:18:25 +0000"  >&lt;p&gt;I have pushed this. Thanks for looking. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; FYI. make_rc.sh already sends &lt;tt&gt;-Prelease&lt;/tt&gt; for the RC, but we should check the jars in the next RC just in case. &lt;/p&gt;</comment>
                            <comment id="14568057" author="hudson" created="Mon, 1 Jun 2015 21:32:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #516 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/516/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/516/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13816&quot; title=&quot;Build shaded modules only in release profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13816&quot;&gt;&lt;del&gt;HBASE-13816&lt;/del&gt;&lt;/a&gt; Build shaded modules only in release profile (enis: rev 7a12f926d2bbbf03906e8aa03c077b2ac7b00450)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-server/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14568168" author="hudson" created="Mon, 1 Jun 2015 22:43:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #124 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/124/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/124/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13816&quot; title=&quot;Build shaded modules only in release profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13816&quot;&gt;&lt;del&gt;HBASE-13816&lt;/del&gt;&lt;/a&gt; Build shaded modules only in release profile (enis: rev b552b9ef329aee465f4fb854f6fbe3e0bb25d339)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-server/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14568174" author="ndimiduk" created="Mon, 1 Jun 2015 22:47:37 +0000"  >&lt;p&gt;Haha, good one &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;. +1.&lt;/p&gt;</comment>
                            <comment id="14568270" author="hudson" created="Tue, 2 Jun 2015 00:10:04 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6537 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6537/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6537/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13816&quot; title=&quot;Build shaded modules only in release profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13816&quot;&gt;&lt;del&gt;HBASE-13816&lt;/del&gt;&lt;/a&gt; Build shaded modules only in release profile (enis: rev d010e84cdf11a629033494fbe026556ae4f6e74b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-server/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-client/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12736382" name="hbase-13816_v1.patch" size="2302" author="enis" created="Sun, 31 May 2015 00:02:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 31 May 2015 00:52:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ff5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>hbase-shaded-client and hbase-shaded-server modules will not build the actual jars unless -Prelease is supplied in mvn. </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>