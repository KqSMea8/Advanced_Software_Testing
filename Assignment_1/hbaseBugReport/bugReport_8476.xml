<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:55:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8476/HBASE-8476.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8476] locateRegionInMeta should check the cache before doing the prefetch</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8476</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;locateRegionInMeta uses a regionLockObject to synchronize all accesses to prefetch the RegionCache.&lt;/p&gt;

&lt;p&gt;         synchronized (regionLockObject) {&lt;br/&gt;
            // If the parent table is META, we may want to pre-fetch some&lt;br/&gt;
            // region info into the global region cache for this table.&lt;br/&gt;
            if (Bytes.equals(parentTable, HConstants.META_TABLE_NAME) &amp;amp;&amp;amp;&lt;br/&gt;
                (getRegionCachePrefetch(tableName)) )  &lt;/p&gt;
{
              prefetchRegionCache(tableName, row);
            }

&lt;p&gt;            // Check the cache again for a hit in case some other thread made the&lt;br/&gt;
            // same query while we were waiting on the lock. If not supposed to&lt;br/&gt;
            // be using the cache, delete any existing cached location so it won&apos;t&lt;br/&gt;
            // interfere.&lt;br/&gt;
            if (useCache) {&lt;br/&gt;
              location = getCachedLocation(tableName, row);&lt;br/&gt;
              if (location != null) &lt;/p&gt;
{
                return location;
              }
&lt;p&gt;            } else &lt;/p&gt;
{
              deleteCachedLocation(tableName, row);
            }



&lt;p&gt;However, for this to be effective, we need to check the cache as soon as we grab the lock; before doing the prefetch. Checking the cache after doing the prefetch does not help the current thread, in case another thread has done the prefetch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645664">HBASE-8476</key>
            <summary>locateRegionInMeta should check the cache before doing the prefetch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="v.himanshu">Himanshu Vashishtha</assignee>
                                    <reporter username="amitanand">Amitanand Aiyer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 May 2013 17:43:57 +0000</created>
                <updated>Mon, 23 Sep 2013 19:28:45 +0000</updated>
                            <resolved>Fri, 3 May 2013 23:29:31 +0000</resolved>
                                                    <fixVersion>0.89-fb</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13648910" author="v.himanshu" created="Fri, 3 May 2013 23:29:31 +0000"  >&lt;p&gt;Folded it in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8346&quot; title=&quot;Prefetching .META. rows in case only when useCache is set to true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8346&quot;&gt;&lt;del&gt;HBASE-8346&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12650089">HBASE-8655</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12642614">HBASE-8346</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 May 2013 23:29:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326025</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k8vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326370</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>