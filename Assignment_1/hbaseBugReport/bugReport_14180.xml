<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:50:33 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14180/HBASE-14180.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14180] Change timeout - SocketTimeoutException because of callTimeout</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14180</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HBase keeps throwing a timeout exception I have tryed every configuration I could think about to increase it.&lt;/p&gt;

&lt;p&gt;Partial stacktrace:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Caused by: java.io.IOException: Call to hdp-w-1.c.dks-hadoop.internal/10.240.2.235:16020 failed on local exception: org.apache.hadoop.hbase.ipc.CallTimeoutException: Call id=43, waitTime=60001, operationTimeout=60000 expired.&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.RpcClientImpl.wrapException(RpcClientImpl.java:1242)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1210)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)&lt;br/&gt;
        at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.scan(ClientProtos.java:32651)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:213)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:62)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ScannerCallableWithReplicas$RetryingRPC.call(ScannerCallableWithReplicas.java:369)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ScannerCallableWithReplicas$RetryingRPC.call(ScannerCallableWithReplicas.java:343)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:126)&lt;br/&gt;
        ... 4 more&lt;br/&gt;
Caused by: org.apache.hadoop.hbase.ipc.CallTimeoutException: Call id=43, waitTime=60001, operationTimeout=60000 expired.&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.Call.checkAndSetTimeout(Call.java:70)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1184)&lt;br/&gt;
        ... 13 more&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve tryed editing config files and also setting config in Ambari with the next keys to increase the timeout with no success:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;hbase.rpc.timeout&lt;/li&gt;
	&lt;li&gt;dfs.socket.timeout&lt;/li&gt;
	&lt;li&gt;dfs.client.socket-timeout&lt;/li&gt;
	&lt;li&gt;zookeeper.session.timeout&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also the Phoenix properties, but I think it&apos;s mostly an HBase issue:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;phoenix.query.timeoutMs&lt;/li&gt;
	&lt;li&gt;phoenix.query.keepAliveMs&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Full stack trace: &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Error: Encountered exception in sub plan &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; execution. (state=,code=0)&lt;br/&gt;
java.sql.SQLException: Encountered exception in sub plan &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; execution.&lt;br/&gt;
        at org.apache.phoenix.execute.HashJoinPlan.iterator(HashJoinPlan.java:157)&lt;br/&gt;
        at org.apache.phoenix.jdbc.PhoenixStatement$1.call(PhoenixStatement.java:251)&lt;br/&gt;
        at org.apache.phoenix.jdbc.PhoenixStatement$1.call(PhoenixStatement.java:241)&lt;br/&gt;
        at org.apache.phoenix.call.CallRunner.run(CallRunner.java:53)&lt;br/&gt;
        at org.apache.phoenix.jdbc.PhoenixStatement.executeQuery(PhoenixStatement.java:240)&lt;br/&gt;
        at org.apache.phoenix.jdbc.PhoenixStatement.execute(PhoenixStatement.java:1250)&lt;br/&gt;
        at sqlline.Commands.execute(Commands.java:822)&lt;br/&gt;
        at sqlline.Commands.sql(Commands.java:732)&lt;br/&gt;
        at sqlline.SqlLine.dispatch(SqlLine.java:808)&lt;br/&gt;
        at sqlline.SqlLine.begin(SqlLine.java:681)&lt;br/&gt;
        at sqlline.SqlLine.start(SqlLine.java:398)&lt;br/&gt;
        at sqlline.SqlLine.main(SqlLine.java:292)&lt;br/&gt;
Caused by: org.apache.phoenix.exception.PhoenixIOException: org.apache.phoenix.exception.PhoenixIOException: Failed after attempts=36, exceptions:&lt;br/&gt;
Mon Aug 03 16:47:06 UTC 2015, null, java.net.SocketTimeoutException: callTimeout=60000, callDuration=60303: row &apos;&apos; on table &apos;hive_post_topics&apos; at region=hive_post_topics,,1438084107396.cdbdc246ff0b7dfed31d481e0bccd2b5., hostname=hdp-w-1.c.dks-hadoop.internal,16020,1438619912282, seqNum=45322&lt;/p&gt;

&lt;p&gt;        at org.apache.phoenix.util.ServerUtil.parseServerException(ServerUtil.java:108)&lt;br/&gt;
        at org.apache.phoenix.iterate.BaseResultIterators.getIterators(BaseResultIterators.java:542)&lt;br/&gt;
        at org.apache.phoenix.iterate.RoundRobinResultIterator.getIterators(RoundRobinResultIterator.java:176)&lt;br/&gt;
        at org.apache.phoenix.iterate.RoundRobinResultIterator.next(RoundRobinResultIterator.java:91)&lt;br/&gt;
        at org.apache.phoenix.join.HashCacheClient.serialize(HashCacheClient.java:106)&lt;br/&gt;
        at org.apache.phoenix.join.HashCacheClient.addHashCache(HashCacheClient.java:82)&lt;br/&gt;
        at org.apache.phoenix.execute.HashJoinPlan$HashSubPlan.execute(HashJoinPlan.java:339)&lt;br/&gt;
        at org.apache.phoenix.execute.HashJoinPlan$1.call(HashJoinPlan.java:136)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:262)&lt;br/&gt;
        at org.apache.phoenix.job.JobManager$InstrumentedJobFutureTask.run(JobManager.java:172)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.util.concurrent.ExecutionException: org.apache.phoenix.exception.PhoenixIOException: Failed after attempts=36, exceptions:&lt;br/&gt;
Mon Aug 03 16:47:06 UTC 2015, null, java.net.SocketTimeoutException: callTimeout=60000, callDuration=60303: row &apos;&apos; on table &apos;hive_post_topics&apos; at region=hive_post_topics,,1438084107396.cdbdc246ff0b7dfed31d481e0bccd2b5., hostname=hdp-w-1.c.dks-hadoop.internal,16020,1438619912282, seqNum=45322&lt;/p&gt;

&lt;p&gt;        at java.util.concurrent.FutureTask.report(FutureTask.java:122)&lt;br/&gt;
        at java.util.concurrent.FutureTask.get(FutureTask.java:202)&lt;br/&gt;
        at org.apache.phoenix.iterate.BaseResultIterators.getIterators(BaseResultIterators.java:538)&lt;br/&gt;
        ... 11 more&lt;br/&gt;
Caused by: org.apache.phoenix.exception.PhoenixIOException: Failed after attempts=36, exceptions:&lt;br/&gt;
Mon Aug 03 16:47:06 UTC 2015, null, java.net.SocketTimeoutException: callTimeout=60000, callDuration=60303: row &apos;&apos; on table &apos;hive_post_topics&apos; at region=hive_post_topics,,1438084107396.cdbdc246ff0b7dfed31d481e0bccd2b5., hostname=hdp-w-1.c.dks-hadoop.internal,16020,1438619912282, seqNum=45322&lt;/p&gt;

&lt;p&gt;        at org.apache.phoenix.util.ServerUtil.parseServerException(ServerUtil.java:108)&lt;br/&gt;
        at org.apache.phoenix.iterate.ScanningResultIterator.next(ScanningResultIterator.java:56)&lt;br/&gt;
        at org.apache.phoenix.iterate.TableResultIterator.next(TableResultIterator.java:104)&lt;br/&gt;
        at org.apache.phoenix.iterate.LookAheadResultIterator$1.advance(LookAheadResultIterator.java:47)&lt;br/&gt;
        at org.apache.phoenix.iterate.LookAheadResultIterator.init(LookAheadResultIterator.java:59)&lt;br/&gt;
        at org.apache.phoenix.iterate.LookAheadResultIterator.peek(LookAheadResultIterator.java:73)&lt;br/&gt;
        at org.apache.phoenix.iterate.ParallelIterators$1.call(ParallelIterators.java:97)&lt;br/&gt;
        at org.apache.phoenix.iterate.ParallelIterators$1.call(ParallelIterators.java:85)&lt;br/&gt;
        ... 5 more&lt;br/&gt;
Caused by: org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed after attempts=36, exceptions:&lt;br/&gt;
Mon Aug 03 16:47:06 UTC 2015, null, java.net.SocketTimeoutException: callTimeout=60000, callDuration=60303: row &apos;&apos; on table &apos;hive_post_topics&apos; at region=hive_post_topics,,1438084107396.cdbdc246ff0b7dfed31d481e0bccd2b5., hostname=hdp-w-1.c.dks-hadoop.internal,16020,1438619912282, seqNum=45322&lt;/p&gt;

&lt;p&gt;        at org.apache.hadoop.hbase.client.RpcRetryingCallerWithReadReplicas.throwEnrichedException(RpcRetryingCallerWithReadReplicas.java:271)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ScannerCallableWithReplicas.call(ScannerCallableWithReplicas.java:223)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ScannerCallableWithReplicas.call(ScannerCallableWithReplicas.java:61)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ClientScanner.call(ClientScanner.java:320)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ClientScanner.loadCache(ClientScanner.java:403)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ClientScanner.next(ClientScanner.java:364)&lt;br/&gt;
        at org.apache.phoenix.iterate.ScanningResultIterator.next(ScanningResultIterator.java:50)&lt;br/&gt;
        ... 11 more&lt;br/&gt;
Caused by: java.net.SocketTimeoutException: callTimeout=60000, callDuration=60303: row &apos;&apos; on table &apos;hive_post_topics&apos; at region=hive_post_topics,,1438084107396.cdbdc246ff0b7dfed31d481e0bccd2b5., hostname=hdp-w-1.c.dks-hadoop.internal,16020,1438619912282, seqNum=45322&lt;br/&gt;
        at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:159)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ResultBoundedCompletionService$QueueingFuture.run(ResultBoundedCompletionService.java:64)&lt;br/&gt;
        ... 3 more&lt;br/&gt;
Caused by: java.io.IOException: Call to hdp-w-1.c.dks-hadoop.internal/10.240.2.235:16020 failed on local exception: org.apache.hadoop.hbase.ipc.CallTimeoutException: Call id=43, waitTime=60001, operationTimeout=60000 expired.&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.RpcClientImpl.wrapException(RpcClientImpl.java:1242)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1210)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)&lt;br/&gt;
        at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.scan(ClientProtos.java:32651)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:213)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:62)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ScannerCallableWithReplicas$RetryingRPC.call(ScannerCallableWithReplicas.java:369)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.ScannerCallableWithReplicas$RetryingRPC.call(ScannerCallableWithReplicas.java:343)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:126)&lt;br/&gt;
        ... 4 more&lt;br/&gt;
Caused by: org.apache.hadoop.hbase.ipc.CallTimeoutException: Call id=43, waitTime=60001, operationTimeout=60000 expired.&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.Call.checkAndSetTimeout(Call.java:70)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1184)&lt;br/&gt;
        ... 13 more&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment>&lt;p&gt;Hadoop with Ambari 2.1.0&lt;br/&gt;
HBase 1.1.1.2.3&lt;br/&gt;
HDFS 2.7.1.2.3&lt;br/&gt;
Zookeeper 3.4.6.2.3&lt;br/&gt;
Phoenix 4.4.0.2.3&lt;/p&gt;</environment>
        <key id="12851145">HBASE-14180</key>
            <summary>Change timeout - SocketTimeoutException because of callTimeout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="katezer">Adri&#224; V.</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Aug 2015 16:59:57 +0000</created>
                <updated>Fri, 18 Dec 2015 05:10:03 +0000</updated>
                            <resolved>Mon, 3 Aug 2015 22:03:36 +0000</resolved>
                                    <version>1.1.1</version>
                                                    <component>hbase</component>
                    <component>IPC/RPC</component>
                    <component>regionserver</component>
                    <component>Zookeeper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14652635" author="apurtell" created="Mon, 3 Aug 2015 22:03:36 +0000"  >&lt;p&gt;Please write in to user@hbase.apache.org for help troubleshooting issues. This is the project dev tracker. Thanks!&lt;/p&gt;</comment>
                            <comment id="14717888" author="baby88" created="Fri, 28 Aug 2015 01:36:55 +0000"  >&lt;p&gt;1   I meet the similar problem: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14330&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-14330&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;2   I change my regular expression to solve RPC Timeout problem.But I don`t know why.&lt;/p&gt;

&lt;p&gt;3   Is this helpful for you ?&lt;/p&gt;

&lt;p&gt;4   I look forward to your deep analysis for HBase Scanner  , I want to know what cause the problem,How to cause.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 3 Aug 2015 22:03:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2i9vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>hbase timeout operation phoenix</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>