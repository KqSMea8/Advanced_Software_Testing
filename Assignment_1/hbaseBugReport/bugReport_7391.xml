<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:45:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7391/HBASE-7391.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7391] Review/improve HLog compression&apos;s memory consumption</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7391</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From Ram in &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hbase-dev/201205.mbox/%3C00bc01cd31e6$7caf1320$760d3960$%25vasudevan@huawei.com%3E:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hbase-dev/201205.mbox/%3C00bc01cd31e6$7caf1320$760d3960$%25vasudevan@huawei.com%3E:&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;One small observation after giving +1 on the RC.&lt;br/&gt;
The WAL compression feature causes OOME and causes Full GC.&lt;/p&gt;

&lt;p&gt;The problem is, if we have 1500 regions and I need to create recovered.edits&lt;br/&gt;
for each of the region (I don&#8217;t have much data in the regions (~300MB)).&lt;br/&gt;
Now when I try to build the dictionary there is a Node object getting&lt;br/&gt;
created.&lt;br/&gt;
Each node object occupies 32 bytes.&lt;br/&gt;
We have 5 such dictionaries.&lt;/p&gt;

&lt;p&gt;Initially we create indexToNodes array and its size is 32767.&lt;/p&gt;

&lt;p&gt;So now we have 32*5*32767 = ~5MB.&lt;/p&gt;

&lt;p&gt;Now I have 1500 regions.&lt;/p&gt;

&lt;p&gt;So 5MB*1500 = ~7GB.(Excluding actual data).  This seems to a very high&lt;br/&gt;
initial memory foot print and this never allows me to split the logs and I&lt;br/&gt;
am not able to make the cluster up at all.&lt;/p&gt;

&lt;p&gt;Our configured heap size was 8GB, tested in 3 node cluster with 5000&lt;br/&gt;
regions, very less data( 1GB in hdfs cluster including replication), some&lt;br/&gt;
small data is spread evenly across all regions.&lt;/p&gt;

&lt;p&gt;The formula is 32(Node object size)*5(No of dictionary)*32767(no of node&lt;br/&gt;
objects)*noofregions.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12624661">HBASE-7391</key>
            <summary>Review/improve HLog compression&apos;s memory consumption</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Dec 2012 16:16:05 +0000</created>
                <updated>Mon, 23 Sep 2013 19:22:46 +0000</updated>
                            <resolved>Wed, 14 Aug 2013 17:04:38 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="13639567" author="stack" created="Tue, 23 Apr 2013 20:15:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; In case you haven&apos;t seen this one Sergey... might be good to know since you are messing in compressed WAL&lt;/p&gt;</comment>
                            <comment id="13639669" author="sershe" created="Tue, 23 Apr 2013 21:44:05 +0000"  >&lt;p&gt;Hmm. I seem to be missing something here... what is the point of all this LRU in this dictionary and the whole indexToNode thing?&lt;br/&gt;
We cannot really drop entries and ensure correctness, can we.&lt;br/&gt;
I can see how array is faster than a hash map for the purpose of this class, but there&apos;s memory concern.&lt;br/&gt;
Should this all be nuked?&lt;/p&gt;</comment>
                            <comment id="13640119" author="stack" created="Wed, 24 Apr 2013 05:36:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; Comment on above?&lt;/p&gt;</comment>
                            <comment id="13640951" author="sershe" created="Wed, 24 Apr 2013 21:04:27 +0000"  >&lt;p&gt;Actually, because the compressor and decompressor perform evictions at the same time, correctness should be preserved... perhaps there&apos;s some better way to maintain a list.&lt;/p&gt;</comment>
                            <comment id="13640952" author="sershe" created="Wed, 24 Apr 2013 21:05:22 +0000"  >&lt;p&gt;Alternative is allowing 4-byte ints and writing varints, then eviction logic might not be needed&lt;/p&gt;</comment>
                            <comment id="13641391" author="ram_krish" created="Thu, 25 Apr 2013 04:09:09 +0000"  >&lt;p&gt;Its been a while i went thro this code.  On a high level i remember what was done.  Will check and get back on this.&lt;br/&gt;
From the comment i understand what is the alternative here,&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Alternative is allowing 4-byte ints and writing varints&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Could you brief on this?&lt;/p&gt;</comment>
                            <comment id="13651148" author="jdcryans" created="Tue, 7 May 2013 18:26:58 +0000"  >&lt;p&gt;Punting to 0.95.2, it won&apos;t happen in time for the release.&lt;/p&gt;</comment>
                            <comment id="13730596" author="ram_krish" created="Tue, 6 Aug 2013 10:23:00 +0000"  >&lt;p&gt;Going thro this again for having WAL compression for tags.&lt;br/&gt;
The above said OOME is more likely to happen when we are creating RecoveredEdits and when we are reading recovered edits.&lt;br/&gt;
In case of creating recovered.edits HLog files we would be instantiating Writers per region and each Writer would create a compression context and hence the 5 type of dictionaries would be created.  In the normal case this could be ok (where the HLog is instantiated for the RS).&lt;br/&gt;
So incase of recovered edits we can easily save on the initalization part. We know that for the recovered edits the Regionname, tablename are always constant because the recovered.edits knows for which region and which table it is.&lt;br/&gt;
Similarly the family can be moved out of this array which is 1024 in size by default.  Assuming the number of families are not huge generally.&lt;br/&gt;
Still need to think on the qualifier for wider tables.  &lt;br/&gt;
The row dictionary can be as how it is implemented now.  Tags also could go with the same way like rows.  For the row and tag part we could identify a better way to optimize the memory usage.  &lt;br/&gt;
So having a different implementation of the dictionary as said above for the recovered.edits creation would directly reduce the memory consumption.&lt;/p&gt;</comment>
                            <comment id="13732235" author="ram_krish" created="Wed, 7 Aug 2013 18:06:43 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (recoveredEdits) {
      &lt;span class=&quot;code-comment&quot;&gt;// This will never change
&lt;/span&gt;      regionDict.init(1);
      tableDict.init(1);
      rowDict.init(&lt;span class=&quot;code-object&quot;&gt;Short&lt;/span&gt;.MAX_VALUE);
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      regionDict.init(&lt;span class=&quot;code-object&quot;&gt;Short&lt;/span&gt;.MAX_VALUE);
      tableDict.init(&lt;span class=&quot;code-object&quot;&gt;Short&lt;/span&gt;.MAX_VALUE);
      rowDict.init(&lt;span class=&quot;code-object&quot;&gt;Short&lt;/span&gt;.MAX_VALUE);
    }
    familyDict.init(&lt;span class=&quot;code-object&quot;&gt;Byte&lt;/span&gt;.MAX_VALUE);
    qualifierDict.init(&lt;span class=&quot;code-object&quot;&gt;Byte&lt;/span&gt;.MAX_VALUE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If we make a change like above for the recovered.edits case as described in the above description we would be reducing the memory 4 times i.e from 5 MB to 1MB for every writer instantiated.&lt;br/&gt;
For the regionname and table name we know that for sure not more than 1 entry would be there.&lt;br/&gt;
For the family and qualifier dictionary (both in the normal case and recovered edits) we could make it Max value of byte.  Anyway it is LRU type so if any use case has more than 127 qualifiers per CF that would go in roundrobin fashion.&lt;br/&gt;
Let the rowDict be as Short.MAX_VALUE.&lt;/p&gt;

&lt;p&gt;So when the size reduces from 5MB to 1MB overall the size for 1500 regions would come down to 1.5 GB for 1500 regions (from ~7GB).  What do you think of this change?&lt;br/&gt;
I can submit a patch based on this.&lt;/p&gt;</comment>
                            <comment id="13732765" author="jdcryans" created="Wed, 7 Aug 2013 21:23:39 +0000"  >&lt;p&gt;I think that what you are proposing makes sense, but right now HLog compression is broken in 0.95+, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8615&quot; title=&quot;HLog Compression may fail due to Hadoop fs input stream returning partial bytes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8615&quot;&gt;&lt;del&gt;HBASE-8615&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13733363" author="ram_krish" created="Thu, 8 Aug 2013 10:44:03 +0000"  >&lt;p&gt;Patch for trunk.  Once &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8615&quot; title=&quot;HLog Compression may fail due to Hadoop fs input stream returning partial bytes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8615&quot;&gt;&lt;del&gt;HBASE-8615&lt;/del&gt;&lt;/a&gt; is fixed this can be checked for.&lt;br/&gt;
Ran the test suite.  Got one failure in TestWALReplay but running it once again it passed.&lt;/p&gt;

{Edit}&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8315&quot; title=&quot;Documentation should have more information of LRU Stats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8315&quot;&gt;&lt;del&gt;HBASE-8315&lt;/del&gt;&lt;/a&gt; to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8615&quot; title=&quot;HLog Compression may fail due to Hadoop fs input stream returning partial bytes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8615&quot;&gt;&lt;del&gt;HBASE-8615&lt;/del&gt;&lt;/a&gt; {Edit}</comment>
                            <comment id="13733419" author="hadoopqa" created="Thu, 8 Aug 2013 12:08:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12596819/HBASE-7391_1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12596819/HBASE-7391_1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 18 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6653//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13733424" author="ram_krish" created="Thu, 8 Aug 2013 12:10:37 +0000"  >&lt;p&gt;There are no testcase failures in the testReport attached.&lt;/p&gt;</comment>
                            <comment id="13733658" author="yuzhihong@gmail.com" created="Thu, 8 Aug 2013 16:37:12 +0000"  >&lt;p&gt;ReaderBase#isRecoveredEdits() doesn&apos;t have to be public, right ?&lt;br/&gt;
I think you can unify ReaderBase#isRecoveredEdits() with the one from WriterBase by putting it in some utility class.&lt;/p&gt;

&lt;p&gt;Please add class javadoc for WriterBase.&lt;/p&gt;</comment>
                            <comment id="13733941" author="jdcryans" created="Thu, 8 Aug 2013 20:29:09 +0000"  >&lt;p&gt;Why is this not pulled out of the if-else statement?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;rowDict.init(Short.MAX_VALUE);&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Is the HLog change necessary?&lt;/p&gt;

&lt;p&gt;The new blank line in Dictionary has white spaces. Same in ProtobufLogWriter. And ReaderBase.&lt;/p&gt;

&lt;p&gt;ReaderBase.isRecoveredEdits() should just be one line, returning the statement, don&apos;t &quot;if () return true else false&quot;.&lt;/p&gt;

&lt;p&gt;And I see the same method in WriterBase, can we have a more centralized way of telling if a path contains recovered edits?&lt;/p&gt;</comment>
                            <comment id="13734525" author="ram_krish" created="Fri, 9 Aug 2013 07:44:59 +0000"  >&lt;p&gt;Updated patch addressing the comments.&lt;/p&gt;</comment>
                            <comment id="13734640" author="hadoopqa" created="Fri, 9 Aug 2013 10:14:03 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12597050/HBASE-7391_2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12597050/HBASE-7391_2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 20 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6678//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13735304" author="jdcryans" created="Fri, 9 Aug 2013 21:05:39 +0000"  >&lt;p&gt;Latest patch looks good. It&apos;s just be missing javadoc on FSUtils.isRecoveredEdits().&lt;/p&gt;

&lt;p&gt;Have you tried it out on a cluster? See any performance difference?&lt;/p&gt;</comment>
                            <comment id="13736673" author="ram_krish" created="Mon, 12 Aug 2013 07:57:07 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;Have you tried it out on a cluster? See any performance difference&lt;br/&gt;
Will get back to you on this after testing.&lt;/p&gt;</comment>
                            <comment id="13736844" author="ram_krish" created="Mon, 12 Aug 2013 13:10:56 +0000"  >&lt;p&gt;I tested with a basic setup.&lt;br/&gt;
With 1GB heap and created a table with 1000 regions.  Without the patch my 1GB got filled up and the ZK session got disconnected.&lt;br/&gt;
The LRUDictionary object was occupying above 94% in the heap.&lt;br/&gt;
After the patch i was able to open all the 1000 regions with the same heap size and the LRUDicitionary did not cross 75% (Live object %).&lt;br/&gt;
Without the patch it took around &amp;gt; 4 min  to open 1000 regions, with patch i was able to open the regions with in just above 2 mins.&lt;br/&gt;
Also the GC activity with patch was almost 0%. Attaching the screenshots for the same.&lt;/p&gt;</comment>
                            <comment id="13736848" author="hadoopqa" created="Mon, 12 Aug 2013 13:13:11 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12597472/beforepatch2.png&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12597472/beforepatch2.png&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6701//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6701//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13737070" author="jdcryans" created="Mon, 12 Aug 2013 17:22:54 +0000"  >&lt;p&gt;It&apos;s good to know that we&apos;re less likely to run into OOMEs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;But I was wondering if this is actually helping with performance. Can you do the same little test with more heap so that it wouldn&apos;t die in the first case, then compare run time?&lt;/p&gt;</comment>
                            <comment id="13737090" author="ram_krish" created="Mon, 12 Aug 2013 17:33:16 +0000"  >&lt;p&gt;Sure will do that and get back on that.&lt;/p&gt;</comment>
                            <comment id="13738076" author="ram_krish" created="Tue, 13 Aug 2013 10:49:44 +0000"  >&lt;p&gt;Attaching a snapshot with 4GB heap.&lt;br/&gt;
It is sure that we are better on the memory after the patch.  &lt;br/&gt;
Am able to open the regions about 20 secs faster with patch consistently.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt;&lt;br/&gt;
If you are ok with this, I can commit this patch with the javadoc comment you had mentioned earlier.&lt;/p&gt;</comment>
                            <comment id="13738080" author="hadoopqa" created="Tue, 13 Aug 2013 10:53:15 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12597699/beforepatch3.png&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12597699/beforepatch3.png&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6718//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6718//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13738642" author="jdcryans" created="Tue, 13 Aug 2013 18:38:07 +0000"  >&lt;p&gt;That&apos;s excellent Ram, all good stuff. +1&lt;/p&gt;</comment>
                            <comment id="13739185" author="ram_krish" created="Wed, 14 Aug 2013 03:45:30 +0000"  >&lt;p&gt;Patch with the javadoc on the FSUtils method.  This would be the one that i would commit later today.&lt;/p&gt;</comment>
                            <comment id="13739230" author="hadoopqa" created="Wed, 14 Aug 2013 05:04:59 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12597884/HBASE-7391_3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12597884/HBASE-7391_3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestShell&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6736//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13739247" author="stack" created="Wed, 14 Aug 2013 05:29:51 +0000"  >&lt;p&gt;TestShell is not your patch Ram. I&apos;m trying to figure what we committed that broke this.  Go ahead and commit.&lt;/p&gt;</comment>
                            <comment id="13739869" author="ram_krish" created="Wed, 14 Aug 2013 16:56:50 +0000"  >&lt;p&gt;Committed to trunk. &lt;br/&gt;
Thanks JD and Stack for the reviews.  This has to go in 0.95? Let me know.  I will keep this open till then&lt;/p&gt;</comment>
                            <comment id="13739873" author="jdcryans" created="Wed, 14 Aug 2013 16:58:33 +0000"  >&lt;p&gt;Yes please! Thanks Ram!&lt;/p&gt;</comment>
                            <comment id="13739882" author="stack" created="Wed, 14 Aug 2013 17:04:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; Yes to adding to 0.95 please.&lt;/p&gt;</comment>
                            <comment id="13739885" author="ram_krish" created="Wed, 14 Aug 2013 17:04:38 +0000"  >&lt;p&gt;Committed to 0.95 also.&lt;br/&gt;
Thanks JD!&lt;/p&gt;</comment>
                            <comment id="13739991" author="eclark" created="Wed, 14 Aug 2013 18:15:14 +0000"  >&lt;p&gt;Seems like this snuck some weird line endings into WriterBase.&lt;/p&gt;</comment>
                            <comment id="13740024" author="ram_krish" created="Wed, 14 Aug 2013 18:40:36 +0000"  >&lt;p&gt;Same patch but created with SVN.  Will commit this now.  Thanks Elliot for pointing this.&lt;/p&gt;</comment>
                            <comment id="13740030" author="ram_krish" created="Wed, 14 Aug 2013 18:43:29 +0000"  >&lt;p&gt;Committed the change.  Should be ok now.&lt;/p&gt;</comment>
                            <comment id="13740041" author="eclark" created="Wed, 14 Aug 2013 18:50:26 +0000"  >&lt;p&gt;Thanks ram&lt;/p&gt;</comment>
                            <comment id="13740098" author="hudson" created="Wed, 14 Aug 2013 19:43:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95 #446 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/446/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/446/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7391&quot; title=&quot;Review/improve HLog compression&amp;#39;s memory consumption&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7391&quot;&gt;&lt;del&gt;HBASE-7391&lt;/del&gt;&lt;/a&gt; - Review/improve HLog compression&apos;s memory consumption (Ram) (ramkrishna: rev 1513966)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/CompressionContext.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/Dictionary.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/LRUDictionary.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ReaderBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/SequenceFileLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestCompressor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestKeyValueCompression.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestLRUDictionary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13740115" author="hudson" created="Wed, 14 Aug 2013 20:06:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4388 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4388/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4388/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7391&quot; title=&quot;Review/improve HLog compression&amp;#39;s memory consumption&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7391&quot;&gt;&lt;del&gt;HBASE-7391&lt;/del&gt;&lt;/a&gt; - Review/improve HLog compression&apos;s memory consumption (Ram) (ramkrishna: rev 1513961)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/CompressionContext.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/Dictionary.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/LRUDictionary.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ReaderBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/SequenceFileLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestCompressor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestKeyValueCompression.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestLRUDictionary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13740139" author="hudson" created="Wed, 14 Aug 2013 20:27:53 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95-on-hadoop2 #241 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/241/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/241/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7391&quot; title=&quot;Review/improve HLog compression&amp;#39;s memory consumption&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7391&quot;&gt;&lt;del&gt;HBASE-7391&lt;/del&gt;&lt;/a&gt; - Review/improve HLog compression&apos;s memory consumption - End of line character removal (Ram) (ramkrishna: rev 1514005)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7391&quot; title=&quot;Review/improve HLog compression&amp;#39;s memory consumption&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7391&quot;&gt;&lt;del&gt;HBASE-7391&lt;/del&gt;&lt;/a&gt; - Review/improve HLog compression&apos;s memory consumption (Ram) (ramkrishna: rev 1513966)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/CompressionContext.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/Dictionary.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/LRUDictionary.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ReaderBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/SequenceFileLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestCompressor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestKeyValueCompression.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestLRUDictionary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13740267" author="hudson" created="Wed, 14 Aug 2013 22:04:51 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95 #447 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/447/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/447/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7391&quot; title=&quot;Review/improve HLog compression&amp;#39;s memory consumption&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7391&quot;&gt;&lt;del&gt;HBASE-7391&lt;/del&gt;&lt;/a&gt; - Review/improve HLog compression&apos;s memory consumption - End of line character removal (Ram) (ramkrishna: rev 1514005)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13740288" author="hudson" created="Wed, 14 Aug 2013 22:17:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #675 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/675/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/675/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7391&quot; title=&quot;Review/improve HLog compression&amp;#39;s memory consumption&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7391&quot;&gt;&lt;del&gt;HBASE-7391&lt;/del&gt;&lt;/a&gt; - Review/improve HLog compression&apos;s memory consumption - End of line character removal (Ram) (ramkrishna: rev 1514004)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7391&quot; title=&quot;Review/improve HLog compression&amp;#39;s memory consumption&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7391&quot;&gt;&lt;del&gt;HBASE-7391&lt;/del&gt;&lt;/a&gt; - Review/improve HLog compression&apos;s memory consumption (Ram) (ramkrishna: rev 1513961)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/CompressionContext.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/Dictionary.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/LRUDictionary.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ReaderBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/SequenceFileLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestCompressor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestKeyValueCompression.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestLRUDictionary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13740341" author="hudson" created="Wed, 14 Aug 2013 22:47:08 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4389 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4389/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4389/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7391&quot; title=&quot;Review/improve HLog compression&amp;#39;s memory consumption&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7391&quot;&gt;&lt;del&gt;HBASE-7391&lt;/del&gt;&lt;/a&gt; - Review/improve HLog compression&apos;s memory consumption - End of line character removal (Ram) (ramkrishna: rev 1514004)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12662085">HBASE-9137</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12598023" name="HBASE-7391-LINEEND.patch" size="4285" author="eclark" created="Wed, 14 Aug 2013 18:32:17 +0000"/>
                            <attachment id="12596819" name="HBASE-7391_1.patch" size="16554" author="ram_krish" created="Thu, 8 Aug 2013 10:44:03 +0000"/>
                            <attachment id="12597050" name="HBASE-7391_2.patch" size="15901" author="ram_krish" created="Fri, 9 Aug 2013 07:44:59 +0000"/>
                            <attachment id="12597884" name="HBASE-7391_3.patch" size="16099" author="ram_krish" created="Wed, 14 Aug 2013 03:45:30 +0000"/>
                            <attachment id="12598026" name="HBASE-7391_Lineremoval.patch" size="4266" author="ram_krish" created="Wed, 14 Aug 2013 18:40:36 +0000"/>
                            <attachment id="12597469" name="afterpatch1.png" size="318078" author="ram_krish" created="Mon, 12 Aug 2013 13:10:56 +0000"/>
                            <attachment id="12597470" name="afterpatch2.png" size="326984" author="ram_krish" created="Mon, 12 Aug 2013 13:10:56 +0000"/>
                            <attachment id="12597698" name="afterpatch3.png" size="304979" author="ram_krish" created="Tue, 13 Aug 2013 10:49:44 +0000"/>
                            <attachment id="12597471" name="beforepatch1.png" size="403261" author="ram_krish" created="Mon, 12 Aug 2013 13:10:56 +0000"/>
                            <attachment id="12597472" name="beforepatch2.png" size="400284" author="ram_krish" created="Mon, 12 Aug 2013 13:10:56 +0000"/>
                            <attachment id="12597699" name="beforepatch3.png" size="329467" author="ram_krish" created="Tue, 13 Aug 2013 10:49:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Apr 2013 20:15:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>300486</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i168lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244526</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>