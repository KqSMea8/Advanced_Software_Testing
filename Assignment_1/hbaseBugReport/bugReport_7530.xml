<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:46:38 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7530/HBASE-7530.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7530] [replication] Work around HDFS-4380 else we get NPEs</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7530</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I&apos;ve been spending a lot of time trying to figure the recent test failures related to replication. One I seem to be constantly getting is this NPE:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2013-01-09 10:08:56,912 ERROR [RegionServer:1;172.23.7.205,61604,1357754664830-EventThread.replicationSource,2] regionserver.ReplicationSource$1(727): Unexpected exception in ReplicationSource, currentPath=hdfs://localhost:61589/user/jdcryans/hbase/.logs/172.23.7.205,61604,1357754664830/172.23.7.205%2C61604%2C1357754664830.1357754936216
java.lang.NullPointerException
        at org.apache.hadoop.hdfs.DFSClient$DFSInputStream.updateBlockInfo(DFSClient.java:1885)
        at org.apache.hadoop.hdfs.DFSClient$DFSInputStream.openInfo(DFSClient.java:1858)
        at org.apache.hadoop.hdfs.DFSClient$DFSInputStream.&amp;lt;init&amp;gt;(DFSClient.java:1834)
        at org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:578)
        at org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:154)
        at org.apache.hadoop.fs.FilterFileSystem.open(FilterFileSystem.java:108)
        at org.apache.hadoop.io.SequenceFile$Reader.openFile(SequenceFile.java:1495)
        at org.apache.hadoop.hbase.regionserver.wal.SequenceFileLogReader$WALReader.openFile(SequenceFileLogReader.java:62)
        at org.apache.hadoop.io.SequenceFile$Reader.&amp;lt;init&amp;gt;(SequenceFile.java:1482)
        at org.apache.hadoop.io.SequenceFile$Reader.&amp;lt;init&amp;gt;(SequenceFile.java:1475)
        at org.apache.hadoop.io.SequenceFile$Reader.&amp;lt;init&amp;gt;(SequenceFile.java:1470)
        at org.apache.hadoop.hbase.regionserver.wal.SequenceFileLogReader$WALReader.&amp;lt;init&amp;gt;(SequenceFileLogReader.java:55)
        at org.apache.hadoop.hbase.regionserver.wal.SequenceFileLogReader.reset(SequenceFileLogReader.java:308)
        at org.apache.hadoop.hbase.replication.regionserver.ReplicationHLogReaderManager.openReader(ReplicationHLogReaderManager.java:69)
        at org.apache.hadoop.hbase.replication.regionserver.ReplicationSource.openReader(ReplicationSource.java:500)
        at org.apache.hadoop.hbase.replication.regionserver.ReplicationSource.run(ReplicationSource.java:312)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Talking to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tlipcon&quot; class=&quot;user-hover&quot; rel=&quot;tlipcon&quot;&gt;Todd Lipcon&lt;/a&gt;, he said it was likely fixed in Hadoop 2.0 via &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3222&quot; title=&quot;DFSInputStream#openInfo should not silently get the length as 0 when locations length is zero for last partial block.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-3222&quot;&gt;&lt;del&gt;HDFS-3222&lt;/del&gt;&lt;/a&gt; but for Hadoop 1.0 he created &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4380&quot; title=&quot;Opening a file for read before writer writes a block causes NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4380&quot;&gt;HDFS-4380&lt;/a&gt;. This seems to happen while crossing block boundaries and TestReplication uses a 20KB block size for the HLog. The intent was just to get HLogs to roll more often, and this can also be achieved with &lt;b&gt;hbase.regionserver.logroll.multiplier&lt;/b&gt; with a value of 0.0003f.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626998">HBASE-7530</key>
            <summary>[replication] Work around HDFS-4380 else we get NPEs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jan 2013 18:45:09 +0000</created>
                <updated>Wed, 13 Mar 2013 22:48:54 +0000</updated>
                            <resolved>Fri, 11 Jan 2013 00:54:30 +0000</resolved>
                                    <version>0.94.3</version>
                                    <fixVersion>0.94.5</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13549907" author="lhofhansl" created="Thu, 10 Jan 2013 18:48:52 +0000"  >&lt;p&gt;Interesting. Did this only start recently (which would be strange)?&lt;br/&gt;
This happens with larger blocksizes too, right? If so this should be critical.&lt;/p&gt;</comment>
                            <comment id="13549913" author="jdcryans" created="Thu, 10 Jan 2013 18:52:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; Not sure when it started happening, the code has changed on the HBase side but not on the Hadoop side so we should have seen this before. It should happen with larger block sizes too, just a few orders of magnitude less probable to happen than in does in TestReplication &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13549926" author="jdcryans" created="Thu, 10 Jan 2013 18:58:39 +0000"  >&lt;p&gt;The fix I proposed, I&apos;m currently testing it in a loop.&lt;/p&gt;</comment>
                            <comment id="13550583" author="stack" created="Fri, 11 Jan 2013 00:08:02 +0000"  >&lt;p&gt;I don&apos;t get what this change does.  Previous we had an explicit sizing.   This does explicit sizing too, right, by rolling at some multiple of current size?&lt;/p&gt;</comment>
                            <comment id="13550625" author="stack" created="Fri, 11 Jan 2013 00:44:26 +0000"  >&lt;p&gt;Off-line, J-D explained how previous we set block size at 20k.  This patch just has us roll at 20k.  Makes sense now.  +1&lt;/p&gt;</comment>
                            <comment id="13550642" author="jdcryans" created="Fri, 11 Jan 2013 00:54:30 +0000"  >&lt;p&gt;Committed to trunk and 0.94&lt;/p&gt;</comment>
                            <comment id="13550745" author="hudson" created="Fri, 11 Jan 2013 02:54:44 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3726 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3726/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3726/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7530&quot; title=&quot;[replication] Work around HDFS-4380 else we get NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7530&quot;&gt;&lt;del&gt;HBASE-7530&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; Work around &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4380&quot; title=&quot;Opening a file for read before writer writes a block causes NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4380&quot;&gt;HDFS-4380&lt;/a&gt; else we get NPEs&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7531&quot; title=&quot;[replication] NPE in SequenceFileLogReader because ReplicationSource doesn&amp;#39;t nullify the reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7531&quot;&gt;&lt;del&gt;HBASE-7531&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; NPE in SequenceFileLogReader because&lt;br/&gt;
            ReplicationSource doesn&apos;t nullify the reader&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7534&quot; title=&quot;[replication] TestReplication.queueFailover can fail because HBaseTestingUtility.createMultiRegions is dangerous&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7534&quot;&gt;&lt;del&gt;HBASE-7534&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; TestReplication.queueFailover can fail&lt;br/&gt;
            because HBaseTestingUtility.createMultiRegions is dangerous (Revision 1431768)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplication.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550750" author="hudson" created="Fri, 11 Jan 2013 02:57:25 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #342 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/342/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/342/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7530&quot; title=&quot;[replication] Work around HDFS-4380 else we get NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7530&quot;&gt;&lt;del&gt;HBASE-7530&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; Work around &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4380&quot; title=&quot;Opening a file for read before writer writes a block causes NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4380&quot;&gt;HDFS-4380&lt;/a&gt; else we get NPEs&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7531&quot; title=&quot;[replication] NPE in SequenceFileLogReader because ReplicationSource doesn&amp;#39;t nullify the reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7531&quot;&gt;&lt;del&gt;HBASE-7531&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; NPE in SequenceFileLogReader because&lt;br/&gt;
            ReplicationSource doesn&apos;t nullify the reader&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7534&quot; title=&quot;[replication] TestReplication.queueFailover can fail because HBaseTestingUtility.createMultiRegions is dangerous&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7534&quot;&gt;&lt;del&gt;HBASE-7534&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; TestReplication.queueFailover can fail&lt;br/&gt;
            because HBaseTestingUtility.createMultiRegions is dangerous (Revision 1431768)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplication.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550759" author="hudson" created="Fri, 11 Jan 2013 03:02:55 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #722 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/722/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/722/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7530&quot; title=&quot;[replication] Work around HDFS-4380 else we get NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7530&quot;&gt;&lt;del&gt;HBASE-7530&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; Work around &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4380&quot; title=&quot;Opening a file for read before writer writes a block causes NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4380&quot;&gt;HDFS-4380&lt;/a&gt; else we get NPEs&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7531&quot; title=&quot;[replication] NPE in SequenceFileLogReader because ReplicationSource doesn&amp;#39;t nullify the reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7531&quot;&gt;&lt;del&gt;HBASE-7531&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; NPE in SequenceFileLogReader because&lt;br/&gt;
            ReplicationSource doesn&apos;t nullify the reader&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7534&quot; title=&quot;[replication] TestReplication.queueFailover can fail because HBaseTestingUtility.createMultiRegions is dangerous&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7534&quot;&gt;&lt;del&gt;HBASE-7534&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; TestReplication.queueFailover can fail&lt;br/&gt;
            because HBaseTestingUtility.createMultiRegions is dangerous (Revision 1431769)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/replication/TestReplication.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13554236" author="hudson" created="Tue, 15 Jan 2013 19:40:20 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #95 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/95/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/95/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7530&quot; title=&quot;[replication] Work around HDFS-4380 else we get NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7530&quot;&gt;&lt;del&gt;HBASE-7530&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; Work around &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4380&quot; title=&quot;Opening a file for read before writer writes a block causes NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4380&quot;&gt;HDFS-4380&lt;/a&gt; else we get NPEs&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7531&quot; title=&quot;[replication] NPE in SequenceFileLogReader because ReplicationSource doesn&amp;#39;t nullify the reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7531&quot;&gt;&lt;del&gt;HBASE-7531&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; NPE in SequenceFileLogReader because&lt;br/&gt;
            ReplicationSource doesn&apos;t nullify the reader&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7534&quot; title=&quot;[replication] TestReplication.queueFailover can fail because HBaseTestingUtility.createMultiRegions is dangerous&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7534&quot;&gt;&lt;del&gt;HBASE-7534&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; TestReplication.queueFailover can fail&lt;br/&gt;
            because HBaseTestingUtility.createMultiRegions is dangerous (Revision 1431769)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/replication/TestReplication.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13570952" author="hudson" created="Tue, 5 Feb 2013 03:58:19 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #11 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/11/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/11/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7530&quot; title=&quot;[replication] Work around HDFS-4380 else we get NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7530&quot;&gt;&lt;del&gt;HBASE-7530&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; Work around &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4380&quot; title=&quot;Opening a file for read before writer writes a block causes NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4380&quot;&gt;HDFS-4380&lt;/a&gt; else we get NPEs&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7531&quot; title=&quot;[replication] NPE in SequenceFileLogReader because ReplicationSource doesn&amp;#39;t nullify the reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7531&quot;&gt;&lt;del&gt;HBASE-7531&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; NPE in SequenceFileLogReader because&lt;br/&gt;
            ReplicationSource doesn&apos;t nullify the reader&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7534&quot; title=&quot;[replication] TestReplication.queueFailover can fail because HBaseTestingUtility.createMultiRegions is dangerous&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7534&quot;&gt;&lt;del&gt;HBASE-7534&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; TestReplication.queueFailover can fail&lt;br/&gt;
            because HBaseTestingUtility.createMultiRegions is dangerous (Revision 1431769)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/replication/TestReplication.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13599339" author="davelatham" created="Mon, 11 Mar 2013 21:29:54 +0000"  >&lt;p&gt;We&apos;ve been running replication in production and saw this NPE happen on a few region servers over the weekend.  Are there any recommended workarounds?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12636885">HBASE-8096</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12564226" name="HBASE-7530.patch" size="975" author="jdcryans" created="Thu, 10 Jan 2013 18:58:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Jan 2013 18:48:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17dq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>