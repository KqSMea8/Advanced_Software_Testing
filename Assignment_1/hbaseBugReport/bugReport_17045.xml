<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:20:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-17045/HBASE-17045.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-17045] Unify the implementation of small scan and regular scan</title>
                <link>https://issues.apache.org/jira/browse/HBASE-17045</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;&apos;s comment in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-16838&quot; title=&quot;Implement basic scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-16838&quot;&gt;&lt;del&gt;HBASE-16838&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-16838?focusedCommentId=15637803&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15637803&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-16838?focusedCommentId=15637803&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15637803&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But there is another scenario that we need small scan is that, we do not know the stop row but we only want a small set of results. For example, in the implementation of region locator, we will use small scan and set caching to 1 as we only need one row.&lt;/p&gt;

&lt;p&gt;So I think we need to add a new option(maybe called limit?) for the scan object, and deprecate the small option. And the server side modification should also be committed to branch-1 to simplify the logic of async client in 2.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13019083">HBASE-17045</key>
            <summary>Unify the implementation of small scan and regular scan</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="13012229">HBASE-16833</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Apache9">Duo Zhang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Nov 2016 02:25:49 +0000</created>
                <updated>Fri, 11 Nov 2016 04:20:59 +0000</updated>
                                            <version>2.0.0</version>
                    <version>1.4.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Client</component>
                    <component>scan</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="15646221" author="enis" created="Tue, 8 Nov 2016 02:34:47 +0000"  >&lt;p&gt;Thanks Duo for creating the issue. Let me copy-paste for context: &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I understand the reason why we want to avoid 3 RPCs per scan if the scan is really small, but I think we should have made it so that ALL scans are saving RPCs, and becomes a &quot;small&quot; scan automatically without the client using a different API or Scan.setSmall().&lt;br/&gt;
There is no reason for regular scans to have openScan() and next() calls separately. We can easily make it so that Scanner open will return the next set of batch results. And we can make it so that the region server at the end of the scan when the region is exhausted automatically close the scanner before returning and give the results back to the client. So, for a &quot;small&quot; scan, the first RPC will open the results, and fetch all the results in the batch and return by closing the scanner in a single RPC automatically. What do you guys think? &lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="15646605" author="stack" created="Tue, 8 Nov 2016 05:50:15 +0000"  >&lt;p&gt;Appreciate the reminder that just because we did it one way in synchronous Scan implementation doesn&apos;t mean we have to repeat in new async Scan.&lt;/p&gt;</comment>
                            <comment id="15646623" author="apache9" created="Tue, 8 Nov 2016 06:01:50 +0000"  >&lt;p&gt;Our async client is marked as Unstable so I think it is OK to change the interface later as now the region locator depends on smallScan...&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13012237">HBASE-16838</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Nov 2016 02:34:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i361pb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>