<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:53:46 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8285/HBASE-8285.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8285] HBaseClient never recovers for single HTable.get() calls with no retries when regions move</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8285</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Steps to reproduce this bug:&lt;br/&gt;
1) Gracefull restart a region server causing regions to get redistributed.&lt;br/&gt;
2) Client call to this region keeps failing since Meta Cache is never purged on the client for the region that moved.&lt;/p&gt;

&lt;p&gt;Reason behind the bug:&lt;br/&gt;
1) Client continues to hit the old region server.&lt;br/&gt;
2) The old region server throws NotServingRegionException which is not handled correctly and the META cache entries are never purged for that server causing the client to keep hitting the old server.&lt;/p&gt;

&lt;p&gt;The reason lies in ServerCallable code since we only purge META cache entries when there is a RetriesExhaustedException, SocketTimeoutException or ConnectException. However, there is no case check for NotServingRegionException(s).&lt;/p&gt;

&lt;p&gt;Why is this not a problem for Scan(s) and Put(s) ?&lt;/p&gt;

&lt;p&gt;a) If a region server is not hosting a region/scanner, then an UnknownScannerException is thrown which causes a relocateRegion() call causing a refresh of the META cache for that particular region.&lt;br/&gt;
b) For put(s), the processBatchCallback() interface in HConnectionManager is used which clears out META cache entries for all kinds of exceptions except DoNotRetryException.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641213">HBASE-8285</key>
            <summary>HBaseClient never recovers for single HTable.get() calls with no retries when regions move</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="varunsharma">Varun Sharma</assignee>
                                    <reporter username="varunsharma">Varun Sharma</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Apr 2013 20:36:24 +0000</created>
                <updated>Sat, 27 Apr 2013 15:55:20 +0000</updated>
                            <resolved>Mon, 15 Apr 2013 20:49:46 +0000</resolved>
                                    <version>0.94.6.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.94.7</fixVersion>
                    <fixVersion>0.95.1</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="13624494" author="hadoopqa" created="Sat, 6 Apr 2013 21:03:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12577392/8285-0.94.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12577392/8285-0.94.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5162//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5162//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13624495" author="yuzhihong@gmail.com" created="Sat, 6 Apr 2013 21:04:32 +0000"  >&lt;p&gt;Nice analysis, Varun.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void clearCaches(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ServerName serverName){
...
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (serverName.equals(e.getValue().getServerName())) {
              tableLocations.remove(e.getKey());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We clear all entries on the server (serverName) regardless of region.&lt;/p&gt;

&lt;p&gt;location contains region information. When NotServingRegionException happens, should we just clear entries for that region ?&lt;/p&gt;

&lt;p&gt;BTW 0.94 patch was more recent than trunk patch. Hadoop QA is down. When it comes back up, 0.94 patch would be picked up.&lt;/p&gt;</comment>
                            <comment id="13624499" author="varunsharma" created="Sat, 6 Apr 2013 21:10:50 +0000"  >&lt;p&gt;I don&apos;t see an API to clear a specific region here. We might consider adding one...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HConnection.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HConnection.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I make this mistake of attaching in the wrong order all the time. Should I remove attachements and reattach ?&lt;/p&gt;

&lt;p&gt;Varun&lt;/p&gt;</comment>
                            <comment id="13624501" author="yuzhihong@gmail.com" created="Sat, 6 Apr 2013 21:15:42 +0000"  >&lt;p&gt;I think we should add another API - this should be feasible for 0.95 / trunk.&lt;br/&gt;
For 0.94, please run test suite based on your 0.94 patch yourself.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Should I remove attachements and reattach ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Please attach new version of trunk patch.&lt;/p&gt;</comment>
                            <comment id="13624502" author="varunsharma" created="Sat, 6 Apr 2013 21:17:23 +0000"  >&lt;p&gt;Actually, I think should use relocateRegion() API, lemme update this...&lt;/p&gt;</comment>
                            <comment id="13624590" author="lhofhansl" created="Sun, 7 Apr 2013 02:13:05 +0000"  >&lt;p&gt;Wow, really?! That seems so core to HBase that is almost unbelievable that this would have gone undetected for so long!&lt;/p&gt;</comment>
                            <comment id="13624608" author="yuzhihong@gmail.com" created="Sun, 7 Apr 2013 03:23:47 +0000"  >&lt;p&gt;@Varun:&lt;br/&gt;
If you can add a test case to show this scenario, that would be great.&lt;/p&gt;</comment>
                            <comment id="13624625" author="varunsharma" created="Sun, 7 Apr 2013 03:55:10 +0000"  >&lt;p&gt;Are there mocks for the region server or HRegion interface - wondering if there is a way to write an end to end test for this ?&lt;/p&gt;

&lt;p&gt;Thanks !&lt;/p&gt;</comment>
                            <comment id="13624627" author="yuzhihong@gmail.com" created="Sun, 7 Apr 2013 04:00:35 +0000"  >&lt;p&gt;Take a look at TestRegionSplitPolicy#setupMocks() for how mockRegion is set up.&lt;br/&gt;
Also refer to MockRegionServerServices.java&lt;/p&gt;</comment>
                            <comment id="13625173" author="ram_krish" created="Mon, 8 Apr 2013 05:53:40 +0000"  >&lt;p&gt;In ServerCallable() once on receiving NSRE, when we retry don&apos;t we relocate the region inside connect(tries != 0);?&lt;/p&gt;

</comment>
                            <comment id="13625205" author="varunsharma" created="Mon, 8 Apr 2013 07:15:55 +0000"  >&lt;p&gt;Thanks for bringing this up ram.&lt;/p&gt;

&lt;p&gt;But we run with retries=1 and the retry logic is left to the caller. I guess that is why this was undetected for so long - with retries=1, everything else works but stuff going through ServerCallable does not. I guess its still worth fixing this for retries == 1 since connect(tries != 0) never executes in such a scenario ?&lt;/p&gt;

&lt;p&gt;What do you think ?&lt;/p&gt;</comment>
                            <comment id="13625242" author="nkeywal" created="Mon, 8 Apr 2013 09:15:31 +0000"  >&lt;p&gt;I think we should not clear the cache for the whole region server (at least; it was not the initial intend), but only the one for this region. If not, we may add a workload on .meta. And ideally we should take into account the RegionMovedException (a subclass of NotServingRegionException) that was added in trunk... Can make the patch a little bit complex, as we should have the same logic as in processBatchCallback (hopefully it&apos;s possible to reuse some code). Imho, if necessary, we can split this jira in two (one for NotServingRegionException one for RegionMovedException).&lt;/p&gt;</comment>
                            <comment id="13625288" author="ram_krish" created="Mon, 8 Apr 2013 11:21:12 +0000"  >&lt;p&gt;@Varun&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;everything else works but stuff going through ServerCallable does not.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Where is the retries becoming 1 here.  Sorry am not getting that &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;br/&gt;
If this has to be fixed its better to handle what N says here.&lt;/p&gt;

</comment>
                            <comment id="13625485" author="varunsharma" created="Mon, 8 Apr 2013 15:58:10 +0000"  >&lt;p&gt;@Ram,&lt;/p&gt;

&lt;p&gt;Consider the retries:&lt;/p&gt;

&lt;p&gt;1) Try #1&lt;/p&gt;

&lt;p&gt;connect(retries != 0) is called which is the same as connect(reload=false). This is passed to relocateRegion() function, meaning that already available cache entries are utilized.&lt;/p&gt;

&lt;p&gt;2) Try #2&lt;/p&gt;

&lt;p&gt;connect(reload=true) is called, refreshing the cache correctly.&lt;/p&gt;

&lt;p&gt;These retries come from hbase.client.retries (something like that) entry in the hbase-site.xml&lt;br/&gt;
This entry for most scenarios is greater than 1, so issue has not been widely detected. In our setup, we run with retries=1 since the retry logic is loaded into the app layer. Hence step #2 above never called and hence connect(reload=true) is also never called.&lt;/p&gt;

&lt;p&gt;So, I think we need a check like this:&lt;/p&gt;

&lt;p&gt;Check for (NSRE and that this is the 1st retry) (if (yes) relocate the specific region instead of relocating everything like Nicholas said)&lt;/p&gt;

&lt;p&gt;Does this make sense ?&lt;/p&gt;</comment>
                            <comment id="13625496" author="varunsharma" created="Mon, 8 Apr 2013 16:09:02 +0000"  >&lt;p&gt;For Nicholas&apos; comment - prefer to handle RegionMovedException in a separate JIRA since that is trunk specific and does not apply to 0.94, as far as i know...&lt;/p&gt;</comment>
                            <comment id="13625502" author="nkeywal" created="Mon, 8 Apr 2013 16:14:30 +0000"  >&lt;p&gt;Ok, I&apos;ve created the JIRA. It would be great if you can take care of it. If not, I will try to do it (later...)&lt;/p&gt;</comment>
                            <comment id="13625503" author="yuzhihong@gmail.com" created="Mon, 8 Apr 2013 16:15:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;if (yes) relocate the specific region instead of relocating everything&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;handle RegionMovedException in a separate JIRA&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1: backporting RegionMovedException is not trivial&lt;/p&gt;</comment>
                            <comment id="13625583" author="yuzhihong@gmail.com" created="Mon, 8 Apr 2013 17:39:15 +0000"  >&lt;p&gt;Patch looks good.&lt;/p&gt;</comment>
                            <comment id="13625655" author="hadoopqa" created="Mon, 8 Apr 2013 18:45:29 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12577575/8285-trunk-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12577575/8285-trunk-v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestTableLockManager&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5188//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13625765" author="varunsharma" created="Mon, 8 Apr 2013 20:24:51 +0000"  >&lt;p&gt;Both the above tests pass locally when I ran them individually using mvn test -Dtest=TestTableLockManager/TestHFileOutputFormat. Running the 0.94 tests now.&lt;/p&gt;

&lt;p&gt;Is a test case, still required ? The fact that hbase.client.retries==1 is the only scenario where this call fails, probably explains why it has gone undetected for so long.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Varun&lt;/p&gt;</comment>
                            <comment id="13625819" author="lhofhansl" created="Mon, 8 Apr 2013 21:12:43 +0000"  >&lt;p&gt;I finally understand the problem. So what you want to happen is that the first time the region has moved it is OK for the Get to fail, as long as it succeeds if you try again.&lt;/p&gt;

&lt;p&gt;Patch makes sense, even though this is a bit of an exotic usecase. Can&apos;t you just try twice with a short timeout?&lt;/p&gt;

&lt;p&gt;Also &quot;re-tries&quot; is misnamed. If set to 1 we only try once (we don&apos;t try and then retry once). If set to 0, we don&apos;t try at all. Should be called &quot;tries&quot;, but anyway, we&apos;re not going to change that.&lt;/p&gt;

&lt;p&gt;+1 on patch&lt;/p&gt;</comment>
                            <comment id="13625851" author="yuzhihong@gmail.com" created="Mon, 8 Apr 2013 21:31:48 +0000"  >&lt;p&gt;+1 from me as well.&lt;/p&gt;

&lt;p&gt;This issue reveals an important issue that we should fix.&lt;/p&gt;

&lt;p&gt;I ran the two failed tests with patch and they passed.&lt;/p&gt;</comment>
                            <comment id="13625855" author="varunsharma" created="Mon, 8 Apr 2013 21:36:47 +0000"  >&lt;p&gt;A lot of our hbase traffic runs through proxies and instead of having the proxies retry, we retry at the application layer which sends traffic to these proxies.&lt;/p&gt;

&lt;p&gt;I think this patch aligns a few things which were rather surprising like:&lt;br/&gt;
1) With &lt;span class=&quot;error&quot;&gt;&amp;#91;re&amp;#93;&lt;/span&gt;tries set to 1, singlular Get call recovers from ConnectException, SocketTimeoutException which is when the server fails but does not recover from moving regions/region splits etc.&lt;br/&gt;
2) With &lt;span class=&quot;error&quot;&gt;&amp;#91;re&amp;#93;&lt;/span&gt;tries set to 1, all calls including multiput, put, scan and even multi&lt;span class=&quot;error&quot;&gt;&amp;#91;get&amp;#93;&lt;/span&gt; can easily handle moving regions and NotServingRegionException but singlular Get call cannot.&lt;/p&gt;

&lt;p&gt;The client gets locked into a stale META cache forever for the HTable.get(Get get) API while all other APIs work great.&lt;/p&gt;

&lt;p&gt;IMHO, this seems pretty inconsistent behaviour and its worth fixing it...&lt;/p&gt;</comment>
                            <comment id="13626110" author="sershe" created="Tue, 9 Apr 2013 02:00:39 +0000"  >&lt;p&gt;Would it make more sense to clear the cache instead of reloading it? This call will not be retrying anyway so the cache record may not be necessary. The next call can load it.&lt;/p&gt;</comment>
                            <comment id="13626115" author="yuzhihong@gmail.com" created="Tue, 9 Apr 2013 02:08:22 +0000"  >&lt;p&gt;I made same suggestion earlier:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8285?focusedCommentId=13624495&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13624495&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-8285?focusedCommentId=13624495&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13624495&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13626254" author="lhofhansl" created="Tue, 9 Apr 2013 05:37:44 +0000"  >&lt;p&gt;We would need to expose deleteCachedLocation through HConnection.&lt;/p&gt;</comment>
                            <comment id="13627117" author="varunsharma" created="Tue, 9 Apr 2013 21:09:46 +0000"  >&lt;p&gt;sergey,&lt;/p&gt;

&lt;p&gt;As Ted and Lars mentioned, we would need to expose deleteCachedLocation to clear out specific regions from HConnection interface. That would be nice to have. Curently we can:&lt;br/&gt;
1) Reload a region&lt;br/&gt;
2) Clear caches for the server.&lt;/p&gt;

&lt;p&gt;Should we be doing that fix in a separate JIRA or this JIRA ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Varun&lt;/p&gt;</comment>
                            <comment id="13627143" author="sershe" created="Tue, 9 Apr 2013 21:30:40 +0000"  >&lt;p&gt;we can expose clearing the caches for a region, should not be much different from how forcing reload of a region is exposed&lt;/p&gt;</comment>
                            <comment id="13627179" author="lhofhansl" created="Tue, 9 Apr 2013 22:02:11 +0000"  >&lt;p&gt;I agree. Let&apos;s do that as part of this patch. Alternatively we can file a separate jira to add this method to HConnection.&lt;/p&gt;

&lt;p&gt;A client that would use that API would no longer be backward compatible (i.e. if a client compiled against a version of the HBase that has this exposed uses the new method it can no longer be used with an older jar of HBase, but I think that is OK even for 0.94 - just mentioning it here so it is conscious decision).&lt;/p&gt;</comment>
                            <comment id="13627501" author="ram_krish" created="Wed, 10 Apr 2013 05:30:19 +0000"  >&lt;p&gt;I now got why this exception happens in your scenario.  +1 on patch.&lt;/p&gt;</comment>
                            <comment id="13628450" author="varunsharma" created="Wed, 10 Apr 2013 23:42:29 +0000"  >&lt;p&gt;Attached patched with new API for 0.94, if it looks good, will work on a similar patch for trunk&lt;/p&gt;</comment>
                            <comment id="13628461" author="yuzhihong@gmail.com" created="Wed, 10 Apr 2013 23:52:56 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          &lt;span class=&quot;code-comment&quot;&gt;// Reload &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; specific region into META cache since we don&apos;t call
&lt;/span&gt;+          &lt;span class=&quot;code-comment&quot;&gt;// connect(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) and hence &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; not refresh the META cache.
&lt;/span&gt;+          getConnection().deleteCachedRegionLocation(tableName, location);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looks like comment doesn&apos;t match updated code.&lt;/p&gt;

&lt;p&gt;Thinking about backward compatibility, since ServerCallable.java and HConnectionManager.java are packaged in the same jar, patch v3 should be Okay - new client would manage its cache better.&lt;/p&gt;

&lt;p&gt;Of course, binary compatibility is not maintained.&lt;/p&gt;</comment>
                            <comment id="13628462" author="hadoopqa" created="Wed, 10 Apr 2013 23:53:16 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12578112/8285-0.94-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12578112/8285-0.94-v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5253//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5253//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13628482" author="lhofhansl" created="Thu, 11 Apr 2013 00:16:58 +0000"  >&lt;p&gt;Why can&apos;t we just add deleteCachedLocation to HConnection (and make it public in HConnectionImplementation) and use it unchanged? We know the row already.&lt;/p&gt;</comment>
                            <comment id="13628701" author="varunsharma" created="Thu, 11 Apr 2013 05:56:18 +0000"  >&lt;p&gt;We could but we know the region location already. So we can simply remove the region location from the cache. On the other hand, deleteCachedLocation will first go from &quot;row&quot;-&amp;gt;&quot;region_location&quot; and then remove the location. We already know the &quot;region_location&quot;, in this case.&lt;/p&gt;</comment>
                            <comment id="13629119" author="lhofhansl" created="Thu, 11 Apr 2013 17:08:55 +0000"  >&lt;p&gt;Fair enough. Let&apos;s get this in. +1&lt;/p&gt;</comment>
                            <comment id="13629128" author="yuzhihong@gmail.com" created="Thu, 11 Apr 2013 17:15:52 +0000"  >&lt;p&gt;@Lars:&lt;br/&gt;
Can you clarify your +1 is on trunk patch v1 or v2 ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13629133" author="varunsharma" created="Thu, 11 Apr 2013 17:21:44 +0000"  >&lt;p&gt;I attached v4 for 0.94 with Nicholas&apos; comment incorporated into it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt; - I still need make similar changes for trunk and attach a patch. Will do that today...&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Varun&lt;/p&gt;</comment>
                            <comment id="13629136" author="hadoopqa" created="Thu, 11 Apr 2013 17:23:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12578242/8285-0.94-v4.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12578242/8285-0.94-v4.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5267//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5267//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13629188" author="yuzhihong@gmail.com" created="Thu, 11 Apr 2013 18:12:10 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void deleteCachedRegionLocation(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] tableName,
+      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HRegionLocation location);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;HRegionLocation contains HRegionInfo which has this method:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] getTableName() {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Do we need tableName parameter in deleteCachedRegionLocation() ?&lt;/p&gt;</comment>
                            <comment id="13629430" author="varunsharma" created="Thu, 11 Apr 2013 21:37:17 +0000"  >&lt;p&gt;That is a good point, Ted.&lt;/p&gt;

&lt;p&gt;I uploaded a version which does that for 0.94..&lt;/p&gt;

&lt;p&gt;Varun&lt;/p&gt;</comment>
                            <comment id="13629434" author="hadoopqa" created="Thu, 11 Apr 2013 21:42:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12578284/8285-0.94-v5.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12578284/8285-0.94-v5.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5274//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5274//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13629435" author="lhofhansl" created="Thu, 11 Apr 2013 21:43:20 +0000"  >&lt;p&gt;+1 on 0.94-v5. Need to do the same for trunk (unless we&apos;re still entertaining using RegionMovedException there)&lt;/p&gt;</comment>
                            <comment id="13629609" author="yuzhihong@gmail.com" created="Fri, 12 Apr 2013 00:04:41 +0000"  >&lt;p&gt;Minor comment for patch v5:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; there&apos;s something in the cache &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; table.
&lt;/span&gt;+          tableLocations.remove(location.getRegionInfo().getStartKey());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&apos;for this table&apos; -&amp;gt; &apos;for this region&apos;&lt;/p&gt;

&lt;p&gt;Can you add a check for the (previous) value returned from remove() and only log the DEBUG message if the value is not null ?&lt;/p&gt;</comment>
                            <comment id="13630906" author="varunsharma" created="Sat, 13 Apr 2013 03:07:24 +0000"  >&lt;p&gt;Attached v6 for 0.94 with Ted&apos;s last comment incorporated..&lt;/p&gt;</comment>
                            <comment id="13630915" author="hadoopqa" created="Sat, 13 Apr 2013 03:13:03 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12578576/8285-0.94-v6.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12578576/8285-0.94-v6.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5306//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5306//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13630937" author="lhofhansl" created="Sat, 13 Apr 2013 04:55:30 +0000"  >&lt;p&gt;Looks good Varun. I&apos;ll commit as soon as we have a matching trunk/0.95 patch.&lt;/p&gt;</comment>
                            <comment id="13631509" author="lhofhansl" created="Mon, 15 Apr 2013 05:19:17 +0000"  >&lt;p&gt;You gonna make a new trunk patch Varun? Otherwise I&apos;ll see if I have time, or move it to 0.94.8.&lt;/p&gt;</comment>
                            <comment id="13631518" author="varunsharma" created="Mon, 15 Apr 2013 05:45:58 +0000"  >&lt;p&gt;I attached a matching trunk/0.95 patch...&lt;/p&gt;</comment>
                            <comment id="13631542" author="hadoopqa" created="Mon, 15 Apr 2013 06:56:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12578678/8285-trunk-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12578678/8285-trunk-v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5310//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13632017" author="lhofhansl" created="Mon, 15 Apr 2013 18:47:52 +0000"  >&lt;p&gt;Looks good. Going to commit in a few unless I hear objections.&lt;/p&gt;</comment>
                            <comment id="13632173" author="lhofhansl" created="Mon, 15 Apr 2013 20:49:46 +0000"  >&lt;p&gt;Committed to 0.94, 0.95, and 0.98.&lt;/p&gt;</comment>
                            <comment id="13632517" author="hudson" created="Tue, 16 Apr 2013 02:53:22 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #961 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/961/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/961/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8285&quot; title=&quot;HBaseClient never recovers for single HTable.get() calls with no retries when regions move&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8285&quot;&gt;&lt;del&gt;HBASE-8285&lt;/del&gt;&lt;/a&gt; HBaseClient never recovers for single HTable.get() calls with no retries when regions move (Varun Sharma) (Revision 1468218)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/ServerCallable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13632560" author="hudson" created="Tue, 16 Apr 2013 04:52:15 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #4066 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4066/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4066/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8285&quot; title=&quot;HBaseClient never recovers for single HTable.get() calls with no retries when regions move&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8285&quot;&gt;&lt;del&gt;HBASE-8285&lt;/del&gt;&lt;/a&gt; HBaseClient never recovers for single HTable.get() calls with no retries when regions move (Varun Sharma) (Revision 1468221)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ServerCallable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13632676" author="hudson" created="Tue, 16 Apr 2013 09:03:42 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #70 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/70/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/70/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8285&quot; title=&quot;HBaseClient never recovers for single HTable.get() calls with no retries when regions move&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8285&quot;&gt;&lt;del&gt;HBASE-8285&lt;/del&gt;&lt;/a&gt; HBaseClient never recovers for single HTable.get() calls with no retries when regions move (Varun Sharma) (Revision 1468219)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ServerCallable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13632684" author="hudson" created="Tue, 16 Apr 2013 09:14:05 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #149 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/149/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/149/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8285&quot; title=&quot;HBaseClient never recovers for single HTable.get() calls with no retries when regions move&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8285&quot;&gt;&lt;del&gt;HBASE-8285&lt;/del&gt;&lt;/a&gt; HBaseClient never recovers for single HTable.get() calls with no retries when regions move (Varun Sharma) (Revision 1468219)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ServerCallable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13632709" author="hudson" created="Tue, 16 Apr 2013 09:44:44 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #137 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/137/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/137/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8285&quot; title=&quot;HBaseClient never recovers for single HTable.get() calls with no retries when regions move&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8285&quot;&gt;&lt;del&gt;HBASE-8285&lt;/del&gt;&lt;/a&gt; HBaseClient never recovers for single HTable.get() calls with no retries when regions move (Varun Sharma) (Revision 1468218)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/ServerCallable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13632736" author="hudson" created="Tue, 16 Apr 2013 10:35:56 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #500 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/500/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/500/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8285&quot; title=&quot;HBaseClient never recovers for single HTable.get() calls with no retries when regions move&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8285&quot;&gt;&lt;del&gt;HBASE-8285&lt;/del&gt;&lt;/a&gt; HBaseClient never recovers for single HTable.get() calls with no retries when regions move (Varun Sharma) (Revision 1468221)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ServerCallable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12641388">HBASE-8291</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12577574" name="8285-0.94-v2.txt" size="1351" author="varunsharma" created="Mon, 8 Apr 2013 17:30:43 +0000"/>
                            <attachment id="12578112" name="8285-0.94-v3.txt" size="4455" author="varunsharma" created="Wed, 10 Apr 2013 23:41:41 +0000"/>
                            <attachment id="12578242" name="8285-0.94-v4.txt" size="4460" author="varunsharma" created="Thu, 11 Apr 2013 17:20:36 +0000"/>
                            <attachment id="12578284" name="8285-0.94-v5.txt" size="4392" author="varunsharma" created="Thu, 11 Apr 2013 21:37:33 +0000"/>
                            <attachment id="12578576" name="8285-0.94-v6.txt" size="4476" author="varunsharma" created="Sat, 13 Apr 2013 03:06:56 +0000"/>
                            <attachment id="12577392" name="8285-0.94.txt" size="1208" author="varunsharma" created="Sat, 6 Apr 2013 20:43:04 +0000"/>
                            <attachment id="12578677" name="8285-0.95.txt" size="3879" author="varunsharma" created="Mon, 15 Apr 2013 05:44:39 +0000"/>
                            <attachment id="12577575" name="8285-trunk-v2.txt" size="1458" author="varunsharma" created="Mon, 8 Apr 2013 17:30:56 +0000"/>
                            <attachment id="12578678" name="8285-trunk-v3.txt" size="3879" author="varunsharma" created="Mon, 15 Apr 2013 05:45:10 +0000"/>
                            <attachment id="12577391" name="8285-trunk.txt" size="1254" author="varunsharma" created="Sat, 6 Apr 2013 20:42:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 6 Apr 2013 21:03:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321629</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jhrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>