<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:36:29 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12789/HBASE-12789.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12789] TestCacheOnWrite#testStoreFileCacheOnWrite sometimes fails with HFileBlock cached assertion failure</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12789</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Since cacheOnWrite is INDEX_BLOCKS, ENCODED_DATA or DATA blocks should not be cached (shouldBeCached: false) but are still being cached (isCached: true).&lt;br/&gt;
I have also seen this happening when cacheOnWrite is BLOOM_BLOCKS.&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5980/testReport/junit/org.apache.hadoop.hbase.io.hfile/TestCacheOnWrite/testStoreFileCacheOnWrite_106_/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5980/testReport/junit/org.apache.hadoop.hbase.io.hfile/TestCacheOnWrite/testStoreFileCacheOnWrite_106_/&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.AssertionError: shouldBeCached: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
isCached: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
Test description: [cacheOnWrite=INDEX_BLOCKS, compress=GZ, encoderType=BLOCK_ENCODING_EVERYWHERE, cacheCompressedData=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;]
block: HFileBlock [ fileOffset=12046 headerSize()=33 blockType=ENCODED_DATA onDiskSizeWithoutHeader=1325 uncompressedSizeWithoutHeader=1591 prevBlockOffset=10457 isUseHBaseChecksum()=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; checksumType=NULL bytesPerChecksum=512 onDiskDataSizeWithHeader=1346 getOnDiskSizeWithHeader()=1358 totalChecksumBytes()=12 isUnpacked()=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; buf=[ java.nio.HeapByteBuffer[pos=0 lim=1636 cap=1669] ] dataBeginsWith=\x00\x02\x00\x00\x08N.\x1D\x00\x00 aaaaaaaaaaaaaaaaaaaaa fileContext=HFileContext [ usesHBaseChecksum=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; checksumType=NULL bytesPerChecksum=512 blocksize=65536 encoding=NONE includesMvcc=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; includesTags=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; compressAlgo=NONE compressTags=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; cryptoContext=[ cipher=NONE keyHash=NONE ] ] ]
encodingInCache: PREFIX
blockCacheKey: bfdf56eb18464371a17ed05500e189d6_12046
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.apache.hadoop.hbase.io.hfile.TestCacheOnWrite.readStoreFile(TestCacheOnWrite.java:285)
	at org.apache.hadoop.hbase.io.hfile.TestCacheOnWrite.testStoreFileCacheOnWriteInternals(TestCacheOnWrite.java:244)
	at org.apache.hadoop.hbase.io.hfile.TestCacheOnWrite.testStoreFileCacheOnWrite(TestCacheOnWrite.java:239)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12764326">HBASE-12789</key>
            <summary>TestCacheOnWrite#testStoreFileCacheOnWrite sometimes fails with HFileBlock cached assertion failure</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Dec 2014 01:03:35 +0000</created>
                <updated>Thu, 21 May 2015 22:42:11 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14261765" author="stack" created="Wed, 31 Dec 2014 01:20:00 +0000"  >&lt;p&gt;Copy/paste of our build box output with no input.&lt;/p&gt;</comment>
                            <comment id="14261826" author="yuzhihong@gmail.com" created="Wed, 31 Dec 2014 02:45:28 +0000"  >&lt;p&gt;The test failed here too:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/734/testReport/junit/org.apache.hadoop.hbase.io.hfile/TestCacheOnWrite/testStoreFileCacheOnWrite_105_/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/734/testReport/junit/org.apache.hadoop.hbase.io.hfile/TestCacheOnWrite/testStoreFileCacheOnWrite_105_/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14555179" author="appy" created="Thu, 21 May 2015 22:38:47 +0000"  >&lt;p&gt;Reopening. Updating description.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 31 Dec 2014 01:20:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23vcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>