<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:05:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9501/HBASE-9501.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9501] Provide throttling for replication</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9501</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When we disable a peer for a time of period, and then enable it, the ReplicationSource in master cluster will push the accumulated hlog entries during the disabled interval to the re-enabled peer cluster at full speed.&lt;/p&gt;

&lt;p&gt;If the bandwidth of the two clusters is shared by different applications, the push at full speed for replication can use all the bandwidth and severely influence other applications.&lt;/p&gt;

&lt;p&gt;Though there are two config replication.source.size.capacity and replication.source.nb.capacity to tweak the batch size each time a push delivers, but if decrease these two configs, the number of pushes increase, and all these pushes proceed continuously without pause. And no obvious help for the bandwidth throttling.&lt;/p&gt;

&lt;p&gt;From bandwidth-sharing and push-speed perspective, it&apos;s more reasonable to provide a bandwidth up limit for each peer push channel, and within that limit, peer can choose a big batch size for each push for bandwidth efficiency.&lt;/p&gt;

&lt;p&gt;Any opinion?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668014">HBASE-9501</key>
            <summary>Provide throttling for replication</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fenghh">Honghua Feng</assignee>
                                    <reporter username="fenghh">Honghua Feng</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Sep 2013 09:59:07 +0000</created>
                <updated>Sat, 21 Feb 2015 23:29:51 +0000</updated>
                            <resolved>Tue, 11 Feb 2014 00:59:56 +0000</resolved>
                                                    <fixVersion>0.98.1</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>Replication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13764221" author="jmspaggi" created="Wed, 11 Sep 2013 11:29:57 +0000"  >&lt;p&gt;I like the idea. It&apos;s like in HDFS, there is some throttle option for the under replicated blocks replication...&lt;/p&gt;</comment>
                            <comment id="13764508" author="ndimiduk" created="Wed, 11 Sep 2013 17:15:09 +0000"  >&lt;p&gt;Having the option available to the user sounds reasonable.&lt;/p&gt;

&lt;p&gt;Interesting question arrises: is it the responsibility of a networked component to be a good citizen in the network, or is it up to the network to manage its citizens for QoS concerns?&lt;/p&gt;</comment>
                            <comment id="13766954" author="jdcryans" created="Fri, 13 Sep 2013 21:10:13 +0000"  >&lt;p&gt;What Nick said, also per-RS metrics like this don&apos;t take into account HBase&apos;s elastic nature... although to be fair the clusters don&apos;t tend wildly vary in size as they are running either.&lt;/p&gt;

&lt;p&gt;+1 if it&apos;s not too invasive, should just be a simple method call right?&lt;/p&gt;</comment>
                            <comment id="13768275" author="fenghh" created="Mon, 16 Sep 2013 12:21:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt; : If we need to maintain the HBase&apos;s elastic nature here, we need to maintain a current bandwidth usage in central point(master/zk) for overall bandwidth controlling. For simplicity, and since replication.source.size.capacity and replication.source.nb.capacity are also per-RS config(more strictly per-peer+per_RS), we can provide another per-RS config to throttle the up-limit of bandwidth. And I think it won&apos;t be much complex.&lt;/p&gt;

&lt;p&gt;If no objection, I&apos;ll provide a patch accordingly.&lt;/p&gt;</comment>
                            <comment id="13877436" author="fenghh" created="Tue, 21 Jan 2014 12:58:13 +0000"  >&lt;p&gt;trunk patch attached&lt;/p&gt;</comment>
                            <comment id="13879820" author="fenghh" created="Thu, 23 Jan 2014 10:14:51 +0000"  >&lt;p&gt;as this jira&apos;s description says, this feature is to prevent replication from congesting the source-peer network channel which can occur after a peer is enabled after some time disabling and it will pushes the accumulated hlog entries to peer cluster at full speed. such full-speed push without any throttling can influence other applications which share the same cluster-cluster bandwidth.&lt;/p&gt;

&lt;p&gt;some notes about the trunk patch:&lt;br/&gt;
1. throttling cycle is 100ms, within each cycle the push size from a single source node can&apos;t exceeds (perPeerNodeBandwidth/10), unit of perPeerNodeBandwidth is bytes per second.&lt;br/&gt;
2. if a single push size exceeds (perPeerNodeBandwidth/10), sleep some following cycles to amortize.&lt;br/&gt;
3. by default perPeerNodeBandwidth is 0, which means by default no throttling as before, and the behavior also stays the same as before if perPeerNodeBandwidth is not explicitly configured.&lt;br/&gt;
4. a unit-test testThrottling in TestReplicationSmallTests is added for verifying the throttling effect which sees &amp;gt;4-times delay difference when perPeerNodeBandwidth with 5-times difference configured. and by checking log added only for debugging it&apos;s ensured sleep in all possible throttling paths are covered by this unit-test.&lt;/p&gt;

&lt;p&gt;ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; for review, thanks a lot &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13885575" author="jdcryans" created="Wed, 29 Jan 2014 17:39:15 +0000"  >&lt;p&gt;I think the patch should be refactored so that the bandwidth limiter is just a tool you use and that tells you how long you should sleep given some information you provide. This way you don&apos;t have to start tracking how much time you&apos;ve actually slept in the unit tests since this tends to be very unreliable, especially on the build machines.&lt;/p&gt;

&lt;p&gt;It will also make the code more readable in ReplicationSource and won&apos;t add a lot of runtime to TestReplicationSmallTests.&lt;/p&gt;</comment>
                            <comment id="13887810" author="fenghh" created="Fri, 31 Jan 2014 14:51:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt; : Thanks very much for the review. New patch attached according to your review feedback. The throttling logic is refactored out to be a helper method which computes the sleep time(&amp;gt;0 if needed) according to the current context which are passed as parameters, the real sleep occurs in shipEdits after calling this helper function. Now the newly added unit test testApplyThrottling in TestReplicationSmallTests just checks the sleep time computed by this helper function, but without real sleep operation/call. The original added testThrottling is also run several times to verify this refactor is fine before being removed.&lt;/p&gt;</comment>
                            <comment id="13890069" author="jdcryans" created="Mon, 3 Feb 2014 23:04:42 +0000"  >&lt;p&gt;Latest patch is looking good! Two more comments:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;How do you feel about using a class instead of a static method? IIUC you could push the two AtomicLongs in there, move the unit test out of TestReplicationSmallTests (so that you don&apos;t have to pay the price for setUp()) and have meaningful method names instead of lines like this one:&lt;/li&gt;
&lt;/ul&gt;


&lt;blockquote&gt;&lt;p&gt;this.cyclePushSize.set(this.cyclePushSize.get() + currentSize);&lt;/p&gt;&lt;/blockquote&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The InterruptedException should be caught, if something told ReplicationSource to stop then we shouldn&apos;t ignore it and try to continue shipping edits.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13894314" author="fenghh" created="Fri, 7 Feb 2014 08:43:05 +0000"  >&lt;p&gt;new patch per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt;&apos;s review feedback, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13894317" author="fenghh" created="Fri, 7 Feb 2014 08:47:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;How do you feel about using a class instead of a static method? IIUC you could push the two AtomicLongs in there, move the unit test out of TestReplicationSmallTests (so that you don&apos;t have to pay the price for setUp()) and have meaningful method names instead of lines like this one&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;==&amp;gt; done&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The InterruptedException should be caught, if something told ReplicationSource to stop then we shouldn&apos;t ignore it and try to continue shipping edits&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;==&amp;gt; what about adding log and interrupting the current thread? same problem with ReplicationSource.sleepForRetries(). and seems there are various kinds of handling for sleep&apos;s InterruptedException in HBase, some ignores, some don&apos;t catch and delegate to upper callers...&lt;/p&gt;</comment>
                            <comment id="13895291" author="jdcryans" created="Sat, 8 Feb 2014 00:11:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;what about adding log and interrupting the current thread?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sorry, that&apos;s what I meant.&lt;/p&gt;

&lt;p&gt;A few cosmetic comments regarding the latest patch then we can commit:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ReplicationThrottler.enabled and bandwidth should be final.&lt;/li&gt;
	&lt;li&gt;ReplicationThrottler.throttling() doesn&apos;t throttle, it just computes a sleep time. I&apos;d name it getSleepTime().&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you&apos;re ok with those changes I&apos;ll just apply them on commit, no need for a new patch.&lt;/p&gt;

&lt;p&gt;In the mean time I&apos;m doing Submit Patch to see if everything builds correctly.&lt;/p&gt;</comment>
                            <comment id="13895337" author="fenghh" created="Sat, 8 Feb 2014 01:11:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;If you&apos;re ok with those changes I&apos;ll just apply them on commit, no need for a new patch.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt;: Thanks for the review, I&apos;m ok with those changes.&lt;/p&gt;</comment>
                            <comment id="13895391" author="hadoopqa" created="Sat, 8 Feb 2014 02:55:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12627578/HBASE-9501-trunk_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12627578/HBASE-9501-trunk_v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12627578&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8637//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13897367" author="jdcryans" created="Tue, 11 Feb 2014 00:49:17 +0000"  >&lt;p&gt;Attaching the patch I committed, just a few cosmetic changes.&lt;/p&gt;</comment>
                            <comment id="13897385" author="jdcryans" created="Tue, 11 Feb 2014 00:59:56 +0000"  >&lt;p&gt;Committed to 0.98.1 (or .0 if the current RC is sunk), and trunk. Thanks Honghua!&lt;/p&gt;</comment>
                            <comment id="13897469" author="hudson" created="Tue, 11 Feb 2014 02:36:14 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4906 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4906/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4906/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9501&quot; title=&quot;Provide throttling for replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9501&quot;&gt;&lt;del&gt;HBASE-9501&lt;/del&gt;&lt;/a&gt; Provide throttling for replication (Feng Honghua via JD) (jdcryans: rev 1566923)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationThrottler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationThrottler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13897522" author="hudson" created="Tue, 11 Feb 2014 04:28:28 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #135 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/135/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9501&quot; title=&quot;Provide throttling for replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9501&quot;&gt;&lt;del&gt;HBASE-9501&lt;/del&gt;&lt;/a&gt; Provide throttling for replication (Feng Honghua via JD) (jdcryans: rev 1566922)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationThrottler.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationThrottler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13897550" author="hudson" created="Tue, 11 Feb 2014 05:47:19 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #147 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/147/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/147/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9501&quot; title=&quot;Provide throttling for replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9501&quot;&gt;&lt;del&gt;HBASE-9501&lt;/del&gt;&lt;/a&gt; Provide throttling for replication (Feng Honghua via JD) (jdcryans: rev 1566922)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationThrottler.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationThrottler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13898555" author="hudson" created="Wed, 12 Feb 2014 00:34:44 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #87 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/87/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/87/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9501&quot; title=&quot;Provide throttling for replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9501&quot;&gt;&lt;del&gt;HBASE-9501&lt;/del&gt;&lt;/a&gt; Provide throttling for replication (Feng Honghua via JD) (jdcryans: rev 1566923)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationThrottler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationThrottler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14330616" author="enis" created="Sat, 21 Feb 2015 23:29:51 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624119" name="HBASE-9501-trunk_v0.patch" size="3908" author="fenghh" created="Tue, 21 Jan 2014 12:58:13 +0000"/>
                            <attachment id="12624774" name="HBASE-9501-trunk_v1.patch" size="10827" author="fenghh" created="Thu, 23 Jan 2014 10:14:51 +0000"/>
                            <attachment id="12626312" name="HBASE-9501-trunk_v2.patch" size="10647" author="fenghh" created="Fri, 31 Jan 2014 14:51:16 +0000"/>
                            <attachment id="12627578" name="HBASE-9501-trunk_v3.patch" size="12075" author="fenghh" created="Fri, 7 Feb 2014 08:43:05 +0000"/>
                            <attachment id="12628122" name="HBASE-9501-trunk_v4.patch" size="12203" author="jdcryans" created="Tue, 11 Feb 2014 00:49:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Sep 2013 11:29:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nzxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348245</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>A new configuration replication.source.per.peer.node.bandwidth is added by this jira. the default is 0 which means no throttling. the unit of this configuration is bytes-per-second.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>