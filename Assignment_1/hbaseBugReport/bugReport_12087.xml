<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:29:36 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12087/HBASE-12087.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12087] [0.98] Changing the default setting of hbase.security.access.early_out to true</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12087</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From the mailing list conversation:&lt;br/&gt;
Problem:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;98 with default early out = false and hfile v2 will always give the&lt;br/&gt;
&quot;Permission Denied&quot; instead of the &quot;0 rows&quot; that you expect since the early&lt;br/&gt;
out is false&lt;/li&gt;
	&lt;li&gt;98 with default early out = false and hfile v3 will always give the &quot;0&lt;br/&gt;
rows&quot;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12743847">HBASE-12087</key>
            <summary>[0.98] Changing the default setting of hbase.security.access.early_out to true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srikanth235">Srikanth Srungarapu</assignee>
                                    <reporter username="srikanth235">Srikanth Srungarapu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Sep 2014 19:41:05 +0000</created>
                <updated>Fri, 20 Nov 2015 11:54:50 +0000</updated>
                            <resolved>Fri, 26 Sep 2014 20:46:00 +0000</resolved>
                                    <version>0.98.6</version>
                                    <fixVersion>0.98.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14146807" author="srikanth235" created="Wed, 24 Sep 2014 20:02:02 +0000"  >&lt;p&gt;Verified on my local box, with HFile V3 turned on and off. &lt;/p&gt;</comment>
                            <comment id="14146831" author="yuzhihong@gmail.com" created="Wed, 24 Sep 2014 20:21:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14146904" author="apurtell" created="Wed, 24 Sep 2014 21:21:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;0.98 only change&lt;/p&gt;</comment>
                            <comment id="14147295" author="anoop.hbase" created="Thu, 25 Sep 2014 02:58:23 +0000"  >&lt;p&gt;+1&lt;br/&gt;
This needs a release notes as it forces user to configure the early_out config to be set to false for using cell level acl in 0.98.7&lt;/p&gt;</comment>
                            <comment id="14147297" author="anoop.hbase" created="Thu, 25 Sep 2014 03:00:02 +0000"  >&lt;p&gt;The early_out config is defaults to true in all branches now. If some one changes this to false and still on HFile V2 that doesn&apos;t make sense. Might be good we stop AC from start in such a case? A simple check and an Exception thrown in such case would work out. &lt;/p&gt;</comment>
                            <comment id="14147299" author="apurtell" created="Thu, 25 Sep 2014 03:01:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;A simple check and an Exception thrown in such case would work out.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That seems drastic. How about just a warning that with V2 it has no effect?&lt;/p&gt;</comment>
                            <comment id="14147607" author="anoop.hbase" created="Thu, 25 Sep 2014 10:37:37 +0000"  >&lt;p&gt;My thinking was this Andy.  In 0.99+ the default HFile version is V3 and early_out config is true. So a user changes both.&lt;br/&gt;
Thinking more, for 0.98  we can not throw any Exception for the BC. The jars might be upgraded but already having config file may stay as is.&lt;br/&gt;
So +1 for a warn message alone.&lt;/p&gt;</comment>
                            <comment id="14148191" author="srikanth235" created="Thu, 25 Sep 2014 19:29:40 +0000"  >&lt;p&gt;Added a warning message as per the suggestion.&lt;/p&gt;</comment>
                            <comment id="14148195" author="hadoopqa" created="Thu, 25 Sep 2014 19:32:08 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12671288/HBASE-12087_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12671288/HBASE-12087_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12671288&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11080//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11080//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14149949" author="apurtell" created="Fri, 26 Sep 2014 20:46:00 +0000"  >&lt;p&gt;Pushed v2 to 0.98 &lt;/p&gt;</comment>
                            <comment id="14150032" author="hudson" created="Fri, 26 Sep 2014 21:38:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #543 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/543/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/543/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12087&quot; title=&quot;[0.98] Changing the default setting of hbase.security.access.early_out to true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12087&quot;&gt;&lt;del&gt;HBASE-12087&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0.98&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0.98&amp;#93;&lt;/span&gt; Changing the default setting of hbase.security.access.early_out to true (Srikanth Srungarapu) (apurtell: rev c0d0d794554ad15b9a87f4ccf82aac0643419b9a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlConstants.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14150223" author="hudson" created="Fri, 26 Sep 2014 23:57:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #517 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/517/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/517/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12087&quot; title=&quot;[0.98] Changing the default setting of hbase.security.access.early_out to true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12087&quot;&gt;&lt;del&gt;HBASE-12087&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0.98&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0.98&amp;#93;&lt;/span&gt; Changing the default setting of hbase.security.access.early_out to true (Srikanth Srungarapu) (apurtell: rev c0d0d794554ad15b9a87f4ccf82aac0643419b9a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlConstants.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14150305" author="anoop.hbase" created="Sat, 27 Sep 2014 01:08:37 +0000"  >&lt;p&gt;Should be marked as incompatible change as the def value for the config is true now in 0.98.7. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15016330" author="lars_francke" created="Fri, 20 Nov 2015 11:54:50 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12671032" name="HBASE-12087.patch" size="1004" author="srikanth235" created="Wed, 24 Sep 2014 20:02:02 +0000"/>
                            <attachment id="12671288" name="HBASE-12087_v2.patch" size="1941" author="srikanth235" created="Thu, 25 Sep 2014 19:29:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Sep 2014 20:21:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20g6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Prior to 0.98.0 if a user was not granted access to a column family or partial access (qualifier grants), then the AccessController would immediately throw back an AccessDeniedException. This behavior was changed in 0.98.0. Instead, scanners will return result sets only including cells for which the user has access. If the user has no permissions on any cell then the scanner will return the empty result set. Code expecting an AccessDeniedException if the user has no access may not function as intended.&lt;br/&gt;
&lt;br/&gt;
This change introduces a configuration setting which restores the pre-0.98.0 behavior. &lt;br/&gt;
&lt;br/&gt;
If you would prefer the new behavior, this can be configured globally via site configuration or per table using HTableDescriptor#setConfiguration. The setting is AccessControlConstants.CF_ATTRIBUTE_EARLY_OUT (&amp;quot;hbase.security.access.early_out&amp;quot;), a boolean. Set to &amp;quot;false&amp;quot; and scanners will return result sets only including cells for which the user has access without throwing an AccessDeniedException.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>