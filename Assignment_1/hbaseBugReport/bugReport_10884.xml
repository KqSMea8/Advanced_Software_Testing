<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:18:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10884/HBASE-10884.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10884] [REST] Do not disable block caching when scanning</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10884</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The REST gateway pessimistically disables block caching when issuing Scans to the cluster, using Scan#setCacheBlocks(false) in ScannerResultGenerator. It does not do this when issuing Gets on behalf of HTTP clients in RowResultGenerator. This is an old idea now, the reasons for doing so lost sometime back in the era when HBase walked the earth with dinosaurs (&amp;lt; 0.20). We probably should not be penalizing REST scans in this way. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12705867">HBASE-10884</key>
            <summary>[REST] Do not disable block caching when scanning</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Apr 2014 07:42:33 +0000</created>
                <updated>Sat, 21 Feb 2015 23:33:48 +0000</updated>
                            <resolved>Tue, 22 Apr 2014 23:37:04 +0000</resolved>
                                    <version>0.98.1</version>
                    <version>0.99.0</version>
                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.98.2</fixVersion>
                                    <component>REST</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13964845" author="apurtell" created="Thu, 10 Apr 2014 00:26:07 +0000"  >&lt;p&gt;Trivial patch against trunk. REST unit tests pass locally of course.&lt;/p&gt;</comment>
                            <comment id="13964865" author="ndimiduk" created="Thu, 10 Apr 2014 01:09:20 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Any plan to expose this scanner setting to the user via API?&lt;/p&gt;</comment>
                            <comment id="13964868" author="apurtell" created="Thu, 10 Apr 2014 01:14:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;Any plan to expose this scanner setting to the user via API?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10952&quot; title=&quot;[REST] Let the user turn off block caching if desired&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10952&quot;&gt;&lt;del&gt;HBASE-10952&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13964955" author="hadoopqa" created="Thu, 10 Apr 2014 03:51:38 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12639497/HBASE-10884.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12639497/HBASE-10884.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12639497&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.handler.TestCloseRegionHandler&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9238//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13965513" author="apurtell" created="Thu, 10 Apr 2014 16:39:59 +0000"  >&lt;p&gt;Test failure is not related, will commit soon.&lt;/p&gt;

&lt;p&gt;Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, this is a trivial patch and perf improvement, but limited to REST use cases. However it is a behavioral change without recourse without &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10952&quot; title=&quot;[REST] Let the user turn off block caching if desired&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10952&quot;&gt;&lt;del&gt;HBASE-10952&lt;/del&gt;&lt;/a&gt;, and that introduces a new query parameter and field to the Scanner model in a backwards compatible way.&lt;/p&gt;</comment>
                            <comment id="13965674" author="lhofhansl" created="Thu, 10 Apr 2014 18:38:55 +0000"  >&lt;p&gt;Maybe in 0.94 we should invert the default (leave it at false and allow enabling this)...?&lt;br/&gt;
I&apos;m fine either way. In 0.94 we should limit the element of the surprise. But which of the following two is more suprising?&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;scanning via REST and the Java API use different defaults&lt;/li&gt;
	&lt;li&gt;in 0.94.18 scanning via REST did not cache, but in 0.94.19 it does by default.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I guess I&apos;m fine either way.&lt;/p&gt;

&lt;p&gt;Any opinions?&lt;/p&gt;</comment>
                            <comment id="13966090" author="apurtell" created="Fri, 11 Apr 2014 01:01:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;Maybe in 0.94 we should invert the default (leave it at false and allow enabling this)...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure. So we can skip 0.94 and leave the behavior as is. &lt;/p&gt;</comment>
                            <comment id="13966698" author="apurtell" created="Fri, 11 Apr 2014 16:13:13 +0000"  >&lt;p&gt;Curious if I should skip 0.96 for the same rationale. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13966956" author="stack" created="Fri, 11 Apr 2014 18:43:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;  Would like to minimize 0.96 changes to critical fixes so folks are more inclined to go to 0.98.&lt;/p&gt;</comment>
                            <comment id="13966960" author="apurtell" created="Fri, 11 Apr 2014 18:46:19 +0000"  >&lt;p&gt;Ack, so 0.98 and trunk only, thanks Stack.&lt;/p&gt;</comment>
                            <comment id="13977622" author="apurtell" created="Tue, 22 Apr 2014 23:37:04 +0000"  >&lt;p&gt;Committed to trunk and 0.98&lt;/p&gt;</comment>
                            <comment id="13977868" author="hudson" created="Wed, 23 Apr 2014 05:56:46 +0000"  >&lt;p&gt;ABORTED: Integrated in HBase-TRUNK #5108 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5108/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10884&quot; title=&quot;[REST] Do not disable block caching when scanning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10884&quot;&gt;&lt;del&gt;HBASE-10884&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;REST&amp;#93;&lt;/span&gt; Do not disable block caching when scanning (apurtell: rev 1589308)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/ScannerResultGenerator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13978089" author="hudson" created="Wed, 23 Apr 2014 11:44:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #289 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/289/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/289/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10884&quot; title=&quot;[REST] Do not disable block caching when scanning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10884&quot;&gt;&lt;del&gt;HBASE-10884&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;REST&amp;#93;&lt;/span&gt; Do not disable block caching when scanning (apurtell: rev 1589309)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/ScannerResultGenerator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13978214" author="hudson" created="Wed, 23 Apr 2014 14:00:16 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #274 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/274/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/274/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10884&quot; title=&quot;[REST] Do not disable block caching when scanning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10884&quot;&gt;&lt;del&gt;HBASE-10884&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;REST&amp;#93;&lt;/span&gt; Do not disable block caching when scanning (apurtell: rev 1589309)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/ScannerResultGenerator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13992483" author="yeweichen" created="Thu, 8 May 2014 03:39:28 +0000"  >&lt;p&gt;I meet the same problem...&lt;/p&gt;</comment>
                            <comment id="14331139" author="enis" created="Sat, 21 Feb 2015 23:33:48 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12639497" name="HBASE-10884.patch" size="903" author="apurtell" created="Thu, 10 Apr 2014 00:25:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Apr 2014 01:09:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384191</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1u6s7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>The REST gateway no longer disables block cache when issuing Scans to the cluster, and in this way, Scans now behave the same as Gets.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>