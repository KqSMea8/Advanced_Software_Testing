<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:08:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3232/HBASE-3232.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3232] Fix KeyOnlyFilter + Add Value Length</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3232</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3211&quot; title=&quot;Key (Index) Only Fetches&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3211&quot;&gt;&lt;del&gt;HBASE-3211&lt;/del&gt;&lt;/a&gt; altered filter code to mutate KeyValues.  What could go wrong?  Well, your scan could mess up because the KVHeap compare functions don&apos;t work properly.  If we&apos;re going to soft mutate KVs in filter code, we also need to soft copy the KV before filtering.  This was found while adding the ability to have KeyOnlyFilter have the option to return the Value&apos;s length.  This is useful for grouping your reduce tasks into equal-sized blocks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479849">HBASE-3232</key>
            <summary>Fix KeyOnlyFilter + Add Value Length</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nspiegelberg">Nicolas Spiegelberg</assignee>
                                    <reporter username="nspiegelberg">Nicolas Spiegelberg</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Nov 2010 04:41:13 +0000</created>
                <updated>Fri, 20 Nov 2015 12:41:20 +0000</updated>
                            <resolved>Mon, 15 Nov 2010 03:15:02 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12931624" author="ryanobjc" created="Sat, 13 Nov 2010 04:52:16 +0000"  >&lt;p&gt;This feels like something that should be done in co processors&lt;/p&gt;</comment>
                            <comment id="12931625" author="nspiegelberg" created="Sat, 13 Nov 2010 04:54:36 +0000"  >&lt;p&gt;I agree.  This was a lightweight solution necessary for our existing deployment to scale in 0.90.&lt;/p&gt;</comment>
                            <comment id="12931630" author="hbasereviewboard" created="Sat, 13 Nov 2010 05:18:13 +0000"  >&lt;p&gt;Message from: &quot;Nicolas&quot; &amp;lt;nspiegelberg@facebook.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1213/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1213/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3211&quot; title=&quot;Key (Index) Only Fetches&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3211&quot;&gt;&lt;del&gt;HBASE-3211&lt;/del&gt;&lt;/a&gt; altered filter code to mutate KeyValues. What could go wrong? Well, your scan could mess up because the KVHeap compare functions don&apos;t work properly. If we&apos;re going to soft mutate KVs in filter code, we also need to soft copy the KV before filtering. This was found while adding the ability to have KeyOnlyFilter have the option to return the Value&apos;s length. This is useful for grouping your reduce tasks into equal-sized blocks.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3232&quot; title=&quot;Fix KeyOnlyFilter + Add Value Length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3232&quot;&gt;&lt;del&gt;HBASE-3232&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HBASE-3232&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HBASE-3232&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/src/main/java/org/apache/hadoop/hbase/KeyValue.java 1034646 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/filter/KeyOnlyFilter.java 1034646 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java 1034646 &lt;br/&gt;
  trunk/src/test/java/org/apache/hadoop/hbase/TestKeyValue.java 1034646 &lt;br/&gt;
  trunk/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java 1034646 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.cloudera.org/r/1213/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1213/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;mvn clean test&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Nicolas&lt;/p&gt;

</comment>
                            <comment id="12931962" author="hbasereviewboard" created="Mon, 15 Nov 2010 02:31:15 +0000"  >&lt;p&gt;Message from: &quot;Nicolas&quot; &amp;lt;nspiegelberg@facebook.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1213/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1213/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2010-11-14 18:28:50.196433)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Because I didn&apos;t implement write/readFields for KeyOnlyFilter when I added the param, client -&amp;gt; server serialization didn&apos;t work and the default value of false was always used.  Fixed + added associated unit test&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3211&quot; title=&quot;Key (Index) Only Fetches&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3211&quot;&gt;&lt;del&gt;HBASE-3211&lt;/del&gt;&lt;/a&gt; altered filter code to mutate KeyValues. What could go wrong? Well, your scan could mess up because the KVHeap compare functions don&apos;t work properly. If we&apos;re going to soft mutate KVs in filter code, we also need to soft copy the KV before filtering. This was found while adding the ability to have KeyOnlyFilter have the option to return the Value&apos;s length. This is useful for grouping your reduce tasks into equal-sized blocks.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3232&quot; title=&quot;Fix KeyOnlyFilter + Add Value Length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3232&quot;&gt;&lt;del&gt;HBASE-3232&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HBASE-3232&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HBASE-3232&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/src/main/java/org/apache/hadoop/hbase/KeyValue.java 1034646 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/filter/KeyOnlyFilter.java 1034646 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java 1034646 &lt;br/&gt;
  trunk/src/test/java/org/apache/hadoop/hbase/TestKeyValue.java 1034646 &lt;br/&gt;
  trunk/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java 1034646 &lt;br/&gt;
  trunk/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java 1034646 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.cloudera.org/r/1213/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1213/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;mvn clean test&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Nicolas&lt;/p&gt;

</comment>
                            <comment id="12931966" author="ryanobjc" created="Mon, 15 Nov 2010 03:15:02 +0000"  >&lt;p&gt;committed to trunk + 0.90&lt;/p&gt;</comment>
                            <comment id="12931967" author="hbasereviewboard" created="Mon, 15 Nov 2010 03:16:15 +0000"  >&lt;p&gt;Message from: &quot;Ryan Rawson&quot; &amp;lt;ryanobjc@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1213/#review1922&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1213/#review1922&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;looks great, i just committed it&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ryan&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="13148950" author="hudson" created="Sat, 12 Nov 2011 02:25:00 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #125 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/125/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/125/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3433&quot; title=&quot;Remove the KV copy of every KV in Scan; introduced by HBASE-3232&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3433&quot;&gt;&lt;del&gt;HBASE-3433&lt;/del&gt;&lt;/a&gt;  Remove the KV copy of every KV in Scan; introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3232&quot; title=&quot;Fix KeyOnlyFilter + Add Value Length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3232&quot;&gt;&lt;del&gt;HBASE-3232&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/filter/Filter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/filter/FilterBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/filter/FilterList.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/filter/KeyOnlyFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/filter/SkipFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/filter/WhileMatchFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/TestKeyValue.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13148982" author="hudson" created="Sat, 12 Nov 2011 04:12:36 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2430 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2430/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2430/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3433&quot; title=&quot;Remove the KV copy of every KV in Scan; introduced by HBASE-3232&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3433&quot;&gt;&lt;del&gt;HBASE-3433&lt;/del&gt;&lt;/a&gt;  Remove the KV copy of every KV in Scan; introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3232&quot; title=&quot;Fix KeyOnlyFilter + Add Value Length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3232&quot;&gt;&lt;del&gt;HBASE-3232&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/filter/Filter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/filter/FilterBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/filter/FilterList.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/filter/KeyOnlyFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/filter/SkipFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/filter/WhileMatchFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/TestKeyValue.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15016950" author="lars_francke" created="Fri, 20 Nov 2015 12:41:20 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12479538">HBASE-3211</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 13 Nov 2010 04:52:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26726</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hlbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>