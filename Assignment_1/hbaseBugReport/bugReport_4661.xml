<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:20:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4661/HBASE-4661.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4661] Ability to export the list of files for a some or all column families for a given region</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4661</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Should be able to query the regionservers to figure out the list of files in one/some/all column families for a given regions to determine which files to copy for a backup.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12528613">HBASE-4661</key>
            <summary>Ability to export the list of files for a some or all column families for a given region</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12527765">HBASE-4618</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="madhuvaidya">Madhuwanti Vaidya</assignee>
                                    <reporter username="karthik.ranga">Karthik Ranganathan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Oct 2011 04:48:47 +0000</created>
                <updated>Fri, 12 Oct 2012 05:35:02 +0000</updated>
                            <resolved>Mon, 12 Dec 2011 23:00:22 +0000</resolved>
                                                    <fixVersion>0.94.0</fixVersion>
                                    <component>documentation</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13166652" author="madhuvaidya" created="Fri, 9 Dec 2011 23:19:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D729&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167681" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 19:05:30 +0000"  >&lt;p&gt;stack has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4661&quot; title=&quot;Ability to export the list of files for a some or all column families for a given region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4661&quot;&gt;&lt;del&gt;HBASE-4661&lt;/del&gt;&lt;/a&gt; get list of store files.&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java:88 This interface already has a flushRegion that takes an HRegionInterface.  Should we deprecate it?  Is this regionName the full name or is it encoded Name?&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java:118 Is region the right granularity?  We&apos;ll have to make a bunch of calls.  Should we rather allow instead asking the regionserver return all storefiles for a given table (with optional columnfamily qualifier supplied)?&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java:2169 Does the flush happen inline or are we just queuing a flush?  If former, perhaps return boolean on whether we flushed or no (not important)&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java:2189 How do I express region has not been flushed at all?  -1?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D729&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167818" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:23:31 +0000"  >&lt;p&gt;madhuvaidya has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4661&quot; title=&quot;Ability to export the list of files for a some or all column families for a given region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4661&quot;&gt;&lt;del&gt;HBASE-4661&lt;/del&gt;&lt;/a&gt; get list of store files.&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java:88 In the backup code we used this API (with regionName which is the full name). Not sure - maybe we could deprecate the other API.&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java:118 We used it at this granularity since we scheduled one map task per region for taking a backup of the table.&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java:2169 The flush happens inline. (It&apos;s a blocking call)&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java:2189 The lastFlushTime is set when the region is initialized which is equivalent to a flush for our purpose. In each map task - we flush a region before asking for the list of store files to backup. We want to protect against the case when a flush goes through, but the map task fails, in which case a flush would be scheduled again if we didn&apos;t check lastFlushTime &amp;gt; backupStartTime.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D729&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167825" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:35:30 +0000"  >&lt;p&gt;stack has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4661&quot; title=&quot;Ability to export the list of files for a some or all column families for a given region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4661&quot;&gt;&lt;del&gt;HBASE-4661&lt;/del&gt;&lt;/a&gt; get list of store files.&quot;.&lt;/p&gt;

&lt;p&gt;  +1  Would suggest adding deprecate to old flushRegion on commit.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java:88 Yeah, I&apos;d say deprecate the other.  Its kinda a pain anyways taking a whole HRI.&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java:118 Ok. Sounds good.&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java:2189 Ok.  Sounds good.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D729&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167838" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:53:30 +0000"  >&lt;p&gt;madhuvaidya updated the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4661&quot; title=&quot;Ability to export the list of files for a some or all column families for a given region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4661&quot;&gt;&lt;del&gt;HBASE-4661&lt;/del&gt;&lt;/a&gt; get list of store files.&quot;.&lt;br/&gt;
Reviewers: Karthik, Kannan, nspiegelberg, JIRA&lt;/p&gt;

&lt;p&gt;  Added deprecated to old flushRegion.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D729&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java&lt;/p&gt;</comment>
                            <comment id="13167857" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 22:09:30 +0000"  >&lt;p&gt;stack has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4661&quot; title=&quot;Ability to export the list of files for a some or all column families for a given region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4661&quot;&gt;&lt;del&gt;HBASE-4661&lt;/del&gt;&lt;/a&gt; get list of store files.&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;  If none of you lads are going to commit it, stick it up on JIRA and I will... good stuff.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D729&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167859" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 22:13:30 +0000"  >&lt;p&gt;Karthik has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4661&quot; title=&quot;Ability to export the list of files for a some or all column families for a given region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4661&quot;&gt;&lt;del&gt;HBASE-4661&lt;/del&gt;&lt;/a&gt; get list of store files.&quot;.&lt;/p&gt;

&lt;p&gt;  I can commit - left it up accepted and uncommitted in case some else wanted to have a look. Now I feel a lot better committing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D729&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13167923" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 23:03:30 +0000"  >&lt;p&gt;madhuvaidya has committed the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4661&quot; title=&quot;Ability to export the list of files for a some or all column families for a given region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4661&quot;&gt;&lt;del&gt;HBASE-4661&lt;/del&gt;&lt;/a&gt; get list of store files.&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D729&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHBASE1213487&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHBASE1213487&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13168212" author="hudson" created="Tue, 13 Dec 2011 08:12:11 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #30 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/30/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/30/&lt;/a&gt;)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4661&quot; title=&quot;Ability to export the list of files for a some or all column families for a given region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4661&quot;&gt;&lt;del&gt;HBASE-4661&lt;/del&gt;&lt;/a&gt; get list of store files.&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
1. Ported getStoreFileList API to trunk.&lt;br/&gt;
2. Also ported flushRegion API to trunk (with option of flushing if&lt;br/&gt;
lastFlushTime &amp;lt; TS).&lt;/p&gt;

&lt;p&gt;Test Plan: Tested on 89.&lt;/p&gt;

&lt;p&gt;Reviewers: Karthik, Kannan, nspiegelberg, JIRA&lt;/p&gt;

&lt;p&gt;Reviewed By: Karthik&lt;/p&gt;

&lt;p&gt;CC: HBase Diffs Facebook Group, Karthik, Kannan, stack, madhuvaidya&lt;/p&gt;

&lt;p&gt;Differential Revision: 729&lt;/p&gt;

&lt;p&gt;karthik : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13168281" author="hudson" created="Tue, 13 Dec 2011 10:08:46 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2541 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2541/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2541/&lt;/a&gt;)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4661&quot; title=&quot;Ability to export the list of files for a some or all column families for a given region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4661&quot;&gt;&lt;del&gt;HBASE-4661&lt;/del&gt;&lt;/a&gt; get list of store files.&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
1. Ported getStoreFileList API to trunk.&lt;br/&gt;
2. Also ported flushRegion API to trunk (with option of flushing if&lt;br/&gt;
lastFlushTime &amp;lt; TS).&lt;/p&gt;

&lt;p&gt;Test Plan: Tested on 89.&lt;/p&gt;

&lt;p&gt;Reviewers: Karthik, Kannan, nspiegelberg, JIRA&lt;/p&gt;

&lt;p&gt;Reviewed By: Karthik&lt;/p&gt;

&lt;p&gt;CC: HBase Diffs Facebook Group, Karthik, Kannan, stack, madhuvaidya&lt;/p&gt;

&lt;p&gt;Differential Revision: 729&lt;/p&gt;

&lt;p&gt;karthik : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12544887">HBASE-5509</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12507066" name="ASF.LICENSE.NOT.GRANTED--D729.2.patch" size="6347" author="phabricator@reviews.facebook.net" created="Mon, 12 Dec 2011 21:53:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Dec 2011 23:19:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214473</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08r1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>