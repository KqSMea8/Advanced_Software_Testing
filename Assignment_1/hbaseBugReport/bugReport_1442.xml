<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:53:33 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1442/HBASE-1442.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1442] Large number of regions slows down start and stop of HBase clusters</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1442</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;A cluster with tables that have thousands of regions will take a long time to start and shut down. &lt;/p&gt;

&lt;p&gt;During the start the META table is scanned which takes a long time. Also at least minor compaction are performed that add to the delay as by default there is a 20sec wait time between the each compaction. &lt;/p&gt;

&lt;p&gt;Also region assignment may be not right assigning 10 regions at a time while unbalancing the servers.&lt;/p&gt;

&lt;p&gt;Shutting a large cluster down also takes a long time before everything is persisted and shut down orderly. Times in excess of 10 minutes have been noted. It needs to be investigated where this time is spent.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425938">HBASE-1442</key>
            <summary>Large number of regions slows down start and stop of HBase clusters</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="larsgeorge">Lars George</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 May 2009 17:09:17 +0000</created>
                <updated>Wed, 1 Jul 2009 00:39:07 +0000</updated>
                            <resolved>Wed, 1 Jul 2009 00:39:07 +0000</resolved>
                                                                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12711262" author="apparition" created="Wed, 20 May 2009 18:05:52 +0000"  >&lt;p&gt;In future we can move Region&apos;s assignment to HRSs to make everything scalable.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;But question: how to choose that HRS that should make decisions about  assignment?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;One easy way is to put assignment managing on HRS that holds META regions.&lt;br/&gt;
So each HRS that holds at least one METARegion should manage assignment for all User Regions in that META.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Ok, so HRS that holds META manages Region&apos;s assignment in that META, but how to decide where to assign that Regions? to which HRS?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We can use Hash Ring for METARegions to get maping METARegion -&amp;gt; HRS. Like in every DHT but simple variant without replication.&lt;/p&gt;

&lt;p&gt;So in the result: cluster start/stop will take as much time as it will take to slowest HRS holding META to manage regions in that META.&lt;/p&gt;

&lt;p&gt;just thoughts that comes after my small research &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Not sure if it already appeared here...&lt;/p&gt;</comment>
                            <comment id="12725865" author="streamy" created="Wed, 1 Jul 2009 00:39:07 +0000"  >&lt;p&gt;Closing as duplicate.&lt;/p&gt;

&lt;p&gt;Dealing with this for 0.20 in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1583&quot; title=&quot;Start/Stop of large cluster untenable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1583&quot;&gt;&lt;del&gt;HBASE-1583&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;For 0.21, region assignment during startup will be part of master rewrite.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2009 18:05:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hda7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>