<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:55:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1742/HBASE-1742.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1742] Region lost (disabled) when -ROOT- offline or hosting server dies just before it tells master successful open</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1742</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I killed server with &lt;del&gt;ROOT&lt;/del&gt;.  It came back eventually but meantime we&apos;d asked a server to open a region.  It failed in the below but then we never try to open the region elsewhere.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 803 2009-08-04 03:21:12,599 [regionserver/XX.XX.XX.140:60020.worker] ERROR org.apache.hadoop.hbase.regionserver.HRegionServer: unable to process message: MSG_REGION_OPEN: TestTable,0916642860,1249356036404
 804 java.lang.reflect.UndeclaredThrowableException
 805     at $Proxy2.getRegionInfo(Unknown Source)
 806     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRootRegion(HConnectionManager.java:874)
 807     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:515)
 808     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:491)
 809     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegionInMeta(HConnectionManager.java:565)
 810     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:524)
 811     at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:491)
 812     at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:125)
 813     at org.apache.hadoop.hbase.RegionHistorian.online(RegionHistorian.java:315)
 814     at org.apache.hadoop.hbase.regionserver.HRegionServer.openRegion(HRegionServer.java:1564)
 815     at org.apache.hadoop.hbase.regionserver.HRegionServer$Worker.run(HRegionServer.java:1485)
 816     at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(Unknown Source)
 817 Caused by: org.apache.hadoop.ipc.RemoteException: org.apache.hadoop.hbase.NotServingRegionException: -ROOT-,,0
 818     at org.apache.hadoop.hbase.regionserver.HRegionServer.getRegion(HRegionServer.java:2261)
 819     at org.apache.hadoop.hbase.regionserver.HRegionServer.getRegionInfo(HRegionServer.java:1741)
 820     at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
 821     at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
 822     at java.lang.reflect.Method.invoke(Unknown Source)
 823     at org.apache.hadoop.hbase.ipc.HBaseRPC$Server.call(HBaseRPC.java:650)
 824     at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:913)
 825 
 826     at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:720)
 827     at org.apache.hadoop.hbase.ipc.HBaseRPC$Invoker.invoke(HBaseRPC.java:328)
 828     ... 12 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12432118">HBASE-1742</key>
            <summary>Region lost (disabled) when -ROOT- offline or hosting server dies just before it tells master successful open</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Aug 2009 03:45:03 +0000</created>
                <updated>Fri, 20 Nov 2015 13:01:18 +0000</updated>
                            <resolved>Wed, 1 Sep 2010 18:34:35 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12738795" author="stack" created="Tue, 4 Aug 2009 03:48:52 +0000"  >&lt;p&gt;It seems to be stuck in the regionsintransition map with nothing checking for it being stuck there.&lt;/p&gt;</comment>
                            <comment id="12738852" author="stack" created="Tue, 4 Aug 2009 06:24:06 +0000"  >&lt;p&gt;Found another case where we drop region.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1743&quot; title=&quot;[debug tool] Add regionsInTransition list to ClusterStatus detailed output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1743&quot;&gt;&lt;del&gt;HBASE-1743&lt;/del&gt;&lt;/a&gt; lets me see into regions in transition.  I can see the dropped regions stuck in the regionsInTransition map.  Nothing is going to shift them.  regionsInTransition needs to have a timer or be a queue or something so we look at its content from time to time and if stale, do something about it.&lt;/p&gt;

&lt;p&gt;Its way too easy manufacturing these conditions.  I ain&apos;t even doing the nasty stuff.&lt;/p&gt;</comment>
                            <comment id="12738854" author="stack" created="Tue, 4 Aug 2009 06:26:29 +0000"  >&lt;p&gt;Yeah, bottom point is I can&apos;t even repair this table.  Need to add to our &apos;tools&apos; kicking region out of regionsInTransition before going on to mark it enabled, etc.  Else, these operations have no effect.&lt;/p&gt;</comment>
                            <comment id="12744688" author="stack" created="Tue, 18 Aug 2009 20:20:53 +0000"  >&lt;p&gt;Moving to 0.21.  These kinda conditions are what 0.21 is to address.&lt;/p&gt;</comment>
                            <comment id="12905141" author="stack" created="Wed, 1 Sep 2010 18:34:35 +0000"  >&lt;p&gt;Marking as wont&apos; fix.  The prob. here was there was no master to receive the open message.  Master used update .META.  Now RS does since hbase-2692 so this condition should never arise going forward.  I added to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2485&quot; title=&quot;Persist Master in-memory state so on restart or failover, new instance can pick up where the old left off&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2485&quot;&gt;&lt;del&gt;HBASE-2485&lt;/del&gt;&lt;/a&gt; mention that it should add coverage of this scenario &amp;#8211; an open happening while master is down.&lt;/p&gt;</comment>
                            <comment id="15017769" author="lars_francke" created="Fri, 20 Nov 2015 13:01:18 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12462917">HBASE-2485</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12434794">HBASE-1816</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Nov 2015 13:01:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hf0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99695</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>