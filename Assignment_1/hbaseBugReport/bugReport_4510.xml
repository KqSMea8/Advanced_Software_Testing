<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:19:34 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4510/HBASE-4510.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4510] Check and workaround usage of internal HDFS APIs in HBase</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4510</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HBase isn&apos;t seemingly compiling anymore on 0.23 after the &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-1620&quot; title=&quot;Rename HdfsConstants -&amp;gt; HdfsServerConstants, FSConstants -&amp;gt; HdfsConstants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-1620&quot;&gt;&lt;del&gt;HDFS-1620&lt;/del&gt;&lt;/a&gt; naming refactorings were carried out.&lt;/p&gt;

&lt;p&gt;Two solutions:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;We use new classnames. This breaks HBase&apos;s backward compatibility with older Hadoop releases (is that a concern with future releases?)&lt;/li&gt;
	&lt;li&gt;HBase gets its own sets of constants as the upstream one is not marked for public usage. This needs a little more maintenance on HBases&apos; side.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12525138">HBASE-4510</key>
            <summary>Check and workaround usage of internal HDFS APIs in HBase</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="qwertymaniac">Harsh J</assignee>
                                    <reporter username="qwertymaniac">Harsh J</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Sep 2011 05:20:56 +0000</created>
                <updated>Fri, 20 Nov 2015 11:53:30 +0000</updated>
                            <resolved>Thu, 20 Oct 2011 19:04:30 +0000</resolved>
                                    <version>0.94.0</version>
                                    <fixVersion>0.92.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13117013" author="yuzhihong@gmail.com" created="Thu, 29 Sep 2011 05:46:27 +0000"  >&lt;p&gt;I think option 2 is more viable.&lt;br/&gt;
We should keep backward compatibility.&lt;/p&gt;</comment>
                            <comment id="13117015" author="stack" created="Thu, 29 Sep 2011 05:48:14 +0000"  >&lt;p&gt;Ugh.  Thanks Harsh for opening this issue.  Would be nice if 0.92 was working w/ current state of 0.23 branch at time of release.&lt;/p&gt;</comment>
                            <comment id="13117021" author="qwertymaniac" created="Thu, 29 Sep 2011 05:58:42 +0000"  >&lt;p&gt;Since this may require a lot of review+discussion, I&apos;ve opened &lt;a href=&quot;https://reviews.apache.org/r/2108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13117022" author="jiraposter@reviews.apache.org" created="Thu, 29 Sep 2011 05:58:45 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;HBase isn&apos;t seemingly compiling anymore on 0.23 after the &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-1620&quot; title=&quot;Rename HdfsConstants -&amp;gt; HdfsServerConstants, FSConstants -&amp;gt; HdfsConstants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-1620&quot;&gt;&lt;del&gt;HDFS-1620&lt;/del&gt;&lt;/a&gt; naming refactorings were carried out.&lt;/p&gt;

&lt;p&gt;Two solutions:&lt;/p&gt;

&lt;p&gt;1. We use new classnames. This breaks HBase&apos;s backward compatibility with older Hadoop releases (is that a concern with future releases?)&lt;br/&gt;
2. HBase gets its own sets of constants as the upstream one is not marked for public usage. This needs a little more maintenance on HBases&apos; side.&lt;/p&gt;

&lt;p&gt;Way (2) seems more viable. I&apos;ve attached an initial patch that doesn&apos;t fix all trouble yet, but introduces the first way of changes.&lt;/p&gt;

&lt;p&gt;The remaining issue lies in the use of DistributedFileSystem&apos;s safemode methods (which are private audience as well) inside of HBase for safemode waits and checks (via HBases&apos; FSUtils class). Since this uses an enum, it is more difficult to handle without upstream interventions - thoughts?&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; title=&quot;Check and workaround usage of internal HDFS APIs in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4510&quot;&gt;&lt;del&gt;HBASE-4510&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4510&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/util/FSHDFSUtils.java dcd0937 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2108/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Harsh&lt;/p&gt;
</comment>
                            <comment id="13117025" author="yuzhihong@gmail.com" created="Thu, 29 Sep 2011 06:05:48 +0000"  >&lt;p&gt;I think the above diff is in the right direction.&lt;/p&gt;</comment>
                            <comment id="13129458" author="jiraposter@reviews.apache.org" created="Tue, 18 Oct 2011 03:42:10 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-10-18 03:42:06.955026)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Updated patch that should fix 0.23 builds.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;HBase isn&apos;t seemingly compiling anymore on 0.23 after the &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-1620&quot; title=&quot;Rename HdfsConstants -&amp;gt; HdfsServerConstants, FSConstants -&amp;gt; HdfsConstants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-1620&quot;&gt;&lt;del&gt;HDFS-1620&lt;/del&gt;&lt;/a&gt; naming refactorings were carried out.&lt;/p&gt;

&lt;p&gt;Two solutions:&lt;/p&gt;

&lt;p&gt;1. We use new classnames. This breaks HBase&apos;s backward compatibility with older Hadoop releases (is that a concern with future releases?)&lt;br/&gt;
2. HBase gets its own sets of constants as the upstream one is not marked for public usage. This needs a little more maintenance on HBases&apos; side.&lt;/p&gt;

&lt;p&gt;Way (2) seems more viable. I&apos;ve attached an initial patch that doesn&apos;t fix all trouble yet, but introduces the first way of changes.&lt;/p&gt;

&lt;p&gt;The remaining issue lies in the use of DistributedFileSystem&apos;s safemode methods (which are private audience as well) inside of HBase for safemode waits and checks (via HBases&apos; FSUtils class). Since this uses an enum, it is more difficult to handle without upstream interventions - thoughts?&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; title=&quot;Check and workaround usage of internal HDFS APIs in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4510&quot;&gt;&lt;del&gt;HBASE-4510&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4510&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/util/FSHDFSUtils.java dcd0937 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/FSUtils.java 789dd3b &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2108/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Harsh&lt;/p&gt;
</comment>
                            <comment id="13129462" author="jiraposter@reviews.apache.org" created="Tue, 18 Oct 2011 03:54:10 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2108/#review2641&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/#review2641&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2108/#comment5946&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/#comment5946&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Typo: retrieved&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2108/#comment5947&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/#comment5947&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This condition is covered by isInSafeMode() already.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ted&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-10-18 03:42:06, Harsh J wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-10-18 03:42:06)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;HBase isn&apos;t seemingly compiling anymore on 0.23 after the &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-1620&quot; title=&quot;Rename HdfsConstants -&amp;gt; HdfsServerConstants, FSConstants -&amp;gt; HdfsConstants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-1620&quot;&gt;&lt;del&gt;HDFS-1620&lt;/del&gt;&lt;/a&gt; naming refactorings were carried out.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Two solutions:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;1. We use new classnames. This breaks HBase&apos;s backward compatibility with older Hadoop releases (is that a concern with future releases?)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;2. HBase gets its own sets of constants as the upstream one is not marked for public usage. This needs a little more maintenance on HBases&apos; side.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Way (2) seems more viable. I&apos;ve attached an initial patch that doesn&apos;t fix all trouble yet, but introduces the first way of changes.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;The remaining issue lies in the use of DistributedFileSystem&apos;s safemode methods (which are private audience as well) inside of HBase for safemode waits and checks (via HBases&apos; FSUtils class). Since this uses an enum, it is more difficult to handle without upstream interventions - thoughts?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; title=&quot;Check and workaround usage of internal HDFS APIs in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4510&quot;&gt;&lt;del&gt;HBASE-4510&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4510&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/FSHDFSUtils.java dcd0937 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/FSUtils.java 789dd3b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2108/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Harsh&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13129466" author="jiraposter@reviews.apache.org" created="Tue, 18 Oct 2011 04:02:10 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-10-18 04:01:36.605193)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fix Ted&apos;s comments.&lt;/p&gt;

&lt;p&gt;Commenting further on JIRA itself, since this isn&apos;t as urgent as before.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;HBase isn&apos;t seemingly compiling anymore on 0.23 after the &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-1620&quot; title=&quot;Rename HdfsConstants -&amp;gt; HdfsServerConstants, FSConstants -&amp;gt; HdfsConstants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-1620&quot;&gt;&lt;del&gt;HDFS-1620&lt;/del&gt;&lt;/a&gt; naming refactorings were carried out.&lt;/p&gt;

&lt;p&gt;Two solutions:&lt;/p&gt;

&lt;p&gt;1. We use new classnames. This breaks HBase&apos;s backward compatibility with older Hadoop releases (is that a concern with future releases?)&lt;br/&gt;
2. HBase gets its own sets of constants as the upstream one is not marked for public usage. This needs a little more maintenance on HBases&apos; side.&lt;/p&gt;

&lt;p&gt;Way (2) seems more viable. I&apos;ve attached an initial patch that doesn&apos;t fix all trouble yet, but introduces the first way of changes.&lt;/p&gt;

&lt;p&gt;The remaining issue lies in the use of DistributedFileSystem&apos;s safemode methods (which are private audience as well) inside of HBase for safemode waits and checks (via HBases&apos; FSUtils class). Since this uses an enum, it is more difficult to handle without upstream interventions - thoughts?&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; title=&quot;Check and workaround usage of internal HDFS APIs in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4510&quot;&gt;&lt;del&gt;HBASE-4510&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4510&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/util/FSHDFSUtils.java dcd0937 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/FSUtils.java 789dd3b &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2108/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Harsh&lt;/p&gt;
</comment>
                            <comment id="13129468" author="qwertymaniac" created="Tue, 18 Oct 2011 04:10:22 +0000"  >&lt;p&gt;Unfortunately my vacation&apos;s made me go way off-sync surrounding this issue.&lt;/p&gt;

&lt;p&gt;Todd has fixed build for 0.23 via &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2412&quot; title=&quot;Add backwards-compatibility layer for FSConstants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2412&quot;&gt;&lt;del&gt;HDFS-2412&lt;/del&gt;&lt;/a&gt; already, and that patch would be available for 0.23 at least (graceful deprecation being the plan).&lt;/p&gt;

&lt;p&gt;We&apos;re proposing adding a public &apos;check&apos; of SafeMode status in HDFS upstream, via &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2413&quot; title=&quot;Add public APIs for safemode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2413&quot;&gt;&lt;del&gt;HDFS-2413&lt;/del&gt;&lt;/a&gt;, which HBASE and other projects can then rely on.&lt;/p&gt;

&lt;p&gt;Changes made to ticket:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Changed title to reflect new goal.&lt;/li&gt;
	&lt;li&gt;Changed the severity down from blocker as it isn&apos;t anymore, after &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2412&quot; title=&quot;Add backwards-compatibility layer for FSConstants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2412&quot;&gt;&lt;del&gt;HDFS-2412&lt;/del&gt;&lt;/a&gt; went in.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13129475" author="yuzhihong@gmail.com" created="Tue, 18 Oct 2011 04:25:27 +0000"  >&lt;p&gt;+1 on latest patch.&lt;/p&gt;</comment>
                            <comment id="13129498" author="qwertymaniac" created="Tue, 18 Oct 2011 05:21:58 +0000"  >&lt;p&gt;Attaching the +1&apos;d patch.&lt;/p&gt;</comment>
                            <comment id="13131907" author="jiraposter@reviews.apache.org" created="Thu, 20 Oct 2011 19:00:10 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2108/#review2717&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/#review2717&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Michael&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-10-18 04:01:36, Harsh J wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-10-18 04:01:36)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;HBase isn&apos;t seemingly compiling anymore on 0.23 after the &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-1620&quot; title=&quot;Rename HdfsConstants -&amp;gt; HdfsServerConstants, FSConstants -&amp;gt; HdfsConstants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-1620&quot;&gt;&lt;del&gt;HDFS-1620&lt;/del&gt;&lt;/a&gt; naming refactorings were carried out.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Two solutions:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;1. We use new classnames. This breaks HBase&apos;s backward compatibility with older Hadoop releases (is that a concern with future releases?)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;2. HBase gets its own sets of constants as the upstream one is not marked for public usage. This needs a little more maintenance on HBases&apos; side.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Way (2) seems more viable. I&apos;ve attached an initial patch that doesn&apos;t fix all trouble yet, but introduces the first way of changes.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;The remaining issue lies in the use of DistributedFileSystem&apos;s safemode methods (which are private audience as well) inside of HBase for safemode waits and checks (via HBases&apos; FSUtils class). Since this uses an enum, it is more difficult to handle without upstream interventions - thoughts?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; title=&quot;Check and workaround usage of internal HDFS APIs in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4510&quot;&gt;&lt;del&gt;HBASE-4510&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4510&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/FSHDFSUtils.java dcd0937 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/FSUtils.java 789dd3b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2108/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2108/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Harsh&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13131910" author="stack" created="Thu, 20 Oct 2011 19:04:30 +0000"  >&lt;p&gt;Applied to 0.92 branch and TRUNK.  Thanks Harsh.&lt;/p&gt;</comment>
                            <comment id="13132116" author="hudson" created="Thu, 20 Oct 2011 22:21:27 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2346 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2346/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2346/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; title=&quot;Check and workaround usage of internal HDFS APIs in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4510&quot;&gt;&lt;del&gt;HBASE-4510&lt;/del&gt;&lt;/a&gt; Check and workaround usage of internal HDFS APIs in HBase&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/util/FSHDFSUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13132570" author="hudson" created="Fri, 21 Oct 2011 10:04:45 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #75 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/75/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/75/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4510&quot; title=&quot;Check and workaround usage of internal HDFS APIs in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4510&quot;&gt;&lt;del&gt;HBASE-4510&lt;/del&gt;&lt;/a&gt; Check and workaround usage of internal HDFS APIs in HBase&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/FSHDFSUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13141866" author="hudson" created="Wed, 2 Nov 2011 02:56:58 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #96 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/96/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/96/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4708&quot; title=&quot;Revert safemode related pieces of hbase-4510&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4708&quot;&gt;&lt;del&gt;HBASE-4708&lt;/del&gt;&lt;/a&gt; Revert safemode related pieces of hbase-4510&lt;/p&gt;</comment>
                            <comment id="13141929" author="hudson" created="Wed, 2 Nov 2011 05:15:59 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2398 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2398/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2398/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4708&quot; title=&quot;Revert safemode related pieces of hbase-4510&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4708&quot;&gt;&lt;del&gt;HBASE-4708&lt;/del&gt;&lt;/a&gt; Revert safemode related pieces of hbase-4510&lt;/p&gt;</comment>
                            <comment id="15015999" author="lars_francke" created="Fri, 20 Nov 2015 11:53:30 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12520133">HBASE-4254</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12527537">HDFS-2466</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12499509" name="HBASE-4510.patch" size="5185" author="qwertymaniac" created="Tue, 18 Oct 2011 05:21:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Sep 2011 05:46:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39245</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hr6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101665</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>