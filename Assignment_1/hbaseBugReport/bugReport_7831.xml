<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:49:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7831/HBASE-7831.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7831] lightweight way to make RS commit suicide (internally, from code)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7831</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There are times in the life of many a region server when it realizes that it cannot go on any longer in the hostile, inhospitable environment. Or it might realize that there&apos;s something inherently wrong with it on the inside (probably because a developer screwed up). The only way out is killing itself.&lt;br/&gt;
There&apos;s code in some places currently that does Runtime halt in such cases, and there may be code that calls HRegionServer method to do this.&lt;br/&gt;
I think we need some easy-to-access (lightweight interface, or static) way to trigger reliable (no catching exceptions on the upper levels, etc.) RS death in such cases.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12632029">HBASE-7831</key>
            <summary>lightweight way to make RS commit suicide (internally, from code)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Feb 2013 18:31:52 +0000</created>
                <updated>Tue, 7 May 2013 01:52:35 +0000</updated>
                            <resolved>Tue, 7 May 2013 01:52:35 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13576866" author="jdcryans" created="Tue, 12 Feb 2013 18:36:18 +0000"  >&lt;p&gt;In HRS we have the concept of aborting on shutting down (abortRequested). It probably needs improvement.&lt;/p&gt;</comment>
                            <comment id="13576883" author="jmhsieh" created="Tue, 12 Feb 2013 18:53:54 +0000"  >&lt;p&gt;Can you talk about how this would be used by a user or dev? (or is this in the software itself &amp;#8211; which the Abortable stuff should take care of).&lt;/p&gt;

&lt;p&gt;Is the idea to remotely euthanize (via shell possibly) an unhappy region server?  Something similar may be nice for masters as well (HA hdfs has a way to force an a master transition &amp;#8211; this could be similar or our Masters or RS&apos;s).&lt;/p&gt;</comment>
                            <comment id="13576916" author="sershe" created="Tue, 12 Feb 2013 19:28:29 +0000"  >&lt;p&gt;What I had in mind is code like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((currentSeqNum != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        &amp;amp;&amp;amp; (currentSeqNum.longValue() &amp;lt;= seqNumBeforeFlushStarts.longValue())) {
      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; errorStr = &lt;span class=&quot;code-quote&quot;&gt;&quot;Region &quot;&lt;/span&gt; + Bytes.toString(encodedRegionName) +
          &lt;span class=&quot;code-quote&quot;&gt;&quot;acquired edits out of order current memstore seq=&quot;&lt;/span&gt; + currentSeqNum
          + &lt;span class=&quot;code-quote&quot;&gt;&quot;, previous oldest unflushed id=&quot;&lt;/span&gt; + seqNumBeforeFlushStarts;
      LOG.error(errorStr);
      &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; : errorStr;
      &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.getRuntime().halt(1);
    }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;or &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!checkFileSystem()) {
          LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Bad Filesystem, exiting&quot;&lt;/span&gt;);
          &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.getRuntime().halt(1);
        } &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13576934" author="jmhsieh" created="Tue, 12 Feb 2013 19:42:14 +0000"  >&lt;p&gt;This seems like what the abort(...) call from the Abortable interface is for on the HMaster and HRegionServer.  Does it cover the need you bring up?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java#L1913&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java#L1913&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java#L1701&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java#L1701&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Feb 2013 18:36:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312525</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hxlj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>