<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:02:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-15358/HBASE-15358.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-15358] canEnforceTimeLimitFromScope should use timeScope instead of sizeScope</title>
                <link>https://issues.apache.org/jira/browse/HBASE-15358</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;A small but maybe critical bug&lt;/p&gt;</description>
                <environment></environment>
        <key id="12945376">HBASE-15358</key>
            <summary>canEnforceTimeLimitFromScope should use timeScope instead of sizeScope</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yangzhe1991">Phil Yang</assignee>
                                    <reporter username="yangzhe1991">Phil Yang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Feb 2016 08:25:21 +0000</created>
                <updated>Mon, 29 Feb 2016 17:23:31 +0000</updated>
                            <resolved>Mon, 29 Feb 2016 09:32:41 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>1.2.0</version>
                    <version>1.3.0</version>
                    <version>1.1.3</version>
                    <version>1.4.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>1.1.4</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>Scanners</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15171583" author="yangzhe1991" created="Mon, 29 Feb 2016 08:36:13 +0000"  >&lt;p&gt;This patch can be and should be applied to branch-1.1 branch-1.2 branch-1.3 branch-1 and master. Thanks.&lt;/p&gt;</comment>
                            <comment id="15171592" author="apache9" created="Mon, 29 Feb 2016 08:48:38 +0000"  >&lt;p&gt;Yes this should be a typo. Can we add a testcase for it?&lt;/p&gt;</comment>
                            <comment id="15171613" author="yangzhe1991" created="Mon, 29 Feb 2016 09:10:50 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; LimitScope sizeScope = allowPartialResults ? LimitScope.BETWEEN_CELLS : LimitScope.BETWEEN_ROWS;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; LimitScope timeScope = allowHeartbeatMessages ? LimitScope.BETWEEN_CELLS : LimitScope.BETWEEN_ROWS;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Because we supported &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11544&quot; title=&quot;[Ergonomics] hbase.client.scanner.caching is dogged and will try to return batch even if it means OOME&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11544&quot;&gt;&lt;del&gt;HBASE-11544&lt;/del&gt;&lt;/a&gt; before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13090&quot; title=&quot;Progress heartbeats for long running scanners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13090&quot;&gt;&lt;del&gt;HBASE-13090&lt;/del&gt;&lt;/a&gt;, so there are three possible situations: allow none, allow PartialResults but don&apos;t allow HeartbeatMessages, or allow both. So if a client only support PartialResults, at canEnforceTimeLimitFromScope it may be return true and may send back a wrong heartbeat which is not supported by client.&lt;/p&gt;

&lt;p&gt;However, both  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11544&quot; title=&quot;[Ergonomics] hbase.client.scanner.caching is dogged and will try to return batch even if it means OOME&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11544&quot;&gt;&lt;del&gt;HBASE-11544&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13090&quot; title=&quot;Progress heartbeats for long running scanners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13090&quot;&gt;&lt;del&gt;HBASE-13090&lt;/del&gt;&lt;/a&gt; are fixed on 1.1.0, so there are only two situations in all released versions: allow both or none. So maybe it will not be a critical bug, actually it has no bad effect on released versions...&lt;/p&gt;

&lt;p&gt;I think if we want to add a testcase to reproduce this bug, we should disable allowHeartbeatMessages which will not be disabled by users. Should we still add the testcase?&lt;/p&gt;</comment>
                            <comment id="15171623" author="apache9" created="Mon, 29 Feb 2016 09:18:46 +0000"  >&lt;p&gt;Fine. Let&apos;s just commit this.&lt;/p&gt;</comment>
                            <comment id="15171640" author="apache9" created="Mon, 29 Feb 2016 09:32:41 +0000"  >&lt;p&gt;Pushed to 1.1+. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yangzhe1991&quot; class=&quot;user-hover&quot; rel=&quot;yangzhe1991&quot;&gt;Phil Yang&lt;/a&gt; for the patch.&lt;/p&gt;</comment>
                            <comment id="15171741" author="hudson" created="Mon, 29 Feb 2016 11:03:39 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #526 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/526/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/526/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15358&quot; title=&quot;canEnforceTimeLimitFromScope should use timeScope instead of sizeScope&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15358&quot;&gt;&lt;del&gt;HBASE-15358&lt;/del&gt;&lt;/a&gt; canEnforceTimeLimitFromScope should use timeScope instead of (zhangduo: rev 03a02969c47b2cc3d9f4918b0dd0886f1835d783)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScannerContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15171782" author="hudson" created="Mon, 29 Feb 2016 11:50:50 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #450 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/450/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/450/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15358&quot; title=&quot;canEnforceTimeLimitFromScope should use timeScope instead of sizeScope&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15358&quot;&gt;&lt;del&gt;HBASE-15358&lt;/del&gt;&lt;/a&gt; canEnforceTimeLimitFromScope should use timeScope instead of (zhangduo: rev 01a113e5ec7feb3571fe5aa8253934db30ce6cea)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScannerContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15171914" author="hudson" created="Mon, 29 Feb 2016 14:27:14 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #565 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/565/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/565/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15358&quot; title=&quot;canEnforceTimeLimitFromScope should use timeScope instead of sizeScope&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15358&quot;&gt;&lt;del&gt;HBASE-15358&lt;/del&gt;&lt;/a&gt; canEnforceTimeLimitFromScope should use timeScope instead of (zhangduo: rev 01a113e5ec7feb3571fe5aa8253934db30ce6cea)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScannerContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15171920" author="hudson" created="Mon, 29 Feb 2016 14:34:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #579 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/579/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/579/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15358&quot; title=&quot;canEnforceTimeLimitFromScope should use timeScope instead of sizeScope&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15358&quot;&gt;&lt;del&gt;HBASE-15358&lt;/del&gt;&lt;/a&gt; canEnforceTimeLimitFromScope should use timeScope instead of (zhangduo: rev 03a02969c47b2cc3d9f4918b0dd0886f1835d783)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScannerContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15172053" author="hudson" created="Mon, 29 Feb 2016 16:03:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK8 #1758 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1758/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1758/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15358&quot; title=&quot;canEnforceTimeLimitFromScope should use timeScope instead of sizeScope&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15358&quot;&gt;&lt;del&gt;HBASE-15358&lt;/del&gt;&lt;/a&gt; canEnforceTimeLimitFromScope should use timeScope instead of (zhangduo: rev 84c4fe2bd00841fe757d00759a0492a50daaa2b2)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScannerContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15172057" author="hudson" created="Mon, 29 Feb 2016 16:04:57 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-Trunk_matrix #745 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/745/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/745/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15358&quot; title=&quot;canEnforceTimeLimitFromScope should use timeScope instead of sizeScope&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15358&quot;&gt;&lt;del&gt;HBASE-15358&lt;/del&gt;&lt;/a&gt; canEnforceTimeLimitFromScope should use timeScope instead of (zhangduo: rev 88f775996b3b52d784ad13ab07515134619316ba)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScannerContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15172184" author="hudson" created="Mon, 29 Feb 2016 17:23:31 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK7 #1672 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK7/1672/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK7/1672/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15358&quot; title=&quot;canEnforceTimeLimitFromScope should use timeScope instead of sizeScope&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15358&quot;&gt;&lt;del&gt;HBASE-15358&lt;/del&gt;&lt;/a&gt; canEnforceTimeLimitFromScope should use timeScope instead of (zhangduo: rev 84c4fe2bd00841fe757d00759a0492a50daaa2b2)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScannerContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12777230">HBASE-13090</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12790432" name="HBASE-15358-v1.txt" size="1169" author="yangzhe1991" created="Mon, 29 Feb 2016 08:27:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Feb 2016 08:48:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2twcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>