<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:53:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14521/HBASE-14521.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14521] Unify the semantic of hbase.client.retries.number</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14521</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From name of the &lt;em&gt;hbase.client.retries.number&lt;/em&gt; property, it should be the number of maximum &lt;b&gt;retries&lt;/b&gt;, or say if we set the property to 1, there should be 2 attempts in total. However, there&apos;re two different semantics when using it in current code base.&lt;/p&gt;

&lt;p&gt;For example, in ConnectionImplementation#locateRegionInMeta:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; localNumRetries = (retry ? numTries : 1);

    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; tries = 0; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;; tries++) {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (tries &amp;gt;= localNumRetries) {
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NoServerForRegionException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to find region &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &quot;&lt;/span&gt;
            + Bytes.toStringBinary(row) + &lt;span class=&quot;code-quote&quot;&gt;&quot; in &quot;&lt;/span&gt; + tableName +
            &lt;span class=&quot;code-quote&quot;&gt;&quot; after &quot;&lt;/span&gt; + numTries + &lt;span class=&quot;code-quote&quot;&gt;&quot; tries.&quot;&lt;/span&gt;);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the retries number is regarded as max times for &lt;b&gt;tries&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;While in RpcRetryingCallerImpl#callWithRetries:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; tries = 0;; tries++) {
      &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; expectedSleep;
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        callable.prepare(tries != 0); &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; called with &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, check table status on ZK
&lt;/span&gt;        interceptor.intercept(context.prepare(callable, tries));
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; callable.call(getRemainingTime(callTimeout));
      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (PreemptiveFastFailException e) {
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; e;
      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable t) {
        ...
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (tries &amp;gt;= retries - 1) {
          &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RetriesExhaustedException(tries, exceptions);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;it&apos;s regarded as exactly for &lt;b&gt;REtry&lt;/b&gt; (try a call first with no condition and then check whether to retry or exceeds maximum retry number)&lt;/p&gt;

&lt;p&gt;This inconsistency will cause misunderstanding in usage, such as one of our customer set the property to zero expecting one single call but finally received NoServerForRegionException.&lt;/p&gt;

&lt;p&gt;We should unify the semantic of the property, and I suggest to keep the original one for retry rather than total tries.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12901524">HBASE-14521</key>
            <summary>Unify the semantic of hbase.client.retries.number</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="carp84">Yu Li</assignee>
                                    <reporter username="carp84">Yu Li</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Sep 2015 07:36:21 +0000</created>
                <updated>Fri, 9 Sep 2016 02:59:37 +0000</updated>
                            <resolved>Thu, 15 Oct 2015 08:46:41 +0000</resolved>
                                    <version>0.98.14</version>
                    <version>1.1.2</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14936506" author="carp84" created="Wed, 30 Sep 2015 07:52:34 +0000"  >&lt;p&gt;Attache the initial patch in sync with &lt;a href=&quot;https://reviews.apache.org/r/38886&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;rb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From the change you could also find that we&apos;re doing tricks in our UT cases, such as increasing the call number when createAsyncRequestFuture before any real call sent in TestAsyncProcess$MyAsyncProcess&lt;/p&gt;

&lt;p&gt;After the change, setting HConstants.HBASE_CLIENT_RETRIES_NUMBER to zero will allow user to call only once.&lt;/p&gt;</comment>
                            <comment id="14947959" author="carp84" created="Thu, 8 Oct 2015 02:08:31 +0000"  >&lt;p&gt;rebase on latest code&lt;/p&gt;</comment>
                            <comment id="14947961" author="carp84" created="Thu, 8 Oct 2015 02:09:49 +0000"  >&lt;p&gt;trigger a HadoopQA run&lt;/p&gt;</comment>
                            <comment id="14948020" author="hadoopqa" created="Thu, 8 Oct 2015 03:34:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12765500/HBASE-14521_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12765500/HBASE-14521_v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 7e30436e3fa84525b85b05b9e23cb01b2ada7c12.&lt;br/&gt;
  ATTACHMENT ID: 12765500&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestAsyncProcess&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15909//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15909//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15909//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15909//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15909//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15909//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15909//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15909//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14948219" author="carp84" created="Thu, 8 Oct 2015 07:44:03 +0000"  >&lt;p&gt;Fix UT failure reported by HadoopQA. The design of TestAsyncProcess#testReplicaReplicaSuccessWithParallelFailures means to try only once (no retry), and modify the case accordingly with the uniform semantic.&lt;/p&gt;</comment>
                            <comment id="14948483" author="hadoopqa" created="Thu, 8 Oct 2015 11:01:13 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12765535/HBASE-14521_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12765535/HBASE-14521_v3.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 7e30436e3fa84525b85b05b9e23cb01b2ada7c12.&lt;br/&gt;
  ATTACHMENT ID: 12765535&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15914//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15914//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15914//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15914//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15914//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15914//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15914//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15914//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14950283" author="nkeywal" created="Fri, 9 Oct 2015 12:03:08 +0000"  >&lt;p&gt;It&apos;s a good point: the existing implementation is confusing.&lt;br/&gt;
The patch looks good. It contains a lot of cleanup that will make the code easier to read (thanks, Yu!)&lt;/p&gt;

&lt;p&gt;I&apos;m surprised by this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@@ -137,7 +137,6 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestAsyncProcess {
       AsyncRequestFutureImpl&amp;lt;Res&amp;gt; r = &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.createAsyncRequestFuture(
           DUMMY_TABLE, actions, nonceGroup, pool, callback, results, needResults);
       allReqs.add(r);
-      callsCt.incrementAndGet();  &amp;lt;=========== We should &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt; to count the calls, no?
       &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; r;
     }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that setting retries to zero is most of the time an error as we can have a retry in many cases, for example iif the client cache is not up to date (contains the wrong region server for a region). &lt;/p&gt;</comment>
                            <comment id="14951570" author="carp84" created="Sat, 10 Oct 2015 03:37:50 +0000"  >&lt;p&gt;Thanks for the comments Nicolas.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;We should continue to count the calls, no?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;From codes in AsyncProcess, after getting AsyncRequestFutureImpl instance from createAsyncRequestFuture call, the code flow is like:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;AsyncRequestFutureImpl#sendMultiAction-&amp;gt;SingleServerRequestRunnable#run
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;where it will createCaller first and invoke callWithoutRetries to issue the real call:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
          callable = createCallable(server, tableName, multiAction);
          &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            RpcRetryingCaller&amp;lt;MultiResponse&amp;gt; caller = createCaller(callable);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (callsInProgress != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) callsInProgress.add(callable);
            res = caller.callWithoutRetries(callable, timeout);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Actually the ideal way is to increase the callsCt inside callWithoutRetries, but it&apos;s also ok to do the increment in createCaller, just as we do in TestAsyncProcess.&lt;br/&gt;
If the above analysis is correct (plz correct me if I stated anything wrong), then the count of calls in createAsyncRequestFuture is redundant. I&apos;d also regard it as a trick to work around the inconsistency of hbase.client.retries.number before.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Note that setting retries to zero is most of the time an error as we can have a retry in many cases, for example iif the client cache is not up to date (contains the wrong region server for a region).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agree that retry is necessary for client cache update, and we shouldn&apos;t set retries to zero under most common cases, but in some corner cases we may still don&apos;t want any retry, just like we did in some of the UT cases. Let me add a line in the release note.&lt;/p&gt;</comment>
                            <comment id="14955354" author="nkeywal" created="Tue, 13 Oct 2015 17:51:24 +0000"  >&lt;p&gt;Yep &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=carp84&quot; class=&quot;user-hover&quot; rel=&quot;carp84&quot;&gt;Yu Li&lt;/a&gt;, I think your analysis is correct: it was a workaround.&lt;/p&gt;

&lt;p&gt;While looking again at the patch, I found a typo that I will fix on commit&lt;br/&gt;
&amp;gt; public RetriesExhaustedException(final int numReries,&lt;/p&gt;

&lt;p&gt;I&apos;m +1, I will commit on master tomorrow my time if nobody disagrees.&lt;/p&gt;</comment>
                            <comment id="14956248" author="carp84" created="Wed, 14 Oct 2015 04:41:57 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I found a typo that I will fix on commit&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes please, thanks for the careful review &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14958519" author="nkeywal" created="Thu, 15 Oct 2015 08:46:41 +0000"  >&lt;p&gt;Committed to master. I didn&apos;t commit to 1.x branch because it&apos;s a  behavior change...&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Yu!.&lt;/p&gt;</comment>
                            <comment id="14958528" author="carp84" created="Thu, 15 Oct 2015 08:52:09 +0000"  >&lt;p&gt;Thanks for review and help commit &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14958753" author="hudson" created="Thu, 15 Oct 2015 11:27:33 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #6915 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6915/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6915/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14521&quot; title=&quot;Unify the semantic of hbase.client.retries.number&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14521&quot;&gt;&lt;del&gt;HBASE-14521&lt;/del&gt;&lt;/a&gt; Unify the semantic of hbase.client.retries.number (Yu Li) (nkeywal: rev e7defd7d9a76f44e3089db3fe522fe400fe6dcd7)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/RetriesExhaustedException.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTableMultiplexer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMasterCommandLine.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestHCM.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/RpcRetryingCallerImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestAsyncProcess.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestBlockEvictionFromClient.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionImplementation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12992890">HBASE-16291</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12969731">HBASE-15829</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12764395" name="HBASE-14521.patch" size="22078" author="carp84" created="Wed, 30 Sep 2015 07:52:34 +0000"/>
                            <attachment id="12765500" name="HBASE-14521_v2.patch" size="22192" author="carp84" created="Thu, 8 Oct 2015 02:08:31 +0000"/>
                            <attachment id="12765535" name="HBASE-14521_v3.patch" size="24521" author="carp84" created="Thu, 8 Oct 2015 07:44:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Oct 2015 03:34:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mg07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>After this change, hbase.client.reties.number universally means the number of retry which is one less than total tries number,  for both non-batch operations like get/scan/increment etc. which uses RpcRetryingCallerImpl#callWithRetries to submit the call or batch operations like put through AsyncProcess#submit.&lt;br/&gt;
&lt;br/&gt;
Note that previously this property means total tries number for puts, so please adjust the setting of its value if necessary. Please also be cautious when setting it to zero since retry is necessary for client cache update when region move happens.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>