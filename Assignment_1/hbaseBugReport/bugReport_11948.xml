<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:28:11 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11948/HBASE-11948.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11948] graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11948</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The script graceful_stop.sh should use hbase-daemon.sh instead of hbase-daemons.sh when it&apos;s executed on the local decomissioned node.&lt;/p&gt;

&lt;p&gt;hbase-daemons.sh use ssh to perform the stop/start action, which mean the  local server public key need to be added in the known_hosts.&lt;/p&gt;

&lt;p&gt;hbase-daemon.sh is more appropriate to stop/start on a local host as it don&apos;t need ssh to perform the stop/start action.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux&lt;/p&gt;</environment>
        <key id="12740732">HBASE-11948</key>
            <summary>graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sbarrier">Sebastien Barrier</assignee>
                                    <reporter username="sbarrier">Sebastien Barrier</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Thu, 11 Sep 2014 09:49:13 +0000</created>
                <updated>Tue, 27 Oct 2015 19:37:18 +0000</updated>
                            <resolved>Fri, 26 Sep 2014 20:42:38 +0000</resolved>
                                    <version>0.99.0</version>
                    <version>0.94.23</version>
                    <version>0.98.6</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.7</fixVersion>
                    <fixVersion>0.99.1</fixVersion>
                                    <component>scripts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                            <comments>
                            <comment id="14129880" author="sbarrier" created="Thu, 11 Sep 2014 11:02:50 +0000"  >&lt;p&gt;Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11948&quot; title=&quot;graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11948&quot;&gt;&lt;del&gt;HBASE-11948&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14129920" author="jmspaggi" created="Thu, 11 Sep 2014 11:39:09 +0000"  >&lt;p&gt;I don&apos;t see any issue with both of the options (Your patch and the current behavior). Have you looked into trunk to see if it&apos;s still the same? Can you please provide a patch for trunk?&lt;/p&gt;

&lt;p&gt;Thanks for doing this.&lt;/p&gt;</comment>
                            <comment id="14129943" author="sbarrier" created="Thu, 11 Sep 2014 12:15:51 +0000"  >&lt;p&gt;This patch have been made from the HBASE trunk. &lt;/p&gt;

&lt;p&gt;There&apos;s no real issue except it use SSH and it need key added, instead of running local command, that&apos;s why there&apos;s hbase-daemons.sh for remote exec and hbase-daemon.sh for local one no ?&lt;/p&gt;</comment>
                            <comment id="14130004" author="jmspaggi" created="Thu, 11 Sep 2014 13:22:42 +0000"  >&lt;p&gt;Applied the patch locally successufly on trunk. LGTM. +1&lt;/p&gt;</comment>
                            <comment id="14130240" author="stack" created="Thu, 11 Sep 2014 16:26:05 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Does not disturb current workings adding a short-circuit when &apos;local&apos;.&lt;/p&gt;</comment>
                            <comment id="14147216" author="jmspaggi" created="Thu, 25 Sep 2014 01:19:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt; anyone to commit this?&lt;/p&gt;</comment>
                            <comment id="14149298" author="yuzhihong@gmail.com" created="Fri, 26 Sep 2014 15:32:11 +0000"  >&lt;p&gt;Adding indentation for local mode check.&lt;/p&gt;</comment>
                            <comment id="14149307" author="yuzhihong@gmail.com" created="Fri, 26 Sep 2014 15:37:27 +0000"  >&lt;p&gt;Integrated to branch-1 and master.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Sebastien.&lt;br/&gt;
Thanks for the reviews, Stack and J-M.&lt;/p&gt;

&lt;p&gt;Do you want this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="14149697" author="hudson" created="Fri, 26 Sep 2014 17:43:07 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5563 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5563/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5563/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11948&quot; title=&quot;graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11948&quot;&gt;&lt;del&gt;HBASE-11948&lt;/del&gt;&lt;/a&gt; graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node (Sebastien Barrier) (tedyu: rev 88cd708d8da080265cb3b1ceeaf8fdedb1e45fe5)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;bin/graceful_stop.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14149707" author="hudson" created="Fri, 26 Sep 2014 17:47:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #232 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/232/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/232/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11948&quot; title=&quot;graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11948&quot;&gt;&lt;del&gt;HBASE-11948&lt;/del&gt;&lt;/a&gt; graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node (Sebastien Barrier) (tedyu: rev e5840e9517e20dc54464035907097296c4f15e1f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;bin/graceful_stop.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14149933" author="apurtell" created="Fri, 26 Sep 2014 20:35:20 +0000"  >&lt;p&gt;Sure +1&lt;/p&gt;</comment>
                            <comment id="14149940" author="yuzhihong@gmail.com" created="Fri, 26 Sep 2014 20:42:38 +0000"  >&lt;p&gt;Integrated to 0.98 as well.&lt;/p&gt;</comment>
                            <comment id="14150033" author="hudson" created="Fri, 26 Sep 2014 21:38:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #543 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/543/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/543/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11948&quot; title=&quot;graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11948&quot;&gt;&lt;del&gt;HBASE-11948&lt;/del&gt;&lt;/a&gt; graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node (Sebastien Barrier) (tedyu: rev e7ff09210b84d37d65749a3d86c707c1bc4c6083)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;bin/graceful_stop.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14150224" author="hudson" created="Fri, 26 Sep 2014 23:58:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #517 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/517/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/517/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11948&quot; title=&quot;graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11948&quot;&gt;&lt;del&gt;HBASE-11948&lt;/del&gt;&lt;/a&gt; graceful_stop.sh should use hbase-daemon.sh when executed on the decomissioned node (Sebastien Barrier) (tedyu: rev e7ff09210b84d37d65749a3d86c707c1bc4c6083)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;bin/graceful_stop.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331434" author="enis" created="Sat, 21 Feb 2015 23:40:55 +0000"  >&lt;p&gt;Closing this issue after 0.99.1 release.&lt;/p&gt;</comment>
                            <comment id="14977022" author="stack" created="Tue, 27 Oct 2015 19:37:18 +0000"  >&lt;p&gt;Looks like this script was not tested on cluster. Its broke.&lt;/p&gt;

&lt;p&gt;In particular, it does this:&lt;/p&gt;

&lt;p&gt;+local=false&lt;br/&gt;
+localhostname=`/bin/hostname`&lt;br/&gt;
+&lt;br/&gt;
+if [ &quot;$localhostname&quot; == &quot;$hostname&quot; ]; then&lt;br/&gt;
+  local=true&lt;br/&gt;
+fi&lt;/p&gt;

&lt;p&gt;... then this is the test for whether something is local:&lt;/p&gt;

&lt;p&gt;+  if [ &quot;$local&quot; ]; then&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12671470" name="11948-v2.txt" size="2815" author="yuzhihong@gmail.com" created="Fri, 26 Sep 2014 15:32:11 +0000"/>
                            <attachment id="12668014" name="HBASE-11948.patch" size="2805" author="sbarrier" created="Thu, 11 Sep 2014 11:02:50 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12908335">HBASE-14709</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Sep 2014 11:39:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zx4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>