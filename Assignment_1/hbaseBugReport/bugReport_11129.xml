<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:20:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11129/HBASE-11129.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11129] Expose Scan conversion methods in TableMapReduceUtil as public methods</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11129</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Scan#readFields() from 0.92 has been removed.&lt;br/&gt;
TableMapReduceUtil has the following package private methods:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; convertScanToString(Scan scan) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Scan convertStringToScan(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; base64) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We should consider exposing them as public methods so that user can interpret Scan objects easily in mapreduce jobs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12712887">HBASE-11129</key>
            <summary>Expose Scan conversion methods in TableMapReduceUtil as public methods</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="gustavoanatoly">Gustavo Anatoly</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 May 2014 17:05:01 +0000</created>
                <updated>Sat, 10 May 2014 16:01:27 +0000</updated>
                                                                            <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13992181" author="gustavoanatoly" created="Wed, 7 May 2014 20:19:54 +0000"  >&lt;p&gt;Changed access level to public.&lt;/p&gt;</comment>
                            <comment id="13992403" author="ndimiduk" created="Thu, 8 May 2014 01:18:20 +0000"  >&lt;p&gt;mapreduce.TableInputFormat exposes scan parameters via configuration. Can you read the required scan attributes from conf instead? It looks like TableMapReduceUtil#initTableMapperJob should be modified to break up the scan into pieces instead of serializing the opaque blob &amp;#8211; then we can do away with the base64 encoding entirely and there&apos;s no internal vs external API.&lt;/p&gt;

&lt;p&gt;Will either of these solutions work for you?&lt;/p&gt;</comment>
                            <comment id="13992410" author="yuzhihong@gmail.com" created="Thu, 8 May 2014 01:29:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;can do away with the base64 encoding&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That would not be compatible with existing Scan serialization, right ?&lt;/p&gt;</comment>
                            <comment id="13992863" author="ndimiduk" created="Thu, 8 May 2014 15:51:42 +0000"  >&lt;p&gt;Passing the scanner on the jobconf is a private API, now that the serialization details are private methods. This implementation detail should be isolated within a single job &amp;#8211; either it picks up the 0.X.Y hbase-server jar or it has 0.X.Z version, there&apos;s no mixing. We&apos;d need to test it out, but I think making this change could be acceptable for a patch release.&lt;/p&gt;

&lt;p&gt;Looking at TableInputFormat#setConf, either &quot;hbase.mapreduce.scan&quot; is respected, or &quot;hbase.mapreduce.scan.*&quot; params are used. What I propose does away with the former. This way, these configs become part of the public API.&lt;/p&gt;</comment>
                            <comment id="13992872" author="ndimiduk" created="Thu, 8 May 2014 16:01:38 +0000"  >&lt;p&gt;Looking for some context here, I cannot find the commit that makes this interface private. Do you know off the top of your head (&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;)?&lt;/p&gt;</comment>
                            <comment id="13994248" author="gustavoanatoly" created="Sat, 10 May 2014 16:01:27 +0000"  >&lt;p&gt;We could enjoy this issue to refactor and plan some tests. This changes require voting?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12643841" name="HBASE-11129.patch" size="1230" author="gustavoanatoly" created="Wed, 7 May 2014 20:19:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 May 2014 20:19:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vdlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>