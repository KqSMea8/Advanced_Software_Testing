<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:51:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1175/HBASE-1175.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1175] HBA administrative tools do not work when specifying regionName</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1175</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HBaseAdmin administrative functions allow tableName or regionName through the API.  Things are okay if we pass tableName, but when using regionName the code in HMaster is incorrect.  It is expecting to be passed tableName and startRow, but we are passing null and regionName.  Patch will fix master to handle this case properly.&lt;/p&gt;

&lt;p&gt;Log for good measure:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[hbase@mb0 StyBase]$ java TableMaintenance chunks
Running maintenance on table &apos;chunks&apos;
Table contains 2 regions
  &amp;gt; Flushing region {chunks,,1229390225893}
EXCEPTION FLUSHING REGION! [org.apache.hadoop.ipc.RemoteException: java.io.IOException: Invalid arguments to openScanner
        at org.apache.hadoop.hbase.regionserver.HRegionServer.openScanner(HRegionServer.java:1695)
        at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:616)
        at org.apache.hadoop.hbase.ipc.HBaseRPC$Server.call(HBaseRPC.java:632)
        at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:895)
Caused by: java.lang.NullPointerException: firstRow &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; scanner is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        at org.apache.hadoop.hbase.regionserver.HRegionServer.openScanner(HRegionServer.java:1692)
        ... 5 more

        at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:701)
        at org.apache.hadoop.hbase.ipc.HBaseRPC$Invoker.invoke(HBaseRPC.java:321)
        at $Proxy2.openScanner(Unknown Source)
        at org.apache.hadoop.hbase.master.HMaster.getTableRegionClosest(HMaster.java:725)
        at org.apache.hadoop.hbase.master.HMaster.modifyTable(HMaster.java:804)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:616)
        at org.apache.hadoop.hbase.ipc.HBaseRPC$Server.call(HBaseRPC.java:632)
        at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:895)
]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12413828">HBASE-1175</key>
            <summary>HBA administrative tools do not work when specifying regionName</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="streamy">Jonathan Gray</assignee>
                                    <reporter username="streamy">Jonathan Gray</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Feb 2009 23:54:43 +0000</created>
                <updated>Sun, 13 Sep 2009 22:24:23 +0000</updated>
                            <resolved>Thu, 5 Feb 2009 05:56:08 +0000</resolved>
                                    <version>0.19.0</version>
                    <version>0.20.0</version>
                                    <fixVersion>0.19.1</fixVersion>
                    <fixVersion>0.20.0</fixVersion>
                                    <component>Client</component>
                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12669839" author="streamy" created="Tue, 3 Feb 2009 01:51:23 +0000"  >&lt;p&gt;Tested and working now when specifying a regionName.  Wait until tomorrow to commit, I will be doing a lot with these functions and will give +1 after I know it works.&lt;/p&gt;

&lt;p&gt;Please review patch to make sure I&apos;m following proper conventions &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12669840" author="streamy" created="Tue, 3 Feb 2009 01:53:32 +0000"  >&lt;p&gt;Have verified that patch applies against both 0.19 branch and 0.20 trunk&lt;/p&gt;</comment>
                            <comment id="12669846" author="jdcryans" created="Tue, 3 Feb 2009 02:20:48 +0000"  >&lt;p&gt;Your splitRegionName method shares some code with HSK.stripStartKeyMeta but that one is private... maybe refactor all that in a util class? I would also change the name for parseRegionName, less confusing. Check also the lengths of your lines.&lt;/p&gt;

&lt;p&gt;In getTableRegionFromName startKey and columns are never used.&lt;/p&gt;

&lt;p&gt;Rest seems fine.&lt;/p&gt;</comment>
                            <comment id="12669867" author="streamy" created="Tue, 3 Feb 2009 04:26:05 +0000"  >&lt;p&gt;Removed extra variables, changed function name, fixed line lengths.&lt;/p&gt;

&lt;p&gt;Thanks jd&lt;/p&gt;</comment>
                            <comment id="12669902" author="apurtell" created="Tue, 3 Feb 2009 09:17:52 +0000"  >&lt;p&gt;Code in master did not expect startRow, it expected only a key somewhere within the region. See comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-902&quot; title=&quot;Add force compaction and force split operations to UI and Admin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-902&quot;&gt;&lt;del&gt;HBASE-902&lt;/del&gt;&lt;/a&gt; as to why. I don&apos;t care if the semantics are changed, but at least the comment in the master UI at the bottom of the region view must be changed. Also do these changes break the shell surgery tools? &lt;/p&gt;</comment>
                            <comment id="12669994" author="streamy" created="Tue, 3 Feb 2009 15:42:28 +0000"  >&lt;p&gt;Andrew, will test today but this should not have broken the existing semantics.&lt;/p&gt;

&lt;p&gt;Code in HMaster supports three possibilities now:  (null,regionName)  (tableName,rowKey)  or (tableName,null)&lt;/p&gt;

&lt;p&gt;Whether or not that&apos;s what we want is another question, but as this patch stands this is all supported.  Not sure if we want to expose all three possibilities to web ui, HBA, shell.&lt;/p&gt;</comment>
                            <comment id="12670045" author="apurtell" created="Tue, 3 Feb 2009 18:29:16 +0000"  >&lt;p&gt;Thanks for the clarification Jonathan.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12670174" author="apurtell" created="Tue, 3 Feb 2009 23:34:05 +0000"  >&lt;p&gt;Ok to go ahead and commit this Jonathan? &lt;/p&gt;</comment>
                            <comment id="12670391" author="streamy" created="Wed, 4 Feb 2009 18:01:19 +0000"  >&lt;p&gt;Yes.  Have run this on every region in one of my clusters a few times in the past two days without a problem.&lt;/p&gt;

&lt;p&gt;+1 to commit&lt;/p&gt;</comment>
                            <comment id="12670638" author="apurtell" created="Thu, 5 Feb 2009 05:56:08 +0000"  >&lt;p&gt;I&apos;ve been running this also. Committed to trunk and 0.19 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399322" name="hbase-1175-v1.patch" size="4189" author="streamy" created="Tue, 3 Feb 2009 01:51:48 +0000"/>
                            <attachment id="12399332" name="hbase-1175-v2.patch" size="4062" author="streamy" created="Tue, 3 Feb 2009 04:26:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Feb 2009 02:20:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25613</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 46 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hbrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99170</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>