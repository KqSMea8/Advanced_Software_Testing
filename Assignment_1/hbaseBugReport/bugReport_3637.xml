<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:11:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3637/HBASE-3637.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3637] Region stuck in OPENED state</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3637</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I don&apos;t 100% understand how this happened, but the following was observed:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;META is in OPENED state in ZK, for a server which no longer exists&lt;/li&gt;
	&lt;li&gt;Handler sees that server is dead, and figures that the RIT timeout will handle it&lt;/li&gt;
	&lt;li&gt;RIT timeout sees that it&apos;s already in OPENED state, and assumes that the OPENED handler will handle it&lt;/li&gt;
	&lt;li&gt;loops in timeout state forever, never actually getting reassigned&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12501393">HBASE-3637</key>
            <summary>Region stuck in OPENED state</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tlipcon">Todd Lipcon</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Mar 2011 20:14:12 +0000</created>
                <updated>Fri, 20 Nov 2015 12:40:33 +0000</updated>
                            <resolved>Tue, 15 Mar 2011 01:18:33 +0000</resolved>
                                    <version>0.92.0</version>
                                    <fixVersion>0.92.0</fixVersion>
                                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13006614" author="tlipcon" created="Mon, 14 Mar 2011 20:14:40 +0000"  >&lt;p&gt;2011-03-11 06:42:58,301 DEBUG org.apache.hadoop.hbase.zookeeper.ZKUtil: master:60000-0x22ea55e0f670002 Retrieved 65 byte(s) of data from znode /hbase/unassigned/1028785192 and set watcher; region=.META.,,1, server=trek08.sf.cloudera.com,60020,1299853933073, state=RS_ZK_REGION_OPENED&lt;br/&gt;
2011-03-11 06:42:58,301 INFO org.apache.hadoop.hbase.master.AssignmentManager: Processing region .META.,,1.1028785192 in state RS_ZK_REGION_OPENED&lt;br/&gt;
2011-03-11 06:42:58,302 WARN org.apache.hadoop.hbase.master.AssignmentManager: Region in transition 1028785192 references a server no longer up trek08.sf.cloudera.com,60020,1299853933073; letting RIT timeout so will be assigned elsewhere&lt;br/&gt;
2011-03-11 06:42:58,304 DEBUG org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher: master:60000-0x22ea55e0f670002 Received ZooKeeper Event, type=NodeDataChanged, state=SyncConnected, path=/hbase/unassigned/70236052&lt;br/&gt;
2011-03-11 06:42:58,305 DEBUG org.apache.hadoop.hbase.zookeeper.ZKUtil: master:60000-0x22ea55e0f670002 Retrieved 65 byte(s) of data from znode /hbase/unassigned/70236052 and set watcher; region=&lt;del&gt;ROOT&lt;/del&gt;,,0, server=trek10.sf.cloudera.com,60020,1299854562169, state=RS_ZK_REGION_OPENED&lt;br/&gt;
2011-03-11 06:42:58,305 DEBUG org.apache.hadoop.hbase.master.AssignmentManager: Handling transition=RS_ZK_REGION_OPENED, server=trek10.sf.cloudera.com,60020,1299854562169, region=70236052/&lt;del&gt;ROOT&lt;/del&gt;&lt;br/&gt;
2011-03-11 06:42:58,307 DEBUG org.apache.hadoop.hbase.master.handler.OpenedRegionHandler: Handling OPENED event for 70236052; deleting unassigned node&lt;br/&gt;
2011-03-11 06:42:58,308 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign: master:60000-0x22ea55e0f670002 Deleting existing unassigned node for 70236052 that is in expected state RS_ZK_REGION_OPENED&lt;br/&gt;
2011-03-11 06:42:58,313 DEBUG org.apache.hadoop.hbase.zookeeper.ZKUtil: master:60000-0x22ea55e0f670002 Retrieved 65 byte(s) of data from znode /hbase/unassigned/70236052; data=region=&lt;del&gt;ROOT&lt;/del&gt;,,0, server=trek10.sf.cloudera.com,60020,1299854562169, state=RS_ZK_REGION_OPENED&lt;br/&gt;
2011-03-11 06:42:58,315 DEBUG org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher: master:60000-0x22ea55e0f670002 Received ZooKeeper Event, type=NodeDeleted, state=SyncConnected, path=/hbase/unassigned/70236052&lt;br/&gt;
2011-03-11 06:42:58,315 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign: master:60000-0x22ea55e0f670002 Successfully deleted unassigned node for region 70236052 in expected state RS_ZK_REGION_OPENED&lt;br/&gt;
2011-03-11 06:42:58,316 DEBUG org.apache.hadoop.hbase.master.handler.OpenedRegionHandler: Opened region &lt;del&gt;ROOT&lt;/del&gt;,,0.70236052 on trek10.sf.cloudera.com,60020,1299854562169&lt;br/&gt;
2011-03-11 06:42:59,097 INFO org.apache.hadoop.hbase.master.AssignmentManager: Regions in transition timed out:  .META.,,1.1028785192 state=OPENING, ts=1299854016886&lt;br/&gt;
2011-03-11 06:42:59,097 INFO org.apache.hadoop.hbase.master.AssignmentManager: Region has been OPENING for too long, reassigning region=.META.,,1.1028785192&lt;br/&gt;
2011-03-11 06:42:59,098 DEBUG org.apache.hadoop.hbase.zookeeper.ZKUtil: master:60000-0x22ea55e0f670002 Retrieved 65 byte(s) of data from znode /hbase/unassigned/1028785192; data=region=.META.,,1, server=trek08.sf.cloudera.com,60020,1299853933073, state=RS_ZK_REGION_OPENED&lt;br/&gt;
2011-03-11 06:42:59,099 DEBUG org.apache.hadoop.hbase.master.AssignmentManager: Region has transitioned to OPENED, allowing watched event handlers to process&lt;/p&gt;</comment>
                            <comment id="13006619" author="tlipcon" created="Mon, 14 Mar 2011 20:24:50 +0000"  >&lt;p&gt;Some more context: this was from a test that was looping the following:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;install HBase&lt;/li&gt;
	&lt;li&gt;wipe /hbase on HDFS&lt;/li&gt;
	&lt;li&gt;start hbase, run smoke test, kill all servers&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Notably, it wasn&apos;t clearing ZK between runs. So some leftover RIT data from a previous HBase incarnation may be confusing this one&apos;s master.&lt;/p&gt;</comment>
                            <comment id="13006708" author="stack" created="Mon, 14 Mar 2011 23:06:28 +0000"  >&lt;p&gt;OK if I close this in favor of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3638&quot; title=&quot;If a FS bootstrap, need to also ensure ZK is cleaned&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3638&quot;&gt;HBASE-3638&lt;/a&gt; Todd?&lt;/p&gt;</comment>
                            <comment id="13006738" author="tlipcon" created="Tue, 15 Mar 2011 00:24:01 +0000"  >&lt;p&gt;sure&lt;/p&gt;</comment>
                            <comment id="13006753" author="stack" created="Tue, 15 Mar 2011 01:18:33 +0000"  >&lt;p&gt;Will fix &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3638&quot; title=&quot;If a FS bootstrap, need to also ensure ZK is cleaned&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3638&quot;&gt;HBASE-3638&lt;/a&gt; instead&lt;/p&gt;</comment>
                            <comment id="15016743" author="lars_francke" created="Fri, 20 Nov 2015 12:40:33 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Mar 2011 23:06:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26957</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hn5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>