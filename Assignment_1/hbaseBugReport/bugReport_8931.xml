<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:59:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8931/HBASE-8931.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8931] TestTableLockManager.testTableReadLock fails</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8931</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://54.241.6.143/job/HBase-0.95-Hadoop-2/org.apache.hbase$hbase-server/602/testReport/org.apache.hadoop.hbase.master/TestTableLockManager/testTableReadLock/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://54.241.6.143/job/HBase-0.95-Hadoop-2/org.apache.hbase$hbase-server/602/testReport/org.apache.hadoop.hbase.master/TestTableLockManager/testTableReadLock/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When we run tests, they run w/ assertions enabled so we can stuff like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-07-11 08:55:40,781 INFO  [RpcServer.handler=0,port=51447] regionserver.HRegionServer(3619): Splitting testTableReadLock,85203ae86f2de2662ca5b6d614fbe495-4672,1373532936861.f17cc40a225b8de3797757dc3b05dde3.
2013-07-11 08:55:40,782 ERROR [RpcServer.handler=0,port=51447] ipc.RpcServer(2161): Unexpected throwable object 
java.lang.AssertionError: getSplitPoint() called on a region that can&apos;t split!
	at org.apache.hadoop.hbase.regionserver.HStore.getSplitPoint(HStore.java:1587)
	at org.apache.hadoop.hbase.regionserver.RegionSplitPolicy.getSplitPoint(RegionSplitPolicy.java:81)
	at org.apache.hadoop.hbase.regionserver.HRegion.checkSplit(HRegion.java:5311)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.splitRegion(HRegionServer.java:3626)
	at org.apache.hadoop.hbase.protobuf.generated.AdminProtos$AdminService$2.callBlockingMethod(AdminProtos.java:14396)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2124)
	at org.apache.hadoop.hbase.ipc.RpcServer$Handler.run(RpcServer.java:1831)
2013-07-11 08:55:40,816 DEBUG [Split thread] catalog.CatalogTracker(208): Stopping catalog tracker org.apache.hadoop.hbase.catalog.CatalogTracker@25e0df1b
2013-07-11 08:55:40,833 WARN  [Split thread] master.TestTableLockManager$7(382): Caught exception
java.io.IOException: java.io.IOException: getSplitPoint() called on a region that can&apos;t split!
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2162)
	at org.apache.hadoop.hbase.ipc.RpcServer$Handler.run(RpcServer.java:1831)
Caused by: java.lang.AssertionError: getSplitPoint() called on a region that can&apos;t split!
	at org.apache.hadoop.hbase.regionserver.HStore.getSplitPoint(HStore.java:1587)
	at org.apache.hadoop.hbase.regionserver.RegionSplitPolicy.getSplitPoint(RegionSplitPolicy.java:81)
	at org.apache.hadoop.hbase.regionserver.HRegion.checkSplit(HRegion.java:5311)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.splitRegion(HRegionServer.java:3626)
	at org.apache.hadoop.hbase.protobuf.generated.AdminProtos$AdminService$2.callBlockingMethod(AdminProtos.java:14396)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2124)
	... 1 more

	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:90)
	at org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:79)
	at org.apache.hadoop.hbase.protobuf.ProtobufUtil.getRemoteException(ProtobufUtil.java:232)
	at org.apache.hadoop.hbase.protobuf.ProtobufUtil.split(ProtobufUtil.java:1511)
	at org.apache.hadoop.hbase.client.HBaseAdmin.split(HBaseAdmin.java:1801)
	at org.apache.hadoop.hbase.client.HBaseAdmin.split(HBaseAdmin.java:1774)
	at org.apache.hadoop.hbase.client.HBaseAdmin.split(HBaseAdmin.java:1747)
	at org.apache.hadoop.hbase.master.TestTableLockManager$7.chore(TestTableLockManager.java:372)
	at org.apache.hadoop.hbase.Chore.run(Chore.java:80)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
Caused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException(java.io.IOException): java.io.IOException: getSplitPoint() called on a region that can&apos;t split!
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2162)
	at org.apache.hadoop.hbase.ipc.RpcServer$Handler.run(RpcServer.java:1831)
Caused by: java.lang.AssertionError: getSplitPoint() called on a region that can&apos;t split!
	at org.apache.hadoop.hbase.regionserver.HStore.getSplitPoint(HStore.java:1587)
	at org.apache.hadoop.hbase.regionserver.RegionSplitPolicy.getSplitPoint(RegionSplitPolicy.java:81)
	at org.apache.hadoop.hbase.regionserver.HRegion.checkSplit(HRegion.java:5311)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.splitRegion(HRegionServer.java:3626)
	at org.apache.hadoop.hbase.protobuf.generated.AdminProtos$AdminService$2.callBlockingMethod(AdminProtos.java:14396)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2124)
	... 1 more

	at org.apache.hadoop.hbase.ipc.RpcClient.call(RpcClient.java:1369)
	at org.apache.hadoop.hbase.ipc.RpcClient.callBlockingMethod(RpcClient.java:1573)
	at org.apache.hadoop.hbase.ipc.RpcClient$BlockingRpcChannelImplementation.callBlockingMethod(RpcClient.java:1630)
	at org.apache.hadoop.hbase.protobuf.generated.AdminProtos$AdminService$BlockingStub.splitRegion(AdminProtos.java:15141)
	at org.apache.hadoop.hbase.protobuf.ProtobufUtil.split(ProtobufUtil.java:1509)
	... 6 more
2013-07-11 08:55:40,834 FATAL [Split thread] hbase.Chore(91): Split threaderror
java.lang.AssertionError: java.io.IOException: getSplitPoint() called on a region that can&apos;t split!
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2162)
	at org.apache.hadoop.hbase.ipc.RpcServer$Handler.run(RpcServer.java:1831)
Caused by: java.lang.AssertionError: getSplitPoint() called on a region that can&apos;t split!
	at org.apache.hadoop.hbase.regionserver.HStore.getSplitPoint(HStore.java:1587)
	at org.apache.hadoop.hbase.regionserver.RegionSplitPolicy.getSplitPoint(RegionSplitPolicy.java:81)
	at org.apache.hadoop.hbase.regionserver.HRegion.checkSplit(HRegion.java:5311)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.splitRegion(HRegionServer.java:3626)
	at org.apache.hadoop.hbase.protobuf.generated.AdminProtos$AdminService$2.callBlockingMethod(AdminProtos.java:14396)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2124)
	... 1 more

	at org.junit.Assert.fail(Assert.java:88)
	at org.apache.hadoop.hbase.master.TestTableLockManager$7.chore(TestTableLockManager.java:383)
	at org.apache.hadoop.hbase.Chore.run(Chore.java:80)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The assertion here is for a condition that is not a problem; the region is currently not splittable because it has references.&lt;/p&gt;

&lt;p&gt;Let me remove the assertion; it is causing the test splitter thread to exit but the test depends on it making progress ... so we are timing out.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657358">HBASE-8931</key>
            <summary>TestTableLockManager.testTableReadLock fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Jul 2013 22:03:07 +0000</created>
                <updated>Mon, 23 Sep 2013 19:22:38 +0000</updated>
                            <resolved>Fri, 2 Aug 2013 19:54:00 +0000</resolved>
                                                    <fixVersion>0.95.2</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13706306" author="stack" created="Thu, 11 Jul 2013 22:05:20 +0000"  >&lt;p&gt;Just remove the assertion.&lt;/p&gt;</comment>
                            <comment id="13706310" author="stack" created="Thu, 11 Jul 2013 22:07:12 +0000"  >&lt;p&gt;Applied to trunk and 0.95.  Leaving open in case this does not fix it.&lt;/p&gt;</comment>
                            <comment id="13706319" author="stack" created="Thu, 11 Jul 2013 22:10:50 +0000"  >&lt;p&gt;Same test failure because of assert is here too:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://54.241.6.143/job/HBase-0.95/org.apache.hbase$hbase-server/599/testReport/org.apache.hadoop.hbase.master/TestTableLockManager/testTableReadLock/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://54.241.6.143/job/HBase-0.95/org.apache.hbase$hbase-server/599/testReport/org.apache.hadoop.hbase.master/TestTableLockManager/testTableReadLock/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://54.241.6.143/job/HBase-0.95/org.apache.hbase$hbase-server/593/testReport/org.apache.hadoop.hbase.master/TestTableLockManager/testTableReadLock/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://54.241.6.143/job/HBase-0.95/org.apache.hbase$hbase-server/593/testReport/org.apache.hadoop.hbase.master/TestTableLockManager/testTableReadLock/&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13706391" author="enis" created="Thu, 11 Jul 2013 22:54:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13706537" author="hudson" created="Fri, 12 Jul 2013 01:00:42 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #610 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/610/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/610/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8931&quot; title=&quot;TestTableLockManager.testTableReadLock fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8931&quot;&gt;&lt;del&gt;HBASE-8931&lt;/del&gt;&lt;/a&gt; TestTableLockManager.testTableReadLock fails (Revision 1502382)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13706618" author="hudson" created="Fri, 12 Jul 2013 03:45:47 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4246 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4246/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4246/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8931&quot; title=&quot;TestTableLockManager.testTableReadLock fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8931&quot;&gt;&lt;del&gt;HBASE-8931&lt;/del&gt;&lt;/a&gt; TestTableLockManager.testTableReadLock fails (stack: rev 1502382)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13706630" author="hudson" created="Fri, 12 Jul 2013 04:10:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95 #318 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/318/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/318/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8931&quot; title=&quot;TestTableLockManager.testTableReadLock fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8931&quot;&gt;&lt;del&gt;HBASE-8931&lt;/del&gt;&lt;/a&gt; TestTableLockManager.testTableReadLock fails (stack: rev 1502383)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13706883" author="hudson" created="Fri, 12 Jul 2013 11:46:13 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.95-on-hadoop2 #176 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/176/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/176/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8931&quot; title=&quot;TestTableLockManager.testTableReadLock fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8931&quot;&gt;&lt;del&gt;HBASE-8931&lt;/del&gt;&lt;/a&gt; TestTableLockManager.testTableReadLock fails (stack: rev 1502383)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728015" author="stack" created="Fri, 2 Aug 2013 19:54:00 +0000"  >&lt;p&gt;Commit seems to have fixed this issue. Resolving fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12591919" name="8931.txt" size="1154" author="stack" created="Thu, 11 Jul 2013 22:05:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Jul 2013 22:54:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m87j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>