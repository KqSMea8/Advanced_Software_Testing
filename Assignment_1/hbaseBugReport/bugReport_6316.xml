<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:35:41 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6316/HBASE-6316.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6316] Confirm can upgrade to 0.96 from 0.94 by just stopping and restarting</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6316</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6294&quot; title=&quot;Detect leftover data in ZK after a user delete all its HBase data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6294&quot;&gt;&lt;del&gt;HBASE-6294&lt;/del&gt;&lt;/a&gt;, LarsH says you have to currently clear zk to get a 0.96 to start over data written by a 0.94.  Need to fix it so don&apos;t have to do this &amp;#8211; that zk state left over gets auto-migrated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12597246">HBASE-6316</key>
            <summary>Confirm can upgrade to 0.96 from 0.94 by just stopping and restarting</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jul 2012 14:07:09 +0000</created>
                <updated>Mon, 23 Sep 2013 18:30:13 +0000</updated>
                            <resolved>Wed, 10 Oct 2012 00:23:00 +0000</resolved>
                                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13468353" author="stack" created="Wed, 3 Oct 2012 05:24:05 +0000"  >&lt;p&gt;Trying it, there are a few issues.  Here is one:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2012-10-02 22:13:55,804 WARN org.apache.hadoop.hbase.regionserver.HRegionServer: error telling master we are up
com.google.protobuf.ServiceException: org.apache.hadoop.hbase.ipc.ServerNotRunningYetException: org.apache.hadoop.hbase.ipc.ServerNotRunningYetException: Server is not running yet
        at org.apache.hadoop.hbase.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:188)
        at $Proxy10.regionServerStartup(Unknown Source)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.reportForDuty(HRegionServer.java:2009)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:848)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:680)
Caused by: org.apache.hadoop.hbase.ipc.ServerNotRunningYetException: org.apache.hadoop.hbase.ipc.ServerNotRunningYetException: Server is not running yet
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
        at org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:95)
        at org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:79)
        at org.apache.hadoop.hbase.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:187)
        ... 4 more
Caused by: org.apache.hadoop.ipc.RemoteException: org.apache.hadoop.hbase.ipc.ServerNotRunningYetException: Server is not running yet
        at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1798)

        at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:1300)
        at org.apache.hadoop.hbase.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:178)
        ... 4 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ugly.  Not end of world.&lt;/p&gt;

&lt;p&gt;This seems longer than it should be:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2012-10-02 22:13:57,095 INFO org.apache.hadoop.hbase.master.ServerManager: Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region servers count to settle; currently checked in 0, slept &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 1537 ms, expecting minimum of 1, maximum of 2147483647, timeout of 4500 ms, interval of 1500 ms.
2012-10-02 22:13:58,629 INFO org.apache.hadoop.hbase.master.ServerManager: Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region servers count to settle; currently checked in 0, slept &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 3071 ms, expecting minimum of 1, maximum of 2147483647, timeout of 4500 ms, interval of 1500 ms.
2012-10-02 22:13:58,808 INFO org.apache.hadoop.hbase.regionserver.HRegionServer: Attempting connect to Master server at pynchon,60961,1349241221417
2012-10-02 22:13:58,808 INFO org.apache.hadoop.hbase.regionserver.HRegionServer: Connected to master at pynchon/192.168.1.74:60961
2012-10-02 22:13:58,808 INFO org.apache.hadoop.hbase.regionserver.HRegionServer: Telling master at pynchon,60961,1349241221417 that we are up with port=60964, startcode=1349241229036
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is broke on local filesystem:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.io.IOException: mark/reset not supported
        at org.apache.hadoop.fs.FSInputChecker.reset(FSInputChecker.java:418)
        at java.io.FilterInputStream.reset(FilterInputStream.java:200)
        at org.apache.hadoop.hbase.io.Reference.parseFrom(Reference.java:233)
        at org.apache.hadoop.hbase.io.Reference.read(Reference.java:180)
        at org.apache.hadoop.hbase.regionserver.StoreFile.&amp;lt;init&amp;gt;(StoreFile.java:259)
        at org.apache.hadoop.hbase.regionserver.HStore$1.call(HStore.java:415)
        at org.apache.hadoop.hbase.regionserver.HStore$1.call(HStore.java:413)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thats enough for now&lt;/p&gt;
</comment>
                            <comment id="13468365" author="stack" created="Wed, 3 Oct 2012 06:22:48 +0000"  >&lt;p&gt;Here is a fix for the failed parse of Reference files.&lt;/p&gt;</comment>
                            <comment id="13468366" author="stack" created="Wed, 3 Oct 2012 06:23:27 +0000"  >&lt;p&gt;Also get this when try to look at UIs:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HTTP ERROR 500

Problem accessing /rs-status. Reason:

    Unresolved compilation problems: 
	The &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.tmpl cannot be resolved
	RSStatusTmpl cannot be resolved to a type
	RSStatusTmpl cannot be resolved to a type
Caused by:

java.lang.Error: Unresolved compilation problems: 
	The &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.tmpl cannot be resolved
	RSStatusTmpl cannot be resolved to a type
	RSStatusTmpl cannot be resolved to a type

	at org.apache.hadoop.hbase.regionserver.RSStatusServlet.&amp;lt;init&amp;gt;(RSStatusServlet.java:29)
        ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13468764" author="stack" created="Wed, 3 Oct 2012 19:37:20 +0000"  >&lt;p&gt;Hmm... trying again I don&apos;t get the 500 building on this machine.&lt;/p&gt;</comment>
                            <comment id="13469138" author="stack" created="Thu, 4 Oct 2012 04:41:42 +0000"  >&lt;p&gt;A 0.94 Writable that I want to check in under test data.&lt;/p&gt;</comment>
                            <comment id="13469139" author="stack" created="Thu, 4 Oct 2012 04:43:02 +0000"  >&lt;p&gt;v2 adds a test.&lt;/p&gt;</comment>
                            <comment id="13469142" author="stack" created="Thu, 4 Oct 2012 04:46:02 +0000"  >&lt;p&gt;I don&apos;t get the 500 code if I do a clean build.&lt;/p&gt;

&lt;p&gt;Logs need an edit but can do that in another issue.&lt;/p&gt;</comment>
                            <comment id="13469147" author="stack" created="Thu, 4 Oct 2012 04:53:28 +0000"  >&lt;p&gt;This patch seems enough to make 0.96 start over 0.94.&lt;/p&gt;</comment>
                            <comment id="13469161" author="stack" created="Thu, 4 Oct 2012 05:23:33 +0000"  >&lt;p&gt;Add test size annotation&lt;/p&gt;</comment>
                            <comment id="13472810" author="stack" created="Tue, 9 Oct 2012 22:29:29 +0000"  >&lt;p&gt;Can I get a review for this blocker 0.96 issue?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13472845" author="yuzhihong@gmail.com" created="Tue, 9 Oct 2012 23:07:37 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; convert(FSProtos.Reference.parseFrom(in));
+      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;nit: keyword else can be omitted.&lt;/p&gt;

&lt;p&gt;You may want to submit for QA run after including a6a6562b777440fd9c34885428f5cb61.21e75333ada3d5bafb34bb918f29576c in the patch.&lt;/p&gt;</comment>
                            <comment id="13472879" author="stack" created="Wed, 10 Oct 2012 00:07:40 +0000"  >&lt;p&gt;Here is what I committed.  Thanks for the review Ted.  The else was in previous code but I fixed it (Added WARNING about return in middle of a method).&lt;/p&gt;</comment>
                            <comment id="13472890" author="stack" created="Wed, 10 Oct 2012 00:23:00 +0000"  >&lt;p&gt;Committed to trunk&lt;/p&gt;</comment>
                            <comment id="13472896" author="hudson" created="Wed, 10 Oct 2012 00:34:30 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #215 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/215/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/215/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6316&quot; title=&quot;Confirm can upgrade to 0.96 from 0.94 by just stopping and restarting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6316&quot;&gt;&lt;del&gt;HBASE-6316&lt;/del&gt;&lt;/a&gt; Confirm can upgrade to 0.96 from 0.94 by just stopping and restarting (Revision 1396428)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/Reference.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/data/a6a6562b777440fd9c34885428f5cb61.21e75333ada3d5bafb34bb918f29576c&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestReference.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13472937" author="hudson" created="Wed, 10 Oct 2012 02:29:36 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3439 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3439/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3439/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6316&quot; title=&quot;Confirm can upgrade to 0.96 from 0.94 by just stopping and restarting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6316&quot;&gt;&lt;del&gt;HBASE-6316&lt;/del&gt;&lt;/a&gt; Confirm can upgrade to 0.96 from 0.94 by just stopping and restarting (Revision 1396428)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/Reference.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/data/a6a6562b777440fd9c34885428f5cb61.21e75333ada3d5bafb34bb918f29576c&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestReference.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13774857" author="stack" created="Mon, 23 Sep 2013 18:30:13 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547499" name="6316.txt" size="3515" author="stack" created="Wed, 3 Oct 2012 06:22:48 +0000"/>
                            <attachment id="12547672" name="6316v2.txt" size="6073" author="stack" created="Thu, 4 Oct 2012 04:43:02 +0000"/>
                            <attachment id="12548495" name="6316v3.txt" size="6703" author="stack" created="Wed, 10 Oct 2012 00:07:40 +0000"/>
                            <attachment id="12547681" name="6316v3.txt" size="6250" author="stack" created="Thu, 4 Oct 2012 05:23:33 +0000"/>
                            <attachment id="12547671" name="a6a6562b777440fd9c34885428f5cb61.21e75333ada3d5bafb34bb918f29576c" size="24" author="stack" created="Thu, 4 Oct 2012 04:41:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Oct 2012 23:07:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240592</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i013rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>