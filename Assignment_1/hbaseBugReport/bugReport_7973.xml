<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:50:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7973/HBASE-7973.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7973] API changes between 0.92.1 and 0.94.2 breaking downstream API</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7973</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;tt&gt;HFile.getWriterFactory(Configuration)&lt;/tt&gt; has migrated to &lt;tt&gt;HFile.getWriterFactoryNoCache(Configuration)&lt;/tt&gt; and &lt;tt&gt;HFile.WriterFactory.createWriter(...)&lt;/tt&gt; is now protected in &lt;tt&gt;HFile.WriterFactory&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;As the result, Bigtop integration tests won&apos;t compile.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634928">HBASE-7973</key>
            <summary>API changes between 0.92.1 and 0.94.2 breaking downstream API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cos">Konstantin Boudnik</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Mar 2013 23:16:19 +0000</created>
                <updated>Sat, 2 Mar 2013 19:01:49 +0000</updated>
                            <resolved>Sat, 2 Mar 2013 06:08:56 +0000</resolved>
                                    <version>0.92.1</version>
                                                    <component>HFile</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13591084" author="stack" created="Fri, 1 Mar 2013 23:23:38 +0000"  >&lt;p&gt;So, ok to change the method called?  The bigtop version this change is going against is being built against 0.94 and not 0.92?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13591086" author="stack" created="Fri, 1 Mar 2013 23:28:19 +0000"  >&lt;p&gt;Looks like the change that changed that API is &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4932&quot; title=&quot;Block cache can be mistakenly instantiated by tools&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4932&quot;&gt;&lt;del&gt;HBASE-4932&lt;/del&gt;&lt;/a&gt; Block cache can be mistakenly instantiated by tools&apos;&lt;/p&gt;

&lt;p&gt;Bigtop needs access to hfile methods &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cos&quot; class=&quot;user-hover&quot; rel=&quot;cos&quot;&gt;Konstantin Boudnik&lt;/a&gt;?  Please advise what you would have hbase project do to get bigtop going again.  Thanks boss.&lt;/p&gt;</comment>
                            <comment id="13591103" author="cos" created="Fri, 1 Mar 2013 23:44:35 +0000"  >&lt;p&gt;What we are trying to do is &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    HFile.Writer writer =
      HFile.getWriterFactory(conf).createWriter(fs, path,
        BLOCKSIZE, COMPRESSION,
        KeyValue.KEY_COMPARATOR);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and then call &lt;tt&gt;append&lt;/tt&gt; on the writer. If there&apos;s a better way to do so in the current API - please advise and I&apos;ll fix the test. Thanks, Stack.&lt;/p&gt;</comment>
                            <comment id="13591115" author="yuzhihong@gmail.com" created="Fri, 1 Mar 2013 23:55:03 +0000"  >&lt;p&gt;Can you use the following method in place of createWriter() ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Writer create() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
...
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; createWriter(fs, path, ostream, blockSize,
          compression, encoder, comparator, checksumType, bytesPerChecksum);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;You can set parameters this way:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; WriterFactory withChecksumType(ChecksumType checksumType) {
      Preconditions.checkNotNull(checksumType);
      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.checksumType = checksumType;
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13591134" author="stack" created="Sat, 2 Mar 2013 00:14:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cos&quot; class=&quot;user-hover&quot; rel=&quot;cos&quot;&gt;Konstantin Boudnik&lt;/a&gt; Sorry for the pain.  Looking, its a &apos;public&apos; API so no excuse on our part removing the method.  Beside it is&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; WriterFactory getWriterFactory(Configuration conf, CacheConfig cacheConf) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Could you use that?  It is in 0.92 and 0.94.&lt;/p&gt;</comment>
                            <comment id="13591150" author="cos" created="Sat, 2 Mar 2013 00:28:11 +0000"  >&lt;p&gt;Stack, I am sure can use &lt;tt&gt;WriterFactory getWriterFactory(Configuration conf, CacheConfig cacheConf)&lt;/tt&gt; instead of &lt;tt&gt;getWriterFactoryNoCache(Configuration)&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I have put together what seems to be the fully compilable version of the test. Please take a look &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12571697/BIGTOP-858.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;. Any input is appreciated! Thanks for very quick turnaround, guys!&lt;/p&gt;</comment>
                            <comment id="13591155" author="stack" created="Sat, 2 Mar 2013 00:44:36 +0000"  >&lt;p&gt;getWriterFactoryNoCache is not in hbase 0.92.  It is only in 0.94.  Is that ok for you fellas?&lt;/p&gt;</comment>
                            <comment id="13591203" author="cos" created="Sat, 2 Mar 2013 01:53:27 +0000"  >&lt;p&gt;BigTop 0.6.0 (and trunk) is/will be aimed at 0.94.2, so we don&apos;t need to preserve the compatibility between the two.&lt;/p&gt;</comment>
                            <comment id="13591302" author="yuzhihong@gmail.com" created="Sat, 2 Mar 2013 05:19:32 +0000"  >&lt;p&gt;Is there anything we can do on HBase side ?&lt;/p&gt;</comment>
                            <comment id="13591309" author="stack" created="Sat, 2 Mar 2013 05:29:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; Please stop doing these edits changing insignificant changes such as the above change of summary.  Fine to recast the summary but not to do minor change.  You are filling our issue mailboxes with loads of mail.  It is hard enough keeping up w/o having to wade through a bunch of minor edits and reformatting changes.  If you are going to do this, at least make it so it does not send mail to the list.&lt;/p&gt;</comment>
                            <comment id="13591311" author="cos" created="Sat, 2 Mar 2013 05:31:30 +0000"  >&lt;p&gt;I guess HBase is ok. Could you check the patch I published for &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12571697/BIGTOP-858.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BIGTOP-858&lt;/a&gt; and comment on it?&lt;/p&gt;</comment>
                            <comment id="13591319" author="cos" created="Sat, 2 Mar 2013 06:08:56 +0000"  >&lt;p&gt;Apparently, there&apos;s a way to work around this change in the client code. I am closing this as invalid. The solution has been found in &lt;a href=&quot;https://issues.apache.org/jira/browse/BIGTOP-858&quot; title=&quot;HBase tests are no longer compile with HBase 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BIGTOP-858&quot;&gt;&lt;del&gt;BIGTOP-858&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13591396" author="apurtell" created="Sat, 2 Mar 2013 12:18:26 +0000"  >&lt;p&gt;Glad this one can be resolved as invalid. HBase gets tripped up occasionally by upstream changes so I think we appreciate the concern (and apologize if we cause unintentional breakage). Thanks for bringing it up.&lt;/p&gt;</comment>
                            <comment id="13591475" author="cos" created="Sat, 2 Mar 2013 19:01:49 +0000"  >&lt;p&gt;well, technically speaking it is a valid ticket, but I guess is no big deal as it can be resolved easily and quickly with the great help from hbase community! &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12634929">BIGTOP-860</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Mar 2013 23:23:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ifgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>