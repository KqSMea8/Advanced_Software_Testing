<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:59:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2149/HBASE-2149.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2149] hbase.regionserver.global.memstore.lowerLimit is too low</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2149</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The default value of hbase.regionserver.global.memstore.lowerLimit of 25% is very wrong and in almost all cases was problematic (I&apos;ve seen this in at least 3 occurrences). The cost of flushing a memstore is fairly high and when the global size reaches 40% then ALL inserts are blocked. This means that with a heap of 1GB you could be flushing for 10-20 seconds or worse.&lt;/p&gt;

&lt;p&gt;I suggest a default setting of 38% or even 40% so that only a region or two will be flushed (the biggest ones) for maximum availability.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446124">HBASE-2149</key>
            <summary>hbase.regionserver.global.memstore.lowerLimit is too low</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 19:37:29 +0000</created>
                <updated>Fri, 12 Oct 2012 06:14:16 +0000</updated>
                            <resolved>Fri, 22 Jan 2010 18:42:05 +0000</resolved>
                                                    <fixVersion>0.20.3</fixVersion>
                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12802957" author="stack" created="Wed, 20 Jan 2010 19:48:13 +0000"  >&lt;p&gt;Chatting w/ J-D, it was set by me &amp;#8211; I think &amp;#8211; at 0.4 and 0.25 because of PE-itis, a condition that comes of loading only using the PE tool.  Symptoms are inability at being able to comprehend any other type of loading pattern.  This issue is prompted by a fella loading hbase with UUID keys would likely spread writes nice and evenly across the cluster requiring the flushing of many regions to go from 0.4 to 0.25.  0.4/.38?  We could try it.  Or 0.4 and 0.35?&lt;/p&gt;</comment>
                            <comment id="12802970" author="ryanobjc" created="Wed, 20 Jan 2010 20:22:28 +0000"  >&lt;p&gt;putting the lower bound to high just means we take more pauses to do smaller flushes. maybe this might be an easy-to-get improvement...&lt;/p&gt;

&lt;p&gt;maybe a better solution might be to have a soft limit where we start background flushing until we reach the lower limit. if we outrun that and hit the hard limit, the protection kicks in and pauses all inserts.&lt;/p&gt;</comment>
                            <comment id="12802977" author="jdcryans" created="Wed, 20 Jan 2010 20:35:34 +0000"  >&lt;p&gt;I agree with Ryan. Could the MemStoreFlusher also check the state of the global size (if higher than the lower bound) when it doesn&apos;t have any region to flush?&lt;/p&gt;</comment>
                            <comment id="12803801" author="stack" created="Fri, 22 Jan 2010 18:15:13 +0000"  >&lt;p&gt;For RC3, do we just want to change the hbase-default lower limit?&lt;/p&gt;</comment>
                            <comment id="12803806" author="jdcryans" created="Fri, 22 Jan 2010 18:26:27 +0000"  >&lt;p&gt;Good idea, I vote for a conservative value of 0.35 like you commented.&lt;/p&gt;</comment>
                            <comment id="12803810" author="stack" created="Fri, 22 Jan 2010 18:36:03 +0000"  >&lt;p&gt;Here is a patch making change to 0.35 from 0.25.  We can open another issue to do Ryans&apos; suggestion (we should be more &apos;live&apos; about taking on writes as he suggets).&lt;/p&gt;</comment>
                            <comment id="12803812" author="stack" created="Fri, 22 Jan 2010 18:42:05 +0000"  >&lt;p&gt;Committed branch and trunk the change of low limit from 0.25 to 0.35.  Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2158&quot; title=&quot;Change how high/low global limit works; start taking on writes as soon as we dip below high limit rather than block until low limit as we currently do.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2158&quot;&gt;&lt;del&gt;HBASE-2158&lt;/del&gt;&lt;/a&gt; to implement Ryans&apos; suggestion.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431131" name="2149.patch" size="582" author="stack" created="Fri, 22 Jan 2010 18:36:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Jan 2010 19:48:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08t67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>