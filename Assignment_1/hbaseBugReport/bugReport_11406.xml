<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:22:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11406/HBASE-11406.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11406] ExportSnapshot#run better catch Throwable for ExportSnapshot#runCopyJob</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11406</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;ExportSnapshot#run better catch Throwable for ExportSnapshot#runCopyJob since runCopyJob involves hadoop and mapreduce. other errors could be thrown, catching them like below at first place is helpful for error handling and problem identification.&lt;/p&gt;

&lt;p&gt;14/06/24 18:39:30 ERROR snapshot.ExportSnapshot: Snapshot export failed&lt;br/&gt;
java.lang.NoSuchMethodError: org/apache/hadoop/mapred/JobTracker.getAddress(Lorg/apache/hadoop/conf/Configuration;)Ljava/net/InetSocketAddress;&lt;br/&gt;
        at org.apache.hadoop.mapred.JobTrackerClientProtocolProvider.create(JobTrackerClientProtocolProvider.java:44)&lt;br/&gt;
        at org.apache.hadoop.mapreduce.Cluster.initialize(Cluster.java:95)&lt;br/&gt;
        at org.apache.hadoop.mapreduce.Cluster.&amp;lt;init&amp;gt;(Cluster.java:82)&lt;br/&gt;
        at org.apache.hadoop.mapreduce.Cluster.&amp;lt;init&amp;gt;(Cluster.java:75)&lt;br/&gt;
        at org.apache.hadoop.hbase.mapreduce.JobUtil.getStagingDir(JobUtil.java:54)&lt;br/&gt;
        at org.apache.hadoop.hbase.snapshot.ExportSnapshot.getInputFolderPath(ExportSnapshot.java:541)&lt;br/&gt;
        at org.apache.hadoop.hbase.snapshot.ExportSnapshot.runCopyJob(ExportSnapshot.java:609)&lt;br/&gt;
        at org.apache.hadoop.hbase.snapshot.ExportSnapshot.run(ExportSnapshot.java:776)&lt;br/&gt;
        at org.apache.hadoop.hbase.backup.BackupCopier.copy(BackupCopier.java:248)&lt;br/&gt;
        at org.apache.hadoop.hbase.backup.BackupHandler.snapshotCopy(BackupHandler.java:559)&lt;br/&gt;
        at org.apache.hadoop.hbase.backup.BackupHandler.call(BackupHandler.java:141)&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:314)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:149)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:897)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:919)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:738)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12723324">HBASE-11406</key>
            <summary>ExportSnapshot#run better catch Throwable for ExportSnapshot#runCopyJob</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="tianq">Qiang Tian</assignee>
                                    <reporter username="tianq">Qiang Tian</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jun 2014 09:54:19 +0000</created>
                <updated>Wed, 16 Jul 2014 02:42:23 +0000</updated>
                                                                            <component>snapshots</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14042863" author="apurtell" created="Tue, 24 Jun 2014 23:55:35 +0000"  >&lt;p&gt;Not much we can do if you are using HBase built for one version of Hadoop on a Hadoop of a different version though. &lt;/p&gt;</comment>
                            <comment id="14042958" author="tianq" created="Wed, 25 Jun 2014 02:03:32 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, &lt;br/&gt;
yes...&lt;br/&gt;
from dev&apos;s perspective it looks strange, but from user&apos;s perspective, anything is possible..&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14063025" author="hadoopqa" created="Wed, 16 Jul 2014 02:42:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12652172/hbase11406-master.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12652172/hbase11406-master.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12652172&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10079//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10079//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12652172" name="hbase11406-master.patch" size="763" author="tianq" created="Tue, 24 Jun 2014 09:59:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Jun 2014 23:55:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401511</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1x40n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401584</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>