<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:01:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-15218/HBASE-15218.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-15218] On RS crash and replay of WAL, loosing all Tags in Cells</title>
                <link>https://issues.apache.org/jira/browse/HBASE-15218</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The KeyValueCodec&apos;s Decoder makes NoTagsKeyValue. The WalCellCodec also makes this Decoder and so while reading Cells after RS crash, we will loose all tags in Cells.  (While writing to WAL using WALCellCodec, we are preserving Cell tags.)&lt;br/&gt;
In case of SecureWALCellCodec, we are not even writing Cell tags to WAL.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12936963">HBASE-15218</key>
            <summary>On RS crash and replay of WAL, loosing all Tags in Cells</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                            <label>needs_releasenote</label>
                    </labels>
                <created>Fri, 5 Feb 2016 07:00:26 +0000</created>
                <updated>Sat, 6 Feb 2016 17:52:44 +0000</updated>
                            <resolved>Fri, 5 Feb 2016 18:37:00 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>0.98.13</version>
                    <version>1.0.2</version>
                    <version>1.2.0</version>
                    <version>1.1.1</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>1.1.4</fixVersion>
                    <fixVersion>1.0.4</fixVersion>
                    <fixVersion>0.98.18</fixVersion>
                                    <component>Recovery</component>
                    <component>regionserver</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="15133779" author="ram_krish" created="Fri, 5 Feb 2016 07:17:05 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15133979" author="hadoopqa" created="Fri, 5 Feb 2016 10:46:39 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; reexec &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; 0m 0s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; Docker mode activated. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; hbaseanti &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 0s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Patch does not have any anti-patterns. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; @author &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 0s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch does not contain any @author tags. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; test4tests &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 0s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch appears to include 1 new or modified test files. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; mvninstall &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 2m 41s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 34s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed with JDK v1.8.0_72 &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 35s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed with JDK v1.7.0_95 &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; checkstyle &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 4m 16s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; mvneclipse &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 16s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; findbugs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 1m 54s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javadoc &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 24s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed with JDK v1.8.0_72 &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javadoc &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 33s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed with JDK v1.7.0_95 &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; mvninstall &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 46s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 32s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed with JDK v1.8.0_72 &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 32s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 34s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed with JDK v1.7.0_95 &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 34s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; checkstyle &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 4m 19s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; mvneclipse &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 16s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; whitespace &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 0s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Patch has no whitespace issues. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; hadoopcheck &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 22m 19s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Patch does not cause any errors with Hadoop 2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.1 2.6.2 2.6.3 2.7.1. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; findbugs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 1m 59s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javadoc &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 24s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed with JDK v1.8.0_72 &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javadoc &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 33s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed with JDK v1.7.0_95 &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 82m 45s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; hbase-server in the patch passed with JDK v1.8.0_72. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 81m 7s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; hbase-server in the patch passed with JDK v1.7.0_95. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; asflicense &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 0m 18s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Patch does not generate ASF License warnings. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; 207m 36s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Docker &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Client=1.9.1 Server=1.9.1 Image:yetus/hbase:date2016-02-05 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12786429/HBASE-15218.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12786429/HBASE-15218.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  asflicense  javac  javadoc  unit  findbugs  hadoopcheck  hbaseanti  checkstyle  compile  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux 02f76b891d87 3.13.0-36-lowlatency #63-Ubuntu SMP PREEMPT Wed Sep 3 21:56:12 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; maven &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/component/dev-support/hbase-personality.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; master / 8f20bc7 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; findbugs &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; v3.0.0 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JDK v1.7.0_95  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/434/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/434/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: hbase-server U: hbase-server &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Max memory used &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 173MB &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.1.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/434/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/434/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="15134403" author="stack" created="Fri, 5 Feb 2016 16:22:39 +0000"  >&lt;p&gt;If no tags in the WAL, will WAL read run slower now we are always looking for tags whether they are there or not? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15134409" author="busbey" created="Fri, 5 Feb 2016 16:24:55 +0000"  >&lt;p&gt;I was about to run through RC2. If this jira isn&apos;t ready to go, shall we upgrade its priority to blocker?&lt;/p&gt;</comment>
                            <comment id="15134458" author="ram_krish" created="Fri, 5 Feb 2016 16:55:55 +0000"  >&lt;p&gt;We were writing and reading the WAL with tags only always even before this fix. Only in the place where we were reading the Cell we were skipping the Tag part as the length was returned as 0. So as such directly there wont be any impact on the WAL writes and reads and only in places where we read the cell we will have an impact while checking the tags length. But I think that will happen only when replaying the WAL and should not have much impact. &lt;/p&gt;</comment>
                            <comment id="15134503" author="anoop.hbase" created="Fri, 5 Feb 2016 17:19:14 +0000"  >&lt;p&gt;As Ram said, there is no overhead on WAL read we have added here &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;. KVCodec / KVCodecWithTags will read a Cell&apos;s length first and then Cell bytes. This continues.  &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; this is ready to go.  We have even a clean QA report here  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  &lt;/p&gt;</comment>
                            <comment id="15134550" author="hadoopqa" created="Fri, 5 Feb 2016 17:43:57 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; docker &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 4m 48s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; Docker failed to build yetus/hbase:date2016-02-05. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12786513/HBASE-15218-branch-1.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12786513/HBASE-15218-branch-1.2.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.1.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/440/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/440/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="15134594" author="stack" created="Fri, 5 Feb 2016 18:06:34 +0000"  >&lt;p&gt;Ok. +1 on patch.&lt;/p&gt;

&lt;p&gt;I ran a dumb perf compare of before and after and no substantial difference (with patch seems better?)&lt;/p&gt;

&lt;p&gt;Here is one of the runs without patch reading in a single 128MB WAL file... probably not enough... we need a tool that just keeps reading WALs so we can perf eval:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 Performance counter stats &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &apos;./hbase/bin/hbase --config /home/stack/conf_hbase org.apache.hadoop.hbase.wal.WALPrettyPrinter hdfs:&lt;span class=&quot;code-comment&quot;&gt;//ve0524.halxg.cloudera.com:8020/hbase/oldWALs/ve0530.halxg.cloudera.com%2C16020%2C1454394831931.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.1454461762891&apos;:
&lt;/span&gt;
      28336.328829 task-clock                #    1.881 CPUs utilized
            30,173 context-switches          #    0.001 M/sec
             2,985 cpu-migrations            #    0.105 K/sec
           101,633 page-faults               #    0.004 M/sec
    63,169,594,844 cycles                    #    2.229 GHz
   &amp;lt;not supported&amp;gt; stalled-cycles-frontend
   &amp;lt;not supported&amp;gt; stalled-cycles-backend
   106,412,228,062 instructions              #    1.68  insns per cycle
    20,594,697,237 branches                  #  726.795 M/sec
       186,547,023 branch-misses             #    0.91% of all branches

      15.063192434 seconds time elapsed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here is one of the runs with patch applied:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 Performance counter stats &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &apos;./hbase/bin/hbase --config /home/stack/conf_hbase org.apache.hadoop.hbase.wal.WALPrettyPrinter hdfs:&lt;span class=&quot;code-comment&quot;&gt;//ve0524.halxg.cloudera.com:8020/hbase/oldWALs/ve0530.halxg.cloudera.com%2C16020%2C1454394831931.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.1454461762891&apos;:
&lt;/span&gt;
      26333.786232 task-clock                #    1.872 CPUs utilized
            29,186 context-switches          #    0.001 M/sec
             1,308 cpu-migrations            #    0.050 K/sec
            92,888 page-faults               #    0.004 M/sec
    62,869,624,114 cycles                    #    2.387 GHz
   &amp;lt;not supported&amp;gt; stalled-cycles-frontend
   &amp;lt;not supported&amp;gt; stalled-cycles-backend
   106,242,745,200 instructions              #    1.69  insns per cycle
    20,637,432,716 branches                  #  783.686 M/sec
       188,140,240 branch-misses             #    0.91% of all branches

      14.066822438 seconds time elapsed

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15134595" author="anoop.hbase" created="Fri, 5 Feb 2016 18:08:44 +0000"  >&lt;p&gt;What is wrong with branch-1.2 patch QA run?&lt;/p&gt;</comment>
                            <comment id="15134609" author="busbey" created="Fri, 5 Feb 2016 18:14:42 +0000"  >&lt;p&gt;docker failed to install findbugs. recommend going to the build job and telling it to rerun.&lt;/p&gt;</comment>
                            <comment id="15134634" author="hadoopqa" created="Fri, 5 Feb 2016 18:29:18 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 0m 5s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; does not apply to branch-1.2. Rebase required? Wrong Branch? See &lt;a href=&quot;https://yetus.apache.org/documentation/latest/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/latest/precommit-patchnames&lt;/a&gt; for help. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12786513/HBASE-15218-branch-1.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12786513/HBASE-15218-branch-1.2.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.1.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/443/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/443/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="15134650" author="anoop.hbase" created="Fri, 5 Feb 2016 18:34:13 +0000"  >&lt;p&gt;Patch for branch-1.1 and branch-1.0&lt;/p&gt;</comment>
                            <comment id="15134655" author="stack" created="Fri, 5 Feb 2016 18:36:40 +0000"  >&lt;p&gt;Failed setting up docker. Looks like the findbugs download must have failed:&lt;/p&gt;

&lt;p&gt;Removing intermediate container 6a68eddba89e&lt;br/&gt;
Step 12 : RUN mkdir -p /opt/findbugs &amp;amp;&amp;amp;     curl -L &lt;a href=&quot;https://sourceforge.net/projects/findbugs/files/findbugs/3.0.1/findbugs-noUpdateChecks-3.0.1.tar.gz/download&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://sourceforge.net/projects/findbugs/files/findbugs/3.0.1/findbugs-noUpdateChecks-3.0.1.tar.gz/download&lt;/a&gt;          -o /opt/findbugs.tar.gz &amp;amp;&amp;amp;     tar xzf /opt/findbugs.tar.gz --strip-components 1 -C /opt/findbugs&lt;br/&gt;
 ---&amp;gt; Running in 428c6df72a80&lt;br/&gt;
�[91m  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current&lt;br/&gt;
                                 Dload  Upload   Total   Spent    Left  Spe�[0m�[91med&lt;/p&gt;

&lt;p&gt;  0     0    0     0    0     0      0      0 -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;- -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;- -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;-     0�[0m�[91m&lt;br/&gt;
  0     0    0     0    0     0      0      0 -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;- -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;- -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;-     0&lt;br/&gt;
�[0m�[91m&lt;br/&gt;
  0     0    0     0    0     0      0      0 -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;- -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;- -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;-     0�[0m�[91m&lt;br/&gt;
100   639  100   639    0     0   1187      0 -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;- -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;- -&lt;del&gt;:&lt;/del&gt;&lt;del&gt;:&lt;/del&gt;-  312k&lt;br/&gt;
�[0m�[91m&lt;br/&gt;
gzip: stdin: not in gzip format&lt;br/&gt;
�[0m�[91mtar: Child returned status 1�[0m�[91m&lt;br/&gt;
tar: Error is not recoverable: exiting now&lt;br/&gt;
�[0mThe command &apos;/bin/sh -c mkdir -p /opt/findbugs &amp;amp;&amp;amp;     curl -L &lt;a href=&quot;https://sourceforge.net/projects/findbugs/files/findbugs/3.0.1/findbugs-noUpdateChecks-3.0.1.tar.gz/download&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://sourceforge.net/projects/findbugs/files/findbugs/3.0.1/findbugs-noUpdateChecks-3.0.1.tar.gz/download&lt;/a&gt;          -o /opt/findbugs.tar.gz &amp;amp;&amp;amp;     tar xzf /opt/findbugs.tar.gz --strip-components 1 -C /opt/findbugs&apos; returned a non-zero code: 2&lt;/p&gt;

&lt;p&gt;Total Elapsed time:   4m 48s&lt;/p&gt;

&lt;p&gt;ERROR: Docker failed to build image.&lt;/p&gt;</comment>
                            <comment id="15134656" author="stack" created="Fri, 5 Feb 2016 18:37:00 +0000"  >&lt;p&gt;I pushed it to 0.98+&lt;/p&gt;</comment>
                            <comment id="15134697" author="anoop.hbase" created="Fri, 5 Feb 2016 18:52:04 +0000"  >&lt;p&gt;Thanks Stack..&lt;br/&gt;
Thanks all for reviews.&lt;/p&gt;</comment>
                            <comment id="15134739" author="hudson" created="Fri, 5 Feb 2016 19:11:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #482 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/482/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/482/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; On RS crash and replay of WAL, loosing all Tags in Cells (stack: rev f03c8801c998ddac40032b56b7343bf1d16ff8a4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureWALCellCodec.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15134744" author="stack" created="Fri, 5 Feb 2016 19:12:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;  But I think that will happen only when replaying the WAL and should not have much impact.&lt;/p&gt;

&lt;p&gt;Yeah, exactly, that was my concern.&lt;/p&gt;

&lt;p&gt;So looking in KeyValueCodecWithTags, only difference that I see is in the encoder. It sets true on this line:&lt;/p&gt;

&lt;p&gt;      KeyValueUtil.oswrite(cell, out, true);&lt;/p&gt;

&lt;p&gt;So now we write tags where before we didn&apos;t. If tags present, we&apos;ll write and read slower but default case will be as it was.&lt;/p&gt;

&lt;p&gt;This KeyValueCodecWithTags dups most of KeyValueCodec. Can we fix that? Or, can we just have KeyValueCodec and do away with this &apos;withTags&apos;... at least going forward.&lt;/p&gt;

&lt;p&gt;I did a more extensive compare of before and after patch passing WALPrettyPrinter 30 WALs to get a longer run in. There is no diff (we should work on those branch misses and cs counts):&lt;/p&gt;

&lt;p&gt;Before&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

 Performance counter stats &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &apos;./hbase/bin/hbase --config /home/stack/conf_hbase org.apache.hadoop.hbase.wal.WALPrettyPrinter ....

     467491.668911 task-clock                #    1.277 CPUs utilized
           239,096 context-switches          #    0.511 K/sec
            22,701 cpu-migrations            #    0.049 K/sec
           107,307 page-faults               #    0.230 K/sec
 1,168,798,024,496 cycles                    #    2.500 GHz
   &amp;lt;not supported&amp;gt; stalled-cycles-frontend
   &amp;lt;not supported&amp;gt; stalled-cycles-backend
 2,398,911,354,038 instructions              #    2.05  insns per cycle
   467,617,537,336 branches                  # 1000.269 M/sec
     1,252,456,504 branch-misses             #    0.27% of all branches

     366.201978093 seconds time elapsed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After (with patch)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
perf stat ./hbase/bin/hbase --config ~/conf_hbase org.apache.hadoop.hbase.wal.WALPrettyPrinter `cat /tmp/x.txt` &amp;gt; /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
SLF4J: &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/stack/hbase-1.2.0/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/stack/hadoop-2.7.0-SNAPSHOT/share/hadoop/common/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http:&lt;span class=&quot;code-comment&quot;&gt;//www.slf4j.org/codes.html#multiple_bindings &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; an explanation.
&lt;/span&gt;SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]





 Performance counter stats &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &apos;./hbase/bin/hbase --config /home/stack/conf_hbase org.apache.hadoop.hbase.wal.WALPrettyPrinter  ....
     465647.060002 task-clock                #    1.284 CPUs utilized
           238,915 context-switches          #    0.513 K/sec
            22,223 cpu-migrations            #    0.048 K/sec
            99,487 page-faults               #    0.214 K/sec
 1,160,328,822,985 cycles                    #    2.492 GHz
   &amp;lt;not supported&amp;gt; stalled-cycles-frontend
   &amp;lt;not supported&amp;gt; stalled-cycles-backend
 2,401,013,786,251 instructions              #    2.07  insns per cycle
   467,104,149,437 branches                  # 1003.129 M/sec
     1,232,205,021 branch-misses             #    0.26% of all branches

     362.517152719 seconds time elapsed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</comment>
                            <comment id="15134772" author="anoop.hbase" created="Fri, 5 Feb 2016 19:21:03 +0000"  >&lt;p&gt;In case of WALCellCodec we were writing the Tags in WAL.  While reading back from WAL, we were using KVCodec which will make a Cell instance which is actually reading back the Tag bytes.   But the object we make is NoTagsKeyValue which says 0 as tagsLength.  From then onwards all tags for this Cell is like lost.&lt;br/&gt;
In case of SecureWALCellCodec, we were even not writing tags to WAL.  This issue fixed all these cases in WAL area.&lt;/p&gt;</comment>
                            <comment id="15134795" author="busbey" created="Fri, 5 Feb 2016 19:28:56 +0000"  >&lt;p&gt;please be sure to write a release note, since this issue is flagged as Blocker and security related.&lt;/p&gt;</comment>
                            <comment id="15134832" author="hudson" created="Fri, 5 Feb 2016 19:46:26 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #421 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/421/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/421/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; On RS crash and replay of WAL, loosing all Tags in Cells (stack: rev 1092beaef4d4798573a85d3361ab35e486f5da5a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureWALCellCodec.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15134853" author="busbey" created="Fri, 5 Feb 2016 19:53:47 +0000"  >&lt;blockquote&gt;

&lt;p&gt;This issue fixes &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In case of normal WAL (Not encrypted) we were loosing all cell tags on WAL replay after an RS crash&lt;/li&gt;
	&lt;li&gt;In case of encrypted WAL we were not even persisting Cell tags in WAL. Tags from all unflushed (to HFile) Cells will get lost even after WAL replay recovery is done.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;This is a great start. It would help to give folks who might be secondarily impacted a brighter warning sign about the issue. For example, this means that anyone relying on cell level access controls would effectively have things revert to world-readable, right?&lt;/p&gt;</comment>
                            <comment id="15134912" author="anoop.hbase" created="Fri, 5 Feb 2016 20:26:17 +0000"  >&lt;p&gt;wrt visibility tags, yes it can make a visibility restricted cell to become all readable..  Cell level ACL I have to check code once again and confirm.&lt;/p&gt;</comment>
                            <comment id="15134918" author="anoop.hbase" created="Fri, 5 Feb 2016 20:29:47 +0000"  >&lt;p&gt;For Cell level ACL seems the global readable issue wont be there.  First we check ns/table/cf/qual level permission for the user.  None are there, finally we check Cell level whether user gets read permission.. As all tags missed, no cell level special treatment for an user.  So only the reverse issue will happen. (Cell level permission was given to a user while put and he can not read it back)&lt;/p&gt;</comment>
                            <comment id="15134931" author="busbey" created="Fri, 5 Feb 2016 20:35:01 +0000"  >&lt;p&gt;okay, so the first case is a breach of confidentiality and the second of availability (it looks like data loss to an otherwise authorized user, effectively). Both of those should get called out in the release note.&lt;/p&gt;</comment>
                            <comment id="15134946" author="anoop.hbase" created="Fri, 5 Feb 2016 20:44:34 +0000"  >&lt;p&gt;Done &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt;.. Thanks for the reminder and those Qs which made the issue lines very clear.&lt;/p&gt;</comment>
                            <comment id="15135089" author="hudson" created="Fri, 5 Feb 2016 21:54:25 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #531 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/531/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/531/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; On RS crash and replay of WAL, loosing all Tags in Cells (stack: rev 1092beaef4d4798573a85d3361ab35e486f5da5a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureWALCellCodec.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15135283" author="hudson" created="Fri, 5 Feb 2016 23:48:31 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK8 #1740 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1740/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1740/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; On RS crash and replay of WAL, loosing all Tags in Cells (stack: rev 53758a07ca9ebd0f24cdaf2eb2ffe4bb60eb630c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureWALCellCodec.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15135364" author="hudson" created="Sat, 6 Feb 2016 00:51:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #685 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/685/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/685/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; On RS crash and replay of WAL, loosing all Tags in Cells (stack: rev 779bdf19183ed182d34d8be5b0cc92c6ba93d70b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureWALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15135370" author="hudson" created="Sat, 6 Feb 2016 00:54:38 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK7 #1653 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK7/1653/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK7/1653/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; On RS crash and replay of WAL, loosing all Tags in Cells (stack: rev 53758a07ca9ebd0f24cdaf2eb2ffe4bb60eb630c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureWALCellCodec.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15135396" author="hudson" created="Sat, 6 Feb 2016 01:17:11 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #540 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/540/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/540/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; On RS crash and replay of WAL, loosing all Tags in Cells (stack: rev f03c8801c998ddac40032b56b7343bf1d16ff8a4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureWALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15135842" author="hudson" created="Sat, 6 Feb 2016 15:51:30 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1142 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1142/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1142/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; On RS crash and replay of WAL, loosing all Tags in Cells (stack: rev 30eb2fb265759f8df8fd6729a3cd137d841631f1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureWALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15135884" author="hudson" created="Sat, 6 Feb 2016 17:20:27 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1167 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1167/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1167/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; On RS crash and replay of WAL, loosing all Tags in Cells (stack: rev 4de9a6481c62c783f1d5719119dec968789e7126)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureWALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15135903" author="hudson" created="Sat, 6 Feb 2016 17:52:44 +0000"  >&lt;p&gt;ABORTED: Integrated in HBase-0.98-matrix #293 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-matrix/293/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-matrix/293/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15218&quot; title=&quot;On RS crash and replay of WAL, loosing all Tags in Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15218&quot;&gt;&lt;del&gt;HBASE-15218&lt;/del&gt;&lt;/a&gt; On RS crash and replay of WAL, loosing all Tags in Cells (stack: rev 4de9a6481c62c783f1d5719119dec968789e7126)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureWALCellCodec.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12825498">HBASE-13579</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12786528" name="HBASE-15218-0.98.patch" size="5013" author="anoop.hbase" created="Fri, 5 Feb 2016 18:35:06 +0000"/>
                            <attachment id="12786526" name="HBASE-15218-branch-1.1.patch" size="4895" author="anoop.hbase" created="Fri, 5 Feb 2016 18:34:13 +0000"/>
                            <attachment id="12786513" name="HBASE-15218-branch-1.2.patch" size="4903" author="anoop.hbase" created="Fri, 5 Feb 2016 17:35:44 +0000"/>
                            <attachment id="12786429" name="HBASE-15218.patch" size="4886" author="anoop.hbase" created="Fri, 5 Feb 2016 07:10:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 5 Feb 2016 07:17:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2sgpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This issue fixes &lt;br/&gt;
- In case of normal WAL (Not encrypted) we were loosing all cell tags on WAL replay after an RS crash&lt;br/&gt;
- In case of encrypted WAL we were not even persisting Cell tags in WAL.  Tags from all unflushed (to HFile) Cells will get lost even after WAL replay recovery is done.&lt;br/&gt;
&lt;br/&gt;
As we use tags for Cell level security, this fixes 2 security issues&lt;br/&gt;
&amp;nbsp;- Cell level visibility labels security breach . Making a visibility restricted cell global readable&lt;br/&gt;
&amp;nbsp;- Cell level ACL availability issue.  A user who is cell level authorized to read this cell can not read it. It is a data loss for him. </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>