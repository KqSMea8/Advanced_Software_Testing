<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:03:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9295/HBASE-9295.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9295] Allow test-patch.sh to detect TreeMap keyed by byte[] which doesn&apos;t use proper comparator</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9295</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There were two recent bug fixes (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9285&quot; title=&quot;User who created table cannot scan the same table due to Insufficient permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9285&quot;&gt;&lt;del&gt;HBASE-9285&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9238&quot; title=&quot;bug in Mutation::getFamilyMap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9238&quot;&gt;&lt;del&gt;HBASE-9238&lt;/del&gt;&lt;/a&gt;) for the case where the TreeMap keyed by byte[] doesn&apos;t use proper comparator:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TreeMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], ...&amp;gt;()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;test-patch.sh should be able to detect this situation and report accordingly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12664952">HBASE-9295</key>
            <summary>Allow test-patch.sh to detect TreeMap keyed by byte[] which doesn&apos;t use proper comparator</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Aug 2013 00:18:43 +0000</created>
                <updated>Fri, 20 Nov 2015 11:52:32 +0000</updated>
                            <resolved>Sat, 16 Nov 2013 02:54:40 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13769689" author="yuzhihong@gmail.com" created="Tue, 17 Sep 2013 17:12:36 +0000"  >&lt;p&gt;Here is sample output where the tested patch omits comparator for TreeMap:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
		    {color:red}-1 Anti-pattern{color}.  The patch appears to have anti-pattern :
             +      Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt; kvCount = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TreeMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;();.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13769713" author="jesse_yates" created="Tue, 17 Sep 2013 17:33:27 +0000"  >&lt;p&gt;Would be nice if each anti-patter came with a description of why it was bad (i.e. in this case, omits byte[] comparator for a treeMap). Otherwise, a cool idea!&lt;/p&gt;</comment>
                            <comment id="13769728" author="yuzhihong@gmail.com" created="Tue, 17 Sep 2013 17:44:22 +0000"  >&lt;p&gt;How about patch v2 ?&lt;/p&gt;</comment>
                            <comment id="13769736" author="jesse_yates" created="Tue, 17 Sep 2013 17:50:11 +0000"  >&lt;p&gt;I was thinking that each anti-pattern would actually be a check to grep against and a description when found. Otherwise, we are just looking for the BYTES_COMPARATOR anti-pattern&lt;/p&gt;</comment>
                            <comment id="13799968" author="yuzhihong@gmail.com" created="Sat, 19 Oct 2013 18:37:32 +0000"  >&lt;p&gt;Since the detection is based on scanning a single line, there would not be that many anti-patterns to be discovered.&lt;br/&gt;
This one is the only I can think of now.&lt;/p&gt;

&lt;p&gt;What do you think, Jesse ?&lt;/p&gt;</comment>
                            <comment id="13800917" author="jesse_yates" created="Mon, 21 Oct 2013 18:22:27 +0000"  >&lt;p&gt;I think that we can make it a little bit more general to cover other anti-patterns, since others are sure to come up, even on single-line cases. But, until then, I guess this is fine - we can make it more general later&lt;/p&gt;</comment>
                            <comment id="13809790" author="yuzhihong@gmail.com" created="Thu, 31 Oct 2013 00:18:49 +0000"  >&lt;p&gt;Can I interpret the above as +1 ?&lt;/p&gt;</comment>
                            <comment id="13810421" author="jesse_yates" created="Thu, 31 Oct 2013 16:51:28 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13816414" author="yuzhihong@gmail.com" created="Thu, 7 Nov 2013 20:59:36 +0000"  >&lt;p&gt;Integrated to trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Jesse.&lt;/p&gt;</comment>
                            <comment id="13816879" author="hudson" created="Fri, 8 Nov 2013 01:09:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #831 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/831/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/831/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9295&quot; title=&quot;Allow test-patch.sh to detect TreeMap keyed by byte[] which doesn&amp;#39;t use proper comparator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9295&quot;&gt;&lt;del&gt;HBASE-9295&lt;/del&gt;&lt;/a&gt; Allow test-patch.sh to detect TreeMap keyed by byte[] which doesn&apos;t use proper comparator (tedyu: rev 1539812)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/dev-support/test-patch.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13816904" author="hudson" created="Fri, 8 Nov 2013 01:46:14 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4672 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4672/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4672/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9295&quot; title=&quot;Allow test-patch.sh to detect TreeMap keyed by byte[] which doesn&amp;#39;t use proper comparator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9295&quot;&gt;&lt;del&gt;HBASE-9295&lt;/del&gt;&lt;/a&gt; Allow test-patch.sh to detect TreeMap keyed by byte[] which doesn&apos;t use proper comparator (tedyu: rev 1539812)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/dev-support/test-patch.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15015772" author="lars_francke" created="Fri, 20 Nov 2015 11:52:32 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12603617" name="9295-v1.txt" size="1384" author="yuzhihong@gmail.com" created="Tue, 17 Sep 2013 17:11:31 +0000"/>
                            <attachment id="12603628" name="9295-v2.txt" size="1418" author="yuzhihong@gmail.com" created="Tue, 17 Sep 2013 17:44:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Sep 2013 17:33:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nh5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>345195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>