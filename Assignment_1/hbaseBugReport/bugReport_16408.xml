<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:13:50 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-16408/HBASE-16408.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-16408] Handle On heap BucketCache size when HeapMemoryManager tunes memory</title>
                <link>https://issues.apache.org/jira/browse/HBASE-16408</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12996927">HBASE-16408</key>
            <summary>Handle On heap BucketCache size when HeapMemoryManager tunes memory</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12996726">HBASE-16401</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Aug 2016 11:49:49 +0000</created>
                <updated>Mon, 7 Nov 2016 18:02:11 +0000</updated>
                            <resolved>Mon, 7 Nov 2016 18:02:10 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15422629" author="stack" created="Tue, 16 Aug 2016 11:50:09 +0000"  >&lt;p&gt;I don&apos;t understand what this one is about &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;? Doesn&apos;t HeapMemoryManager do this already?&lt;/p&gt;</comment>
                            <comment id="15422734" author="anoop.hbase" created="Tue, 16 Aug 2016 13:41:21 +0000"  >&lt;p&gt;Ya. The HeapMemoryManager handle L1 cache only as of now. When we have L2 cache as onheap, we might need to change size as per size change from tuner.&lt;/p&gt;</comment>
                            <comment id="15422875" author="stack" created="Tue, 16 Aug 2016 15:19:23 +0000"  >&lt;p&gt;I see (I misread BucketCache as BlockCache)&lt;/p&gt;</comment>
                            <comment id="15495603" author="anoop.hbase" created="Fri, 16 Sep 2016 07:10:55 +0000"  >&lt;p&gt;As of now there is no problem (I was wrong).. Even if BucketCache is onheap, we dont consider that size at all in size calc for HeapMemory tuner.    Now we have optimized off heap read so am wondering why we need on heap version of bucket cache.   File and off heap mode is enough?  Do some one really using BucketCache on heap?  Off heap will perform equally or even better now.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; how abt removing on heap Bucket cache mode?&lt;/p&gt;</comment>
                            <comment id="15496270" author="stack" created="Fri, 16 Sep 2016 12:59:29 +0000"  >&lt;p&gt;Will an on-heap bucketcache that does not make copies be faster than our lrublockcache? (Seems like it would be?)  I&apos;d say we can forbid it though to keep things simple (and given we don&apos;t have much practice doing onheap bucket cache). mmap&apos;d is considered file-based? Its not looked on as onheap?&lt;/p&gt;</comment>
                            <comment id="15501156" author="anoop.hbase" created="Sun, 18 Sep 2016 15:27:31 +0000"  >&lt;p&gt;As per the tests so far, even the new off heap BC itself will be faster than L1 cache specially on high load.   This is mainly due to the fact that we can work with very less xmx then and as there are no copies, the GC activity will be much lesser.  In case of on heap BC, the issue is our working set will be always high. So configuring the IHOP for G1GC will be tricky.   Working set being so high will be GC problematic as per the tests.  So what I feel is on heap BC should not be used at all.  Specially now we have an off heap version which can be almost equal to L1 cache in lower workload and faster when high load.&lt;br/&gt;
Ya mmaped is considered file mode way only.  We will do a copy on the HFile block on hit.  We have to do this also..  This block bytes will be read so many time in the read stack (Cell compares etc etc)..  If we get more page faults, we will have horrible results.  Thoughts boss?&lt;br/&gt;
I plan to open a jira to remove on heap BC support.&lt;/p&gt;</comment>
                            <comment id="15644885" author="anoop.hbase" created="Mon, 7 Nov 2016 18:02:11 +0000"  >&lt;p&gt;We are not considering L2 cache at all (even if it is On heap) while memory tuning. So not an issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 16 Aug 2016 11:50:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3298f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>