<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:52:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14396/HBASE-14396.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14396] audit log should  record the operation object</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14396</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently the hbase audit log only records the user and scope,we can&apos;t know which table the user is operating on unless the scope is table.&lt;/p&gt;

&lt;p&gt;It would be better to know what&apos;s going on if we record the exact table and column family we are operating on besides the scope.&lt;/p&gt;

&lt;p&gt;  String logMessage =&lt;br/&gt;
        &quot;Access &quot; + (result.isAllowed() ? &quot;allowed&quot; : &quot;denied&quot;) + &quot; for user &quot;&lt;br/&gt;
            + (result.getUser() != null ? result.getUser().getShortName() : &quot;UNKNOWN&quot;)&lt;br/&gt;
            + &quot;; reason: &quot; + result.getReason() + &quot;; remote address: &quot;&lt;br/&gt;
            + (remoteAddr != null ? remoteAddr : &quot;&quot;) + &quot;; request: &quot; + result.getRequest()&lt;br/&gt;
            + &quot;; context: &quot; + result.toContextString();&lt;/p&gt;</description>
                <environment></environment>
        <key id="12863029">HBASE-14396</key>
            <summary>audit log should  record the operation object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="haitao-tony">sunhaitao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Sep 2015 12:09:00 +0000</created>
                <updated>Fri, 11 Sep 2015 08:24:26 +0000</updated>
                            <resolved>Fri, 11 Sep 2015 08:24:26 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14738762" author="ashish singhi" created="Thu, 10 Sep 2015 13:44:07 +0000"  >&lt;p&gt;I think this is logged as part of params which is part of context.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toString() {
      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; familiesString = toFamiliesString(families, family, qualifier);
      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] params = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] {
          namespace != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? &lt;span class=&quot;code-quote&quot;&gt;&quot;namespace=&quot;&lt;/span&gt; + namespace : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
          tableName != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? &lt;span class=&quot;code-quote&quot;&gt;&quot;table=&quot;&lt;/span&gt; + tableName.getNameWithNamespaceInclAsString() : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
          familiesString.length() &amp;gt; 0 ? &lt;span class=&quot;code-quote&quot;&gt;&quot;family=&quot;&lt;/span&gt; + familiesString : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
      };
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Joiner.on(&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;).skipNulls().join(params);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Am I missing anything ?&lt;/p&gt;</comment>
                            <comment id="14739955" author="haitao-tony" created="Fri, 11 Sep 2015 01:01:34 +0000"  >&lt;p&gt;Yes,in context what it logs is the scope not the operating target.&lt;br/&gt;
For example:I create a table t1, the scope is the namespace it belongs to not the table.&lt;br/&gt;
From the audit log we can&apos;t see which table we are creating.&lt;/p&gt;</comment>
                            <comment id="14740286" author="ashish singhi" created="Fri, 11 Sep 2015 06:31:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=haitao-tony&quot; class=&quot;user-hover&quot; rel=&quot;haitao-tony&quot;&gt;sunhaitao&lt;/a&gt;, I think you missed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13235&quot; title=&quot;Revisit the security auditing semantics.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13235&quot;&gt;&lt;del&gt;HBASE-13235&lt;/del&gt;&lt;/a&gt;. Your expectations are already handled as part of that.&lt;br/&gt;
After checking it, please close this issue.&lt;/p&gt;</comment>
                            <comment id="14740366" author="haitao-tony" created="Fri, 11 Sep 2015 07:55:45 +0000"  >&lt;p&gt;I see it ,thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Sep 2015 13:44:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jzqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>