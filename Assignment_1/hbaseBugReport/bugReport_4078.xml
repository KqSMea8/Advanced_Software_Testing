<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:15:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4078/HBASE-4078.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4078] Silent Data Offlining During HDFS Flakiness</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4078</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1436&quot; title=&quot;Killing regionserver can make corrupted hfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1436&quot;&gt;&lt;del&gt;HBASE-1436&lt;/del&gt;&lt;/a&gt; .  The bug fix for this JIRA is a temporary workaround for improperly moving partially-written files from TMP into the region directory when a FS error occurs.  Unfortunately, the fix is to ignore all IO exceptions, which masks off-lining due to FS flakiness.  We need to permanently fix the problem that created &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1436&quot; title=&quot;Killing regionserver can make corrupted hfile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1436&quot;&gt;&lt;del&gt;HBASE-1436&lt;/del&gt;&lt;/a&gt; &amp;amp; then at least have the option to not open a region during times of flakey FS.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513182">HBASE-4078</key>
            <summary>Silent Data Offlining During HDFS Flakiness</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackpearl">Pritam Damania</assignee>
                                    <reporter username="nspiegelberg">Nicolas Spiegelberg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jul 2011 19:50:50 +0000</created>
                <updated>Fri, 12 Oct 2012 05:34:56 +0000</updated>
                            <resolved>Thu, 13 Oct 2011 20:26:33 +0000</resolved>
                                    <version>0.89.20100924</version>
                    <version>0.90.3</version>
                    <version>0.92.0</version>
                                    <fixVersion>0.92.0</fixVersion>
                    <fixVersion>0.94.0</fixVersion>
                                    <component>io</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13063469" author="nspiegelberg" created="Mon, 11 Jul 2011 19:01:37 +0000"  >&lt;p&gt;Pritam is working on a fix for this.&lt;/p&gt;</comment>
                            <comment id="13064349" author="stack" created="Wed, 13 Jul 2011 04:29:46 +0000"  >&lt;p&gt;This looks like its similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3834&quot; title=&quot;Store ignores checksum errors when opening files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3834&quot;&gt;&lt;del&gt;HBASE-3834&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13081335" author="blackpearl" created="Tue, 9 Aug 2011 00:37:28 +0000"  >&lt;p&gt;This is a patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4078&quot; title=&quot;Silent Data Offlining During HDFS Flakiness&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4078&quot;&gt;&lt;del&gt;HBASE-4078&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13081341" author="blackpearl" created="Tue, 9 Aug 2011 00:49:43 +0000"  >&lt;p&gt;Here is the review board link for this patch : &lt;a href=&quot;https://reviews.apache.org/r/1327/diff/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1327/diff/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13081435" author="stack" created="Tue, 9 Aug 2011 04:44:49 +0000"  >&lt;p&gt;I added some comments over on reviewboard but then realized that the patch looks like hbase-4078.  Is it same patch?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13081439" author="stack" created="Tue, 9 Aug 2011 04:49:55 +0000"  >&lt;p&gt;Pardon my sillyness above where I am saying that the patch for this issue is the same as the patch for this issue.&lt;/p&gt;</comment>
                            <comment id="13093305" author="blackpearl" created="Mon, 29 Aug 2011 23:26:20 +0000"  >&lt;p&gt;Updated Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4078&quot; title=&quot;Silent Data Offlining During HDFS Flakiness&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4078&quot;&gt;&lt;del&gt;HBASE-4078&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13093320" author="lhofhansl" created="Tue, 30 Aug 2011 00:02:36 +0000"  >&lt;p&gt;When does the corruption actually happen?&lt;/p&gt;

&lt;p&gt;Does any of StoreFile.Writer.&lt;/p&gt;
{append|appendMetadata|close}
&lt;p&gt;(...) silently fail, leaving a corrupt file? If any of these throws any exception we would skip moving the file anyway.&lt;br/&gt;
If so, wouldn&apos;t it be better to fix that?&lt;/p&gt;

&lt;p&gt;Or is this a problem deeper in HDFS?&lt;/p&gt;</comment>
                            <comment id="13093326" author="lhofhansl" created="Tue, 30 Aug 2011 00:07:54 +0000"  >&lt;p&gt;Ah never mind me... HDFS flakiness is what this is all about.&lt;/p&gt;</comment>
                            <comment id="13126885" author="nspiegelberg" created="Thu, 13 Oct 2011 20:26:33 +0000"  >&lt;p&gt;added to 89, 92, &amp;amp; 94&lt;/p&gt;</comment>
                            <comment id="13127103" author="hudson" created="Thu, 13 Oct 2011 23:12:45 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #62 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/62/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/62/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4078&quot; title=&quot;Silent Data Offlining During HDFS Flakiness&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4078&quot;&gt;&lt;del&gt;HBASE-4078&lt;/del&gt;&lt;/a&gt; Validate store files after flush/compaction&lt;/p&gt;

&lt;p&gt;nspiegelberg : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13127281" author="streamy" created="Fri, 14 Oct 2011 05:51:09 +0000"  >&lt;p&gt;This seems to have somehow broken cache-on-write again.  I think because the verify does a closeReader() which could trigger the evict-on-close.&lt;/p&gt;

&lt;p&gt;I&apos;m going to need to extend the close API to take evictOnClose as an argument.  I think there&apos;s actually a JIRA for this already.&lt;/p&gt;</comment>
                            <comment id="13128381" author="hudson" created="Sun, 16 Oct 2011 11:43:45 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2325 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2325/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2325/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4078&quot; title=&quot;Silent Data Offlining During HDFS Flakiness&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4078&quot;&gt;&lt;del&gt;HBASE-4078&lt;/del&gt;&lt;/a&gt; Validate store files after flush/compaction&lt;/p&gt;

&lt;p&gt;nspiegelberg : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12505837">HBASE-3834</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12425769">HBASE-1436</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12492160" name="0001-Validate-store-files-after-compactions-flushes.patch" size="5967" author="blackpearl" created="Mon, 29 Aug 2011 23:26:20 +0000"/>
                            <attachment id="12489784" name="0001-Validate-store-files.patch" size="11828" author="blackpearl" created="Tue, 9 Aug 2011 00:37:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Jul 2011 04:29:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08rbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>