<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:16:15 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10689/HBASE-10689.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10689] Explore advisory caching for MR over snapshot scans</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10689</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Per &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10660?focusedCommentId=13921730&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13921730&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;comment&lt;/a&gt; on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10660&quot; title=&quot;MR over snapshots can OOM when alternative blockcache is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10660&quot;&gt;&lt;del&gt;HBASE-10660&lt;/del&gt;&lt;/a&gt;, explore using the new HDFS advisory caching feature introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4817&quot; title=&quot;make HDFS advisory caching configurable on a per-file basis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4817&quot;&gt;&lt;del&gt;HDFS-4817&lt;/del&gt;&lt;/a&gt; for TableSnapshotInputFormat.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12699033">HBASE-10689</key>
            <summary>Explore advisory caching for MR over snapshot scans</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Mar 2014 01:07:58 +0000</created>
                <updated>Mon, 10 Mar 2014 18:29:47 +0000</updated>
                                                                            <component>mapreduce</component>
                    <component>Performance</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13924548" author="stack" created="Sat, 8 Mar 2014 00:21:53 +0000"  >&lt;p&gt;Talking to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmccabe&quot; class=&quot;user-hover&quot; rel=&quot;cmccabe&quot;&gt;Colin P. McCabe&lt;/a&gt;, currently hdfs caching can&apos;t do small sizes, hbase 64k sizes.  We&apos;d need to add this first.&lt;/p&gt;</comment>
                            <comment id="13925386" author="cmccabe" created="Mon, 10 Mar 2014 01:43:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, there are multiple kinds of caching in HDFS.  The path-based caching added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4949&quot; title=&quot;Centralized cache management in HDFS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4949&quot;&gt;&lt;del&gt;HDFS-4949&lt;/del&gt;&lt;/a&gt; caches at the file level, so you are right that it is not that useful for HBase.  The advisory caching API is a little different.  It allows the application to control how much readahead HDFS does and a little bit about how the page cache is used.&lt;/p&gt;

&lt;p&gt;When HBase reads a 64kb chunk, currently HDFS will load a 4MB segment off of the disk.  The rest of that 4MB is thrown away unless HBase uses it.  HBase could avoid this issue by calling DFSInputStream#setReadahead(65536).  Unless HBase is doing something smart with the rest of that 4MB, it seems like this might be a good idea?&lt;/p&gt;</comment>
                            <comment id="13925821" author="stack" created="Mon, 10 Mar 2014 15:46:37 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmccabe&quot; class=&quot;user-hover&quot; rel=&quot;cmccabe&quot;&gt;Colin P. McCabe&lt;/a&gt; for clearing up my path-based caching fixation/misread of this issue.&lt;/p&gt;</comment>
                            <comment id="13926010" author="cmccabe" created="Mon, 10 Mar 2014 18:29:47 +0000"  >&lt;p&gt;No problem.  I agree it can get a bit confusing.  It would be nice to see some numbers from tweaking readahead on HBase when you guys get a chance.  I guess the gain will depend partly on how much caching HBase is doing.  If HBase is caching that extra 4 MB that it read, then it&apos;s not such a loss.  If it&apos;s throwing that away, then making readahead shorter may be a big gain.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 8 Mar 2014 00:21:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t113:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>