<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:53:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1422/HBASE-1422.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1422] Refactor to Server Manager</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1422</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This is refactor to Server Manager class from  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1017&quot; title=&quot;Region balancing does not bring newly added node within acceptable range&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1017&quot;&gt;&lt;del&gt;HBASE-1017&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I separate it for reasons:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Its better to have several small patchs and apply them iterativly then one great path&lt;/li&gt;
	&lt;li&gt;I fu..**  tired from synchronising w/ SVN  (this class changes frequently), you can saw 10 patches in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1017&quot; title=&quot;Region balancing does not bring newly added node within acceptable range&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1017&quot;&gt;&lt;del&gt;HBASE-1017&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We need this refactoing for reasons:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Server Manager looks like shi**.. bad thing...&lt;/li&gt;
	&lt;li&gt;is every time harder to make any chnages&lt;/li&gt;
	&lt;li&gt;it is becoming more ugly every time........&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;What changes are done:&lt;/p&gt;

&lt;p&gt;ServerManager has mapping:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;serverName 2 serverInfo,&lt;/li&gt;
	&lt;li&gt;serverAddr 2 serverInfo,&lt;/li&gt;
	&lt;li&gt;serverName 2 load,&lt;/li&gt;
	&lt;li&gt;load 2 severName&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1) serverName 2 load - not necessary if you have serverName 2 serverInfo&lt;br/&gt;
2) All mappings are encapsulated in ServersInfo class (inner class of ServerManager)&lt;br/&gt;
3) ServersInfo has operations for adding, updating and removing information of HRS&lt;/p&gt;


&lt;p&gt;+ some code in RegionServer is puted in synchronised block... cause it is working with synchronised map...&lt;/p&gt;

&lt;p&gt;Note: this task is to make code much much more clear.. and it&apos;s not going to change logic, so no much problem is going appear&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425403">HBASE-1422</key>
            <summary>Refactor to Server Manager</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12409044">HBASE-1017</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="apparition">Evgeny Ryabitskiy</assignee>
                                    <reporter username="apparition">Evgeny Ryabitskiy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2009 02:03:40 +0000</created>
                <updated>Sun, 6 Dec 2015 04:44:44 +0000</updated>
                            <resolved>Thu, 29 Oct 2009 04:46:12 +0000</resolved>
                                    <version>0.19.2</version>
                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12709418" author="apparition" created="Thu, 14 May 2009 14:47:38 +0000"  >&lt;p&gt;in version 3 added TestServerManager JUnit to cover Server Manager functions &lt;br/&gt;
like keeping and updating ServersInfo&lt;/p&gt;

&lt;p&gt;So now I can show that my refactor doesnt break anything &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12709696" author="stack" created="Fri, 15 May 2009 04:20:04 +0000"  >&lt;p&gt;@Evgeny&lt;/p&gt;

&lt;p&gt;I do not think this a blocker for 0.20.0.  As is it works.  0.20.0 is already late and overloaded with issues.  We don&apos;t need to add more if we can avoid it. This refactor, while it&apos;d be nice since as you say ServerManager is a mess, seems low priority but high risk since its something that can&apos;t be messed up since this class orchestrates servers in the cluster.&lt;/p&gt;</comment>
                            <comment id="12709916" author="apparition" created="Fri, 15 May 2009 17:31:57 +0000"  >&lt;p&gt;ok.... moved to 0.20.1&lt;br/&gt;
will wait till relise&lt;/p&gt;</comment>
                            <comment id="12710065" author="stack" created="Sat, 16 May 2009 03:50:20 +0000"  >&lt;p&gt;Thanks Evgeny for moving this out.&lt;/p&gt;</comment>
                            <comment id="12742631" author="streamy" created="Wed, 12 Aug 2009 22:47:05 +0000"  >&lt;p&gt;Moving to 0.21.  No plans for changes to master / balancing logic in 0.20.* except for bug fixes.&lt;/p&gt;</comment>
                            <comment id="12771289" author="stack" created="Thu, 29 Oct 2009 04:46:12 +0000"  >&lt;p&gt;Patch is stale and we have different ideas about how this stuff will be refactored now since Evgeny wrote patch.&lt;/p&gt;</comment>
                            <comment id="15017807" author="lars_francke" created="Fri, 20 Nov 2015 13:01:28 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                            <comment id="15043525" author="hudson" created="Sat, 5 Dec 2015 21:47:33 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #420 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/420/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/420/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1422&quot; title=&quot;Refactor to Server Manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1422&quot;&gt;&lt;del&gt;HBASE-1422&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms; addendum by (stack: rev 7d0c08fbcdb6ab84bc8fb78fdc840c7b29720390)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043538" author="hudson" created="Sat, 5 Dec 2015 22:23:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #534 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/534/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/534/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1422&quot; title=&quot;Refactor to Server Manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1422&quot;&gt;&lt;del&gt;HBASE-1422&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms; addendum by (stack: rev b1462679e17f9b5827720f3c57eaeff946cfea0e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043554" author="hudson" created="Sat, 5 Dec 2015 22:56:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #358 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/358/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/358/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1422&quot; title=&quot;Refactor to Server Manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1422&quot;&gt;&lt;del&gt;HBASE-1422&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms; addendum by (stack: rev 7d0c08fbcdb6ab84bc8fb78fdc840c7b29720390)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1422&quot; title=&quot;Refactor to Server Manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1422&quot;&gt;&lt;del&gt;HBASE-1422&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms; (stack: rev 693e1dee4cf46159c6c1e255e40a346985db4115)&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043556" author="hudson" created="Sat, 5 Dec 2015 23:03:32 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #426 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/426/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/426/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1422&quot; title=&quot;Refactor to Server Manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1422&quot;&gt;&lt;del&gt;HBASE-1422&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms; addendum by (stack: rev 55422749a54bac6b8177ed29be50e856dd623503)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043573" author="hudson" created="Sat, 5 Dec 2015 23:42:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #328 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/328/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/328/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1422&quot; title=&quot;Refactor to Server Manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1422&quot;&gt;&lt;del&gt;HBASE-1422&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms; addendum by (stack: rev 55422749a54bac6b8177ed29be50e856dd623503)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1422&quot; title=&quot;Refactor to Server Manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1422&quot;&gt;&lt;del&gt;HBASE-1422&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms; (stack: rev 1633db4747a32e02af7b7df9a316adcbeeebd92d)&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043663" author="hudson" created="Sun, 6 Dec 2015 02:40:42 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #421 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/421/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/421/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1422&quot; title=&quot;Refactor to Server Manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1422&quot;&gt;&lt;del&gt;HBASE-1422&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms; (stack: rev 693e1dee4cf46159c6c1e255e40a346985db4115)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043671" author="hudson" created="Sun, 6 Dec 2015 02:57:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #427 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/427/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/427/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1422&quot; title=&quot;Refactor to Server Manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1422&quot;&gt;&lt;del&gt;HBASE-1422&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms; (stack: rev 1633db4747a32e02af7b7df9a316adcbeeebd92d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043690" author="hudson" created="Sun, 6 Dec 2015 04:44:44 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #535 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/535/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/535/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1422&quot; title=&quot;Refactor to Server Manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1422&quot;&gt;&lt;del&gt;HBASE-1422&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms; (stack: rev 9fb53d07c418002c8a03be1e7e664e094f304ba5)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12409044">HBASE-1017</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12434794">HBASE-1816</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12408092" name="HBASE-1422.patch" size="27127" author="apparition" created="Thu, 14 May 2009 02:09:55 +0000"/>
                            <attachment id="12408093" name="HBASE-1422_v2.patch" size="27127" author="apparition" created="Thu, 14 May 2009 02:11:59 +0000"/>
                            <attachment id="12408137" name="HBASE-1422_v3.patch" size="36260" author="apparition" created="Thu, 14 May 2009 14:47:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2009 04:20:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hd5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>