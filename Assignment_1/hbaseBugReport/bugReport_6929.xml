<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:41:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6929/HBASE-6929.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6929] Publish Hbase 0.94 artifacts build against hadoop-2.0</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6929</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Downstream projects (flume, hive, pig, etc) depends on hbase, but since the hbase binaries build with hadoop-2.0 are not pushed to maven, they cannot depend on them. AFAIK, hadoop 1 and 2 are not binary compatible, so we should also push hbase jars build with hadoop2.0 profile into maven, possibly with version string like 0.94.2-hadoop2.0. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12610016">HBASE-6929</key>
            <summary>Publish Hbase 0.94 artifacts build against hadoop-2.0</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Oct 2012 01:06:05 +0000</created>
                <updated>Wed, 16 Nov 2016 22:30:01 +0000</updated>
                            <resolved>Wed, 16 Nov 2016 22:30:00 +0000</resolved>
                                    <version>0.94.2</version>
                                                    <component>build</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>19</watches>
                                                                <comments>
                            <comment id="13468236" author="yuzhihong@gmail.com" created="Wed, 3 Oct 2012 01:10:04 +0000"  >&lt;p&gt;There&apos;re test failures such as TestImportExport against hadoop 2.0&lt;br/&gt;
Would that affect the use of HBase on top of hadoop 2.0 ?&lt;/p&gt;</comment>
                            <comment id="13468237" author="roshan_naik" created="Wed, 3 Oct 2012 01:17:10 +0000"  >&lt;p&gt;Need Hbase binaries built against Hadoop 2.x for this.&lt;/p&gt;</comment>
                            <comment id="13468314" author="stack" created="Wed, 3 Oct 2012 03:44:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; Officially 0.96 supports hadoop2, not 0.94.  How would we publish the different jars to mvn repo?  Those built for h1 and those for h2?  The artifact is hbase-X.X.X.jar?  You suggest adding a hadoop1 and hadoop2 to the name?  Even then, we&apos;re breaking the mvn model of an artifact per module.  Maybe hbase-X.X.X.jar becomes a meta jar under which you can slot in hbase-h1 or hbase-h2... but that sounds like ugly work w/ an explosion in hbase maven modules?&lt;/p&gt;</comment>
                            <comment id="13468338" author="enis" created="Wed, 3 Oct 2012 04:57:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;Officially 0.96 supports hadoop2, not 0.94&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I saw a bunch of fixes for hadoop-2.0, but did not check whether 0.94 it works. Let me go over the fixes that went in to see whether 0.94 can also officially support 2.0. Although not officially production-ready, 0.94 builds with hadoop-2.0, and there are some interest in downstream projects to build and run tests with h2, publishing the artifacts might be justified. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;How would we publish the different jars to mvn repo?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We do not need to break the current setup for h1. Since the binaries are different we can publish h2 artifacts with either naming it smt like hbase-hadoop2-X.X.X.jar, or using maven classifiers. &lt;br/&gt;
Agreed that this is ugly, but if we do not publish the artifacts, downstream projects cannot easily consume hbase jars build with hadoop-2.0 in their hadoop-2.0 profiles.&lt;/p&gt;</comment>
                            <comment id="13471994" author="enis" created="Tue, 9 Oct 2012 00:38:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, as the RM, do you have any feedback on this?&lt;/p&gt;</comment>
                            <comment id="13472012" author="lhofhansl" created="Tue, 9 Oct 2012 00:54:59 +0000"  >&lt;p&gt;I think this is a more general discussion than just 0.94.&lt;br/&gt;
The question is: Do we force folks to take the HBase &quot;singularity&quot; in order to use Hadoop-2? Since Hadoop-2 breaks a bunch of stuff, the answer might well be &quot;Yes&quot;.&lt;/p&gt;

&lt;p&gt;That said, we have been using 0.94 with Hadoop-2 here and there (no actual testing or a lot of load) on our test cluster and everything seemed fine.&lt;/p&gt;

&lt;p&gt;Personally I&apos;d like to see 0.94 tested on top of Hadoop-2.&lt;/p&gt;</comment>
                            <comment id="13472050" author="enis" created="Tue, 9 Oct 2012 01:36:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think this is a more general discussion than just 0.94.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agreed. Since H2 is labeled alpha, we can just release the binary labeled with suffix hadoop-2-alpha, and document this as not production ready. I don&apos;t see any reason why we might wait instead of publishing 0.94 with H2 as long as it is clear that it is not tested enough. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Personally I&apos;d like to see 0.94 tested on top of Hadoop-2&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Our folks are doing some testing on that, and the tests for hive/pig/flume on hadoop-2 with hbase-0.94 are blocked by this. Getting this out will definitely help with testing. &lt;/p&gt;</comment>
                            <comment id="13472111" author="stack" created="Tue, 9 Oct 2012 03:51:04 +0000"  >&lt;p&gt;@Enis Seems fine by me.  We&apos;d have to backport h2 fixes.  It&apos;d be 0.94.3?  Or would a snapshot do (qualified with a maven classifier?)&lt;/p&gt;</comment>
                            <comment id="13472116" author="lhofhansl" created="Tue, 9 Oct 2012 04:15:22 +0000"  >&lt;p&gt;Were there many Hadoop-2 related fixes in 0.96? I would prefer not to de-stabilize the 0.94 code base at this point.&lt;/p&gt;

&lt;p&gt;If these are simple pom fixes and some reflection here and there I am all for it. If we have backport the Hadoop-2 module... Forget it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13472124" author="stack" created="Tue, 9 Oct 2012 04:35:02 +0000"  >&lt;p&gt;@Lars Yes.  Wondering if a snapshot would do?  Could do it w/o even changing the pom?&lt;/p&gt;</comment>
                            <comment id="13472127" author="enis" created="Tue, 9 Oct 2012 04:44:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;If these are simple pom fixes and some reflection here and there I am all for it. If we have backport the Hadoop-2 module. Forget it&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agreed. We should identify the changes, and only backport if they are not intrusive. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Wondering if a snapshot would do?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think that would do for now.&lt;/p&gt;</comment>
                            <comment id="13472131" author="lhofhansl" created="Tue, 9 Oct 2012 04:57:49 +0000"  >&lt;p&gt;What do you guys mean with &quot;a snapshot&quot;?&lt;/p&gt;</comment>
                            <comment id="13472607" author="stack" created="Tue, 9 Oct 2012 18:23:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; If you do mvn package, it will install the build into your local mvn repository (see under ~/.m2/repository).  Notice how the suffix is -SNAPSHOT.  The suggestion is to push one of these snapshots up to apache (Apache maintains an area where you can publish mvn snapshots; see &lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/hbase/hbase/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/hbase/hbase/&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13472645" author="stack" created="Tue, 9 Oct 2012 19:13:50 +0000"  >&lt;p&gt;You know how to fix this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Here is what I ran: 

stack:0.94 stack$ mvn -DskipTests -Dhadoop.profile=2.0 -Dclassifier=hadoop2 install

...and I got &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;:

...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1:12.527s
[INFO] Finished at: Tue Oct 09 12:11:41 PDT 2012
[INFO] Final Memory: 28M/81M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:2.1:build-classpath (create-mrapp-generated-classpath) on project hbase: not found in any repository: aopalliance:aopalliance:java-source:hadoop2:1.0: Could not find artifact aopalliance:aopalliance:jar:hadoop2:1.0 in apache release (https:&lt;span class=&quot;code-comment&quot;&gt;//repository.apache.org/content/repositories/releases/)
&lt;/span&gt;[ERROR] 
[ERROR] Try downloading the file manually from the project website.
[ERROR] 
[ERROR] Then, install it using the command:
[ERROR] mvn install:install-file -DgroupId=aopalliance -DartifactId=aopalliance -Dversion=1.0 -Dclassifier=hadoop2 -Dpackaging=java-source -Dfile=/path/to/file
[ERROR] 
[ERROR] Alternatively, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; you host your own repository you can deploy the file there:
[ERROR] mvn deploy:deploy-file -DgroupId=aopalliance -DartifactId=aopalliance -Dversion=1.0 -Dclassifier=hadoop2 -Dpackaging=java-source -Dfile=/path/to/file -Durl=[url] -DrepositoryId=[id]
[ERROR] 
[ERROR] 
[ERROR] aopalliance:aopalliance:java-source:1.0
[ERROR] 
[ERROR] from the specified remote repositories:
[ERROR] apache release (https:&lt;span class=&quot;code-comment&quot;&gt;//repository.apache.org/content/repositories/releases/, releases=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, snapshots=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;),
&lt;/span&gt;[ERROR] apache non-releases (http:&lt;span class=&quot;code-comment&quot;&gt;//people.apache.org/~stack/m2/repository, releases=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, snapshots=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),
&lt;/span&gt;[ERROR] java.net (http:&lt;span class=&quot;code-comment&quot;&gt;//download.java.net/maven/2/, releases=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, snapshots=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),
&lt;/span&gt;[ERROR] codehaus (http:&lt;span class=&quot;code-comment&quot;&gt;//repository.codehaus.org/, releases=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, snapshots=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),
&lt;/span&gt;[ERROR] repository.jboss.org (http:&lt;span class=&quot;code-comment&quot;&gt;//repository.jboss.org/nexus/content/groups/&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;-jboss/, releases=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, snapshots=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),
&lt;/span&gt;[ERROR] ghelmling.testing (http:&lt;span class=&quot;code-comment&quot;&gt;//people.apache.org/~garyh/mvn/, releases=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, snapshots=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;),
&lt;/span&gt;[ERROR] apache.snapshots (http:&lt;span class=&quot;code-comment&quot;&gt;//repository.apache.org/snapshots, releases=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, snapshots=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;),
&lt;/span&gt;[ERROR] central (http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2, releases=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, snapshots=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
&lt;/span&gt;[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;.
[ERROR] Re-run Maven using the -X &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http:&lt;span class=&quot;code-comment&quot;&gt;//cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13472723" author="lhofhansl" created="Tue, 9 Oct 2012 20:39:09 +0000"  >&lt;p&gt;We were discussing this internally, and there&apos;d be interest for us to have 0.94 working with Hadoop-2. Is there a top-level jira that I can check out to see the magnitude of the changes needed?&lt;/p&gt;</comment>
                            <comment id="13472932" author="enis" created="Wed, 10 Oct 2012 02:14:19 +0000"  >&lt;p&gt;@Stack, I think -Dclassifier causes the problem.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn clean install -Dhadoop.profile=2.0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Works for me on 0.94. There should be a pom.xml change for deploying the local jar with a classifier. I&apos;ll look into that.&lt;br/&gt;
@Lars, I did not see an umbrella issue, but I think we have to compile a list, and see what comes out of it. If I have some time by the end of week, I&apos;ll try to do that. &lt;/p&gt;</comment>
                            <comment id="13475328" author="jarcec" created="Fri, 12 Oct 2012 20:35:42 +0000"  >&lt;p&gt;I would like to support this ticket as Sqoop project also have issues with missing hbase jars compiled against hadoop 2. I would greatly appreciate if this will happen &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Jarcec&lt;/p&gt;</comment>
                            <comment id="13475762" author="stack" created="Sun, 14 Oct 2012 04:06:13 +0000"  >&lt;p&gt;Maven makes no sense (I know no one will read and register the statement I just made because all have same opinion).&lt;/p&gt;

&lt;p&gt;-Dclassifier just doesn&apos;t work on mvn command line.  Maybe hadoop pom needs an amendment so all is just optional or some such voodoo but if you specify -Dclassifier and try to deploy, it doesn&apos;t matter what combination seemingly (at least going by my hours spent trying to figure mvn vagaries), it just tries to include dependencies w/ the classifier attached...e.g. randomjar-yourclassifier.jar, and so on.  This fails.&lt;/p&gt;

&lt;p&gt;The attached patch modifies the hadooop 2.0 profile so the hbase jar built has an hadoop2 suffix (also ups the version of our apache pom from 8 to 11). It does not decorate the test, source or javadoc jars w/ the classifier suffix.&lt;/p&gt;

&lt;p&gt;I went ahead and uploaded 0.94.3-SNAPSHOTs to maven repository, w/ the hadoop2 classification: &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/hbase/hbase/0.94.3-SNAPSHOT/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/hbase/hbase/0.94.3-SNAPSHOT/&lt;/a&gt;.   Is this all that is needed?   If so I&apos;ll commit this patch as is (I think you&apos;d depend on the hbase-0.94.3-SNAPSHOT but would reference explicitly hbase-0.94.3-SNAPSHOT-hadoop2.jar if an hadoop2 dependency).&lt;/p&gt;</comment>
                            <comment id="13475764" author="jarcec" created="Sun, 14 Oct 2012 04:12:22 +0000"  >&lt;p&gt;Hi Sir,&lt;br/&gt;
thank you very much for your time on this issue. Would you mind also providing test artifact compiled against hadoop 2?&lt;/p&gt;

&lt;p&gt;Jarcec&lt;/p&gt;</comment>
                            <comment id="13475978" author="stack" created="Mon, 15 Oct 2012 05:15:55 +0000"  >&lt;p&gt;I can add hadoop2 to the name of the target artifact but not to the test jar.  When maven-jar-plugin makes the jar, it uses a hard-coded &apos;tests&apos; classifier.  I cannot override it w/o changing plugin code (adding a classifier to maven-jar-plugin is just ignored).&lt;/p&gt;

&lt;p&gt;I tried various other things.  I tried getting build-helper-maven-plugin to attach the test jar at package time but only seemed to end up doubling the test jars installed (a variant of this suggestion &lt;a href=&quot;http://stackoverflow.com/questions/8499266/maven-deploy-source-classifiers&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/8499266/maven-deploy-source-classifiers&lt;/a&gt;).  They still didn&apos;t have the right name on install.  I think the maven-jar-plugin attaches the test jar before I can intercede later w/ the build-helper-maven-plugin.&lt;/p&gt;

&lt;p&gt;I tried setting the finalName to hadoop2 when we are using the hadoop2 profile.  This gets pretty far.  See below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] --- maven-install-plugin:2.3.1:install (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-install) @ hbase ---
[INFO] Installing /Users/stack/checkouts/0.94/target/hbase-0.94.3-SNAPSHOT-hadoop2.jar to /Users/stack/.m2/repository/org/apache/hbase/hbase/0.94.3-SNAPSHOT/hbase-0.94.3-SNAPSHOT.jar
[INFO] Installing /Users/stack/checkouts/0.94/pom.xml to /Users/stack/.m2/repository/org/apache/hbase/hbase/0.94.3-SNAPSHOT/hbase-0.94.3-SNAPSHOT.pom
[INFO] Installing /Users/stack/checkouts/0.94/target/hbase-0.94.3-SNAPSHOT-hadoop2-tests.jar to /Users/stack/.m2/repository/org/apache/hbase/hbase/0.94.3-SNAPSHOT/hbase-0.94.3-SNAPSHOT-tests.jar
[INFO] Installing /Users/stack/checkouts/0.94/target/hbase-0.94.3-SNAPSHOT-hadoop2-sources.jar to /Users/stack/.m2/repository/org/apache/hbase/hbase/0.94.3-SNAPSHOT/hbase-0.94.3-SNAPSHOT-sources.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I cannot get install though to write the local repo w/ the names I told it to use.  Looking at the install plugin, it uses maven itself copying artifacts (The above logging is the output of a repository &apos;event&apos; as artifacts are copied in).  I cannot put config on the install plugin to have it use my final name rather than the one it composes from base pom attributes.&lt;/p&gt;

&lt;p&gt;Anyone else have a suggestion?&lt;/p&gt;

&lt;p&gt;Is the test jar really needed?  The hadoop1 built one doesn&apos;t work w/ hadoop2?&lt;/p&gt;</comment>
                            <comment id="13475979" author="lhofhansl" created="Mon, 15 Oct 2012 05:19:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt; Any ideas, Mr. build expert? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13475986" author="jmhsieh" created="Mon, 15 Oct 2012 05:38:46 +0000"  >&lt;p&gt;Since I believe the minicluster code is in the test package, I&apos;m fairly sure any project that depends on this hbase+hadoop 2.0 (flume, sqoop to name a few) will want them.&lt;/p&gt;

&lt;p&gt;Maybe look at how bigtop deals with the different versions? &lt;/p&gt;</comment>
                            <comment id="13476176" author="jarcec" created="Mon, 15 Oct 2012 14:54:16 +0000"  >&lt;p&gt;I can confirm that Sqoop needs this testing package to test hbase import feature.&lt;/p&gt;

&lt;p&gt;Jarcec&lt;/p&gt;</comment>
                            <comment id="13476510" author="enis" created="Mon, 15 Oct 2012 22:11:57 +0000"  >&lt;p&gt;@Stack I cannot agree more on maven not making any sense &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;It seems from your tests, classifiers just does not work for tests, sources, etc with hadoop2. Then the only remaining option is to change the version string I guess. &lt;/p&gt;

&lt;p&gt;I am attaching a patch which does that. It seems it can work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn install -DskipTests  -Dhadoop.profile=2.0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] --- maven-install-plugin:2.3:install (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-install) @ hbase ---
[INFO] Installing /Users/enis/projects/hbase-0.94/target/hbase-0.94.3-SNAPSHOT-hadoop2.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase/0.94.3-SNAPSHOT-hadoop2/hbase-0.94.3-SNAPSHOT-hadoop2.jar
[INFO] Installing /Users/enis/projects/hbase-0.94/pom.xml to /Users/enis/.m2/repository/org/apache/hbase/hbase/0.94.3-SNAPSHOT-hadoop2/hbase-0.94.3-SNAPSHOT-hadoop2.pom
[INFO] Installing /Users/enis/projects/hbase-0.94/target/hbase-0.94.3-SNAPSHOT-hadoop2-tests.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase/0.94.3-SNAPSHOT-hadoop2/hbase-0.94.3-SNAPSHOT-hadoop2-tests.jar
[INFO] Installing /Users/enis/projects/hbase-0.94/target/hbase-0.94.3-SNAPSHOT-hadoop2-sources.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase/0.94.3-SNAPSHOT-hadoop2/hbase-0.94.3-SNAPSHOT-hadoop2-sources.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The downside is that the version changes, which can bring it&apos;s own set of problems. Wdyt? &lt;/p&gt;</comment>
                            <comment id="13478309" author="rvs" created="Wed, 17 Oct 2012 19:51:46 +0000"  >&lt;p&gt;Aren&apos;t you guys already publishing secure/unsecure bits? Adding a dedicated version would make it 4 then.&lt;/p&gt;</comment>
                            <comment id="13478334" author="enis" created="Wed, 17 Oct 2012 20:25:08 +0000"  >&lt;p&gt;Since classifiers did not work, I could not find another way other than changing the version number for publishing the jars. I think we haven&apos;t published secure jars yet. &lt;/p&gt;</comment>
                            <comment id="13478354" author="rvs" created="Wed, 17 Oct 2012 20:44:33 +0000"  >&lt;p&gt;So, isn&apos;t the lack of secure jars as much a problem as the lack of the ones compiled against different versions of Hadoop? I&apos;m just trying to understand the scope of different &apos;twists&apos; of HBase that one would have to know/care about.&lt;/p&gt;</comment>
                            <comment id="13478370" author="enis" created="Wed, 17 Oct 2012 21:00:48 +0000"  >&lt;p&gt;@Roman yes, linked &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5341&quot; title=&quot;Push the security 0.92 profile to maven repo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5341&quot;&gt;&lt;del&gt;HBASE-5341&lt;/del&gt;&lt;/a&gt; for this. Specific to 0.94, we have incompatible jars for main, security and hadoop-2. Which should give us 4 jars: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;main&lt;/li&gt;
	&lt;li&gt;security&lt;/li&gt;
	&lt;li&gt;hadoop-2&lt;/li&gt;
	&lt;li&gt;hadoop-2 security&lt;br/&gt;
although the last one, I am not sure we care at this point. For trunk, there is no security jar, since we require at least hadoop-1 compatibility.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that apache releases and maven repo are related but slightly different. For the release, we released the tarball and sources for main and security. We do not need to release the binaries compiled with hadoop2, since it can be obtained by just compiling the source with hadoop2. At future, we can decide to release the bits with h2 as well. &lt;/p&gt;</comment>
                            <comment id="13478415" author="jarcec" created="Wed, 17 Oct 2012 21:39:06 +0000"  >&lt;p&gt;Another possible solution would be to provide artifact hbase-test that would have classifier either hadoop1 or hadoop2 based on for which version it was compiled. This solution would be probably step back as for example hadoop was using it in the past and has moved to classifiers, but it should be working without need to have special version for testing artifact compiled against hadoop2.&lt;/p&gt;

&lt;p&gt;Jarcec&lt;/p&gt;</comment>
                            <comment id="13478474" author="rvs" created="Wed, 17 Oct 2012 22:50:07 +0000"  >&lt;p&gt;Long time ago I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4850&quot; title=&quot;hbase tests need to be made Hadoop version agnostic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4850&quot;&gt;HBASE-4850&lt;/a&gt; but haven&apos;t had much time to devote to it since then. Is there any chance that somebody can help me working on it?&lt;/p&gt;</comment>
                            <comment id="13478518" author="enis" created="Thu, 18 Oct 2012 00:15:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;Another possible solution would be to provide artifact hbase-test that would have classifier either hadoop1 or hadoop2 based on for which version it was compiled&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We should not do this for h1, since that would break maven compatibility that our previous artifacts (0.94.0, 0.94.1, etc) was released with artifact name hbase, and classifier tests. However, maybe we can do it for hadoop2, not sure how easy it would be to create hbase-tests artifact with classifier hadoop-2. Since maven-deploy hardcodes &quot;tests&quot; classifier, this might not be possible at all.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Long time ago I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4850&quot; title=&quot;hbase tests need to be made Hadoop version agnostic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4850&quot;&gt;HBASE-4850&lt;/a&gt; but haven&apos;t had much time to devote to it since then.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;What versions of hadoop? If between hadoop1 and hadoop2, then I don&apos;t think we can resolve this easily without creating a shim layer for pretty much everything. &lt;/p&gt;

&lt;p&gt;See:&lt;br/&gt;
&lt;a href=&quot;http://dbeech.github.com/hadoop-api-evolution.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbeech.github.com/hadoop-api-evolution.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13478566" author="rvs" created="Thu, 18 Oct 2012 01:21:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;If between hadoop1 and hadoop2, then I don&apos;t think we can resolve this easily&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It is not super trivial, but it isn&apos;t insurmountable either. Besides, we can borrow generously from some of the projects that did some of it already. In short &amp;#8211; it definitely can be done, but it requires more than just yours truly &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13481752" author="stack" created="Mon, 22 Oct 2012 20:25:17 +0000"  >&lt;p&gt;Yes, we have not published a secure jar to maven.  We should have.  We just shipped two tgz bundles, secure and insecure.&lt;/p&gt;

&lt;p&gt;Yes, this is a problem we need to fix.&lt;/p&gt;

&lt;p&gt;On changing the version being the only way around this issue, I agree.  Jon Hsieh and I talked w/ a Maven&apos;y fellow who suggested similar &amp;#8211; Andrew Bayer.  Even if we could make it work w/ classifiers, it would probably be a deceit; I would not trust that downloaded, maven would pull in the proper dependencies.&lt;/p&gt;

&lt;p&gt;The hadoop-api-evolution table made me violently sick.&lt;/p&gt;

&lt;p&gt;Roman, on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4850&quot; title=&quot;hbase tests need to be made Hadoop version agnostic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4850&quot;&gt;HBASE-4850&lt;/a&gt;, I don&apos;t think we can do what is suggested there (Commented to that effect).&lt;/p&gt;

&lt;p&gt;I like the patch you suggest Enis.&lt;/p&gt;

&lt;p&gt;What do we do in hbase 1.0, say, where minimum required is indeed h2.  Don&apos;t we want our version to be hbase in that case and not hbase-&lt;b&gt;&lt;del&gt;hadoop2?  You think w/ your patch, maven repo will have hbase&lt;/del&gt;&lt;/b&gt;-hadoop2 and it will be just fine when hbase itself moves to hadoop2?  (We&apos;ll have a hadoop3 version around this time too?)&lt;/p&gt;

&lt;p&gt;Oh, we don&apos;t need to do a security artifact in  maven for 0.96.  We should have published one for 0.94 and before.&lt;/p&gt;
</comment>
                            <comment id="13481755" author="jarcec" created="Mon, 22 Oct 2012 20:30:43 +0000"  >&lt;p&gt;Another idea - version number can contain string. So instead of creating special dot release, what about creating release &quot;$&lt;/p&gt;
{normalversion}
&lt;p&gt;-hadoop2&quot;?&lt;/p&gt;</comment>
                            <comment id="13481791" author="enis" created="Mon, 22 Oct 2012 21:01:15 +0000"  >&lt;p&gt;@Stack&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;What do we do in hbase 1.0, say, where minimum required is indeed h2. Don&apos;t we want our version to be hbase in that case and not hbase-hadoop2? You think w/ your patch, maven repo will have hbase-hadoop2 and it will be just fine when hbase itself moves to hadoop2? (We&apos;ll have a hadoop3 version around this time too?)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If Hbase moves to hadoop2, and drops support for h1, then we can just call the main version hbase without the hadoop2 suffix. As long as which version of HBase requires which version of hadoop, it should not be too confusing, wdyt? &lt;br/&gt;
@Jarek &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Another idea - version number can contain string. So instead of creating special dot release, what about creating release &quot;${normalversion}-hadoop2&quot;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is what I did in the patch. We will release for example hbase-0.94.3-hadoop2. &lt;/p&gt;</comment>
                            <comment id="13481845" author="jarcec" created="Mon, 22 Oct 2012 21:56:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; I see, I originally thought that you want to increase the version number. Adding &quot;-hadoop2&quot; suffix seems as a reasonable workaround to me, but it&apos;s up to you HBase guys to agree on the final solution &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13481850" author="rvs" created="Mon, 22 Oct 2012 22:03:26 +0000"  >&lt;p&gt;@stack&lt;/p&gt;

&lt;p&gt;if &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4850&quot; title=&quot;hbase tests need to be made Hadoop version agnostic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4850&quot;&gt;HBASE-4850&lt;/a&gt; is not an option I believe you guys are on the right track. You definitely don&apos;t want to use classifier for this so that leaves mucking with the version string. As long as you come up with a reasonable encoding strategy for pointing at various artifacts (e.g. hadoop2-secure, etc.) you can append that to the version string. Watch out for things in the pom.xml that need to be tweaked for each of these combinations &amp;#8211; I got bitten by default settings in specially versioned pom files a couple of times. &lt;/p&gt;</comment>
                            <comment id="13485557" author="stack" created="Sun, 28 Oct 2012 03:20:16 +0000"  >&lt;p&gt;I don&apos;t think hbase-4850 possible as of this writing.  It may become so by the time we release (you might just have to shuffle the CLASSPATH if we move all h1 and h2 mannerisms successfully back into their respective compatibility modules).  Meantime, messing w/ version string seems the way to go.&lt;/p&gt;

&lt;p&gt;Is there a hurry on solving this one?  I&apos;d like to do a bit of testing and leave the decision on what we&apos;ll publish till close to release if that is ok w/ bigtop and other downstreamers.&lt;/p&gt;</comment>
                            <comment id="13485558" author="stack" created="Sun, 28 Oct 2012 03:23:15 +0000"  >&lt;p&gt;Hmm... then again this issue wants 0.94 artifacts.  Should we go ahead and commit the Enis patch and publish 0.94 snapshots w/ the hadoop2 versions published with a version that has a hadoop2 suffix?  Patch looks good.  Should we publish even though all tests do not yet pass against 0.94?&lt;/p&gt;</comment>
                            <comment id="13485635" author="jarcec" created="Sun, 28 Oct 2012 14:41:51 +0000"  >&lt;p&gt;As of now, Sqoop is simply skipping HBase tests on Hadoop 2, so we do have working workaround and we could potentially wait. But I would personally prefer to solve it as soon as possible as I do not like current situation :-/&lt;/p&gt;

&lt;p&gt;Having also HBase 0.92 test jars compiled against Hadoop 2 would be nice, so that we could test against them as well and make sure that everything is working as expected.&lt;/p&gt;

&lt;p&gt;Jarcec&lt;/p&gt;</comment>
                            <comment id="13496598" author="hshreedharan" created="Tue, 13 Nov 2012 22:08:43 +0000"  >&lt;p&gt;What is the status of this issue? Right now, even Flume requires that the user builds hbase locally before building Flume. We&apos;d like to avoid this, so it&apos;d be great if this is committed soon. Thanks!&lt;/p&gt;</comment>
                            <comment id="13497400" author="stack" created="Wed, 14 Nov 2012 20:12:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jarcec&quot; class=&quot;user-hover&quot; rel=&quot;jarcec&quot;&gt;Jarek Jarcec Cecho&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hshreedharan&quot; class=&quot;user-hover&quot; rel=&quot;hshreedharan&quot;&gt;Hari Shreedharan&lt;/a&gt; I thought Roman said this is not necessary? That it not necessary we publish an hbase 0.94 artifact built against hadoop2?  You fellas still need it?  If so, we&apos;ll publish one but it&apos;ll be a version of 0.94.2-hadoop2.  Would that work for you?&lt;/p&gt;</comment>
                            <comment id="13497416" author="hshreedharan" created="Wed, 14 Nov 2012 20:28:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; If there are no maven artifacts available, then it would require a user building flume/sqoop against hadoop2 to build hbase against hadoop2 first - which is not something we really desire. If it is possible to push the artifacts it would be great. I can update the Flume pom to point to the hadoop2 version of hbase in the hadoop2 profile - so 0.94.2-hadoop2 would work fine. Also, could you give an ETA, since Flume-1.3.0 is currently being voted on, I&apos;d like this to go into the release - so if this does not take too long, it&apos;d be great, I will ask for another RC.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13497421" author="stack" created="Wed, 14 Nov 2012 20:41:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hshreedharan&quot; class=&quot;user-hover&quot; rel=&quot;hshreedharan&quot;&gt;Hari Shreedharan&lt;/a&gt; What if I did it as hbase-0.94.2-hadoop2-SNAPSHOT?  Would that work? i.e. SNAPSHOT?  I&apos;m wary making a hbase-0.94.2-hadoop2 release since no testing of 0.94 against hadoop2 done really.&lt;/p&gt;</comment>
                            <comment id="13497422" author="jarcec" created="Wed, 14 Nov 2012 20:48:45 +0000"  >&lt;p&gt;I definitely agree with Hari - forcing users to build their own HBase in order to test Sqoop do not seems as a good way to go, so I would prefer available upstream jar if possible. I don&apos;t mind having version hbase-0.94.2-hadoop2-SNAPSHOT with the &quot;SNAPSHOT&quot; part. I&apos;ll properly document why we&apos;re depending on SNAPSHOT and link this issue for better understanding...&lt;/p&gt;

&lt;p&gt;Jarcec&lt;/p&gt;</comment>
                            <comment id="13497428" author="hshreedharan" created="Wed, 14 Nov 2012 20:53:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; I agree with Jarcec. A snapshot is fine - we shall document it.&lt;/p&gt;</comment>
                            <comment id="13497468" author="rvs" created="Wed, 14 Nov 2012 21:25:17 +0000"  >&lt;p&gt;A couple of points&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;I was saying that if HBase project would not want to get into the business of certifying that HBase is known to work against Hadoop 2 it can safely NOT publish the artifacts and expect downstream projects to build local copies of HBase&lt;/li&gt;
	&lt;li&gt;Bigtop 0.4.0 and 0.5.0 do fair amount of testing of the HBase 0.94.X and Hadoop 2.0.X combination&lt;/li&gt;
	&lt;li&gt;If you keep #1 and #2 in mind &amp;#8211; you might be interested in outsourcing the management of the hadoop2 HBase artifact to the Bigtop project. If that is an attractive option &amp;#8211; lets talk.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13497483" author="stack" created="Wed, 14 Nov 2012 21:36:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rvs&quot; class=&quot;user-hover&quot; rel=&quot;rvs&quot;&gt;Roman Shaposhnik&lt;/a&gt; I just tried deploying an hbase artifact built against hadoop2 and its a PITA; the pom needs a bunch of work it seems to get it to work (mvn trying to pull in hadoop-core-2.0.2-alpha and ditto w/ hadoop-test).&lt;/p&gt;

&lt;p&gt;We want to certify 0.96 against hadoop2, not 0.94.&lt;/p&gt;

&lt;p&gt;So, I&apos;m up for talking Mr. Roman.&lt;/p&gt;</comment>
                            <comment id="13654744" author="roshan_naik" created="Fri, 10 May 2013 19:05:52 +0000"  >&lt;p&gt;checking to see if hbase is still planning to have hadoop2 binaries published for 0.96 ?&lt;/p&gt;</comment>
                            <comment id="13654870" author="stack" created="Fri, 10 May 2013 21:34:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roshan_naik&quot; class=&quot;user-hover&quot; rel=&quot;roshan_naik&quot;&gt;Roshan Naik&lt;/a&gt; Here is our attempt: &lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/hbase/hbase-client/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/hbase/hbase-client/&lt;/a&gt;  What do you think?  Will it work for you?  We publish two artifacts, one named w/ a hadoop1 suffix and the other with a hadoop2.   Would be interested in feedback.  What I have so far is that this scheme will not work (our Elliott has it our hadoop dependency is resolved before we have a chance to influence it &amp;#8211; profiles).&lt;/p&gt;</comment>
                            <comment id="13654934" author="hshreedharan" created="Fri, 10 May 2013 22:21:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;, This should work for Flume. We have different mvn profiles for hadoop-1 and hadoop-2. So we can just change the hadoop-2 profile to pull in the correct artifact (we already do this for hadoop-common/hadoop-core).&lt;/p&gt;</comment>
                            <comment id="13654998" author="roshan_naik" created="Fri, 10 May 2013 23:04:26 +0000"  >&lt;p&gt;there will be a little complexity ..  &lt;/p&gt;

&lt;p&gt;Hbase jar has been split up in 0.95.. so in addition to the hadoop2 profile    flume (and others such prjs) will now additionally need a profile for hbase0.95.&lt;/p&gt;

&lt;p&gt;the complexity is that neither the hadoop2 profile nor the hbase0.95+ profile can independently conjure up the full name and dependencies list for hbase.  &lt;/p&gt;

&lt;p&gt;let me give it a try.. will get back.&lt;/p&gt;</comment>
                            <comment id="13655007" author="hshreedharan" created="Fri, 10 May 2013 23:17:18 +0000"  >&lt;p&gt;Roshan: we should not need anything more than the HBase client jars (I believe - not sure where the minicluster classes for tests are and what we&apos;d need to handle that though). So we should have to do only what we do hadoop-common v/s hadoop-core.&lt;/p&gt;</comment>
                            <comment id="13655026" author="enis" created="Fri, 10 May 2013 23:34:27 +0000"  >&lt;p&gt;I think Flume needs at least the hbase-server tests jar to use the minicluster. We currently do not have hbase-minicluster kind of module. &lt;/p&gt;</comment>
                            <comment id="13655066" author="roshan_naik" created="Sat, 11 May 2013 00:21:29 +0000"  >&lt;p&gt;Hari:   it looks like flume needs these .. hbase-client, hbase-common (HBaseCommonTestingUtility.. at compile time),  hbase-server (HMaster,MiniZooKeeperCluster.. at compile time)  and hbase-server-test (HBaseTestingUtility..when running tests)&lt;/p&gt;</comment>
                            <comment id="13655079" author="hshreedharan" created="Sat, 11 May 2013 00:46:22 +0000"  >&lt;p&gt;Yep, we could define those in the hadoop-2 profile as dependencies.&lt;/p&gt;</comment>
                            <comment id="13655083" author="roshan_naik" created="Sat, 11 May 2013 00:54:38 +0000"  >&lt;p&gt;these are not hadoop2 specific.... these are hbase0.95+ specific which comes in both hadoop1&amp;amp;2 flovaours. So it seems we will need to support the following combos...&lt;/p&gt;


&lt;p&gt;1) building against hbase 0.94x  .. in this case there will be no -hadoop1 suffix on hbase deps&lt;/p&gt;


&lt;p&gt;2) building against hbase 0.95+  with hadoop 1 .. in this case the -hadoop1 suffix will be used with the newer dependencies list&lt;/p&gt;


&lt;p&gt;3) building against hbase 0.95+ with hadoop 2 .. in this case the -hadoop2 suffix will be used with the newer dependency list&lt;/p&gt;
</comment>
                            <comment id="13692566" author="apurtell" created="Mon, 24 Jun 2013 23:48:27 +0000"  >&lt;p&gt;This came up again today over on phoenix#286: &lt;a href=&quot;https://github.com/forcedotcom/phoenix/issues/286&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/forcedotcom/phoenix/issues/286&lt;/a&gt; . Looking for HBase 0.94 artifacts built against Hadoop 2.&lt;/p&gt;</comment>
                            <comment id="13727966" author="stack" created="Fri, 2 Aug 2013 19:06:17 +0000"  >&lt;p&gt;We could do something like &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt;, a script that creates a pom.xml.hadoop2 from the original pom.xml w/ interpolated version &amp;#8211; e.g. 0.94.12-hadoop2 &amp;#8211; and that does other search and replace.  We&apos;d then use this new pom to publish SNAPSHOTs and for wrestling with mvn release plugin.  Should be easier in 0.94 than in 0.96 since we are not modularized in 0.94.  I could help out w/ this after 0.95.2 goes up if folks interested still.&lt;/p&gt;</comment>
                            <comment id="13727975" author="roshan_naik" created="Fri, 2 Aug 2013 19:17:03 +0000"  >&lt;p&gt;Would it help to give the hadoop2 based hbase project a different name instead of sufix ?  something like  hbase-hadoop2-XX.YY.ZZ&lt;/p&gt;


&lt;p&gt;sort of like win32 v/s win64&lt;/p&gt;</comment>
                            <comment id="13728090" author="stack" created="Fri, 2 Aug 2013 20:51:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roshan_naik&quot; class=&quot;user-hover&quot; rel=&quot;roshan_naik&quot;&gt;Roshan Naik&lt;/a&gt; A different version &amp;#8211; a version with -hadoop2 in it &amp;#8211; worked over in hbase-8224.&lt;/p&gt;</comment>
                            <comment id="15671876" author="stack" created="Wed, 16 Nov 2016 22:30:01 +0000"  >&lt;p&gt;Resolving as not a problem any more.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12600576">FLUME-1404</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12610182">FLUME-1618</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12541521">HBASE-5341</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12645915">HBASE-8488</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12639872">HBASE-8224</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12549058" name="6929.txt" size="917" author="stack" created="Sun, 14 Oct 2012 04:06:13 +0000"/>
                            <attachment id="12549224" name="hbase-6929_v2.patch" size="975" author="enis" created="Mon, 15 Oct 2012 22:11:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Oct 2012 01:10:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i028lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>