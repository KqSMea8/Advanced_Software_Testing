<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:20:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-17022/HBASE-17022.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-17022] TestMasterFailoverWithProcedures#testTruncateWithFailover fails constantly in branch-1.1</title>
                <link>https://issues.apache.org/jira/browse/HBASE-17022</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;As titled, checking recent pre-commit UT of branch-1.1 we could find &lt;tt&gt;TestMasterFailoverWithProcedures#testTruncateWithFailover&lt;/tt&gt; keeps failing&lt;/p&gt;</description>
                <environment></environment>
        <key id="13018134">HBASE-17022</key>
            <summary>TestMasterFailoverWithProcedures#testTruncateWithFailover fails constantly in branch-1.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="carp84">Yu Li</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Nov 2016 15:05:06 +0000</created>
                <updated>Sat, 5 Nov 2016 08:44:59 +0000</updated>
                            <resolved>Sat, 5 Nov 2016 00:15:59 +0000</resolved>
                                    <version>1.1.7</version>
                                    <fixVersion>1.1.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15636605" author="carp84" created="Fri, 4 Nov 2016 15:06:41 +0000"  >&lt;p&gt;Located the problematic commit through git bisect and manually confirmed afterwards:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;88512be52b8707fb87ab2c5979fd71664a417a90 is the first bad commit
commit 88512be52b8707fb87ab2c5979fd71664a417a90
Author: Matteo Bertozzi &amp;lt;matteo.bertozzi@cloudera.com&amp;gt;
Date:   Mon Sep 26 12:58:04 2016 -0700

    HBASE-16649 Truncate table with splits preserved can cause both data loss and truncated data appeared again
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; could you take a look here? Thanks.&lt;/p&gt;</comment>
                            <comment id="15636635" author="mbertozzi" created="Fri, 4 Nov 2016 15:16:35 +0000"  >&lt;p&gt;yeah forgot to update the test in that branch, to reload the set of regions. that after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-16649&quot; title=&quot;Truncate table with splits preserved can cause both data loss and truncated data appeared again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-16649&quot;&gt;&lt;del&gt;HBASE-16649&lt;/del&gt;&lt;/a&gt; will get a different name after truncate&lt;/p&gt;</comment>
                            <comment id="15636691" author="hadoopqa" created="Fri, 4 Nov 2016 15:28:55 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; reexec &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; 0m 0s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; Docker mode activated. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 0m 8s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-17022&quot; title=&quot;TestMasterFailoverWithProcedures#testTruncateWithFailover fails constantly in branch-1.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-17022&quot;&gt;&lt;del&gt;HBASE-17022&lt;/del&gt;&lt;/a&gt; does not apply to master. Rebase required? Wrong Branch? See &lt;a href=&quot;https://yetus.apache.org/documentation/0.3.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.3.0/precommit-patchnames&lt;/a&gt; for help. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12837157/HBASE-17022-v0_branch-1.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12837157/HBASE-17022-v0_branch-1.1.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-17022&quot; title=&quot;TestMasterFailoverWithProcedures#testTruncateWithFailover fails constantly in branch-1.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-17022&quot;&gt;&lt;del&gt;HBASE-17022&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4331/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4331/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.3.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="15636696" author="carp84" created="Fri, 4 Nov 2016 15:30:29 +0000"  >&lt;p&gt;Thanks for the quick response &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Checked patch and tried it locally, works perfect. +1.&lt;/p&gt;</comment>
                            <comment id="15636701" author="carp84" created="Fri, 4 Nov 2016 15:32:19 +0000"  >&lt;p&gt;Rename patch to retry HadoopQA&lt;/p&gt;</comment>
                            <comment id="15638871" author="hudson" created="Sat, 5 Nov 2016 07:28:38 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build HBase-1.1-JDK8 #1896 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1896/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1896/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-17022&quot; title=&quot;TestMasterFailoverWithProcedures#testTruncateWithFailover fails constantly in branch-1.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-17022&quot;&gt;&lt;del&gt;HBASE-17022&lt;/del&gt;&lt;/a&gt; TestMasterFailoverWithProcedures#testTruncateWithFailover (matteo.bertozzi: rev d9185de463358c4d5e053a2a02ee09d69c5f54e7)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/procedure/TestMasterFailoverWithProcedures.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15639006" author="hudson" created="Sat, 5 Nov 2016 08:44:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build HBase-1.1-JDK7 #1812 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK7/1812/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK7/1812/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-17022&quot; title=&quot;TestMasterFailoverWithProcedures#testTruncateWithFailover fails constantly in branch-1.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-17022&quot;&gt;&lt;del&gt;HBASE-17022&lt;/del&gt;&lt;/a&gt; TestMasterFailoverWithProcedures#testTruncateWithFailover (matteo.bertozzi: rev d9185de463358c4d5e053a2a02ee09d69c5f54e7)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) hbase-server/src/test/java/org/apache/hadoop/hbase/master/procedure/TestMasterFailoverWithProcedures.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12837159" name="HBASE-17022-v0.branch-1.1.patch" size="1139" author="carp84" created="Fri, 4 Nov 2016 15:32:19 +0000"/>
                            <attachment id="12837157" name="HBASE-17022-v0_branch-1.1.patch" size="1139" author="mbertozzi" created="Fri, 4 Nov 2016 15:22:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Nov 2016 15:16:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35vuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>