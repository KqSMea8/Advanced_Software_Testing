<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:43:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7236/HBASE-7236.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7236] add per-table/per-cf configuration via metadata</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7236</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Regardless of the compaction policy, it makes sense to have separate configuration for compactions for different tables and column families, as their access patterns and workloads can be different. In particular, for tiered compactions that are being ported from 0.89-fb branch it is necessary to have, to use it properly.&lt;br/&gt;
We might want to add support for compaction configuration via metadata on table/cf.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12618088">HBASE-7236</key>
            <summary>add per-table/per-cf configuration via metadata</summary>
                <type id="14" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png">Umbrella</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                            <label>online_schema_change</label>
                    </labels>
                <created>Wed, 28 Nov 2012 23:51:06 +0000</created>
                <updated>Fri, 8 Nov 2013 21:00:14 +0000</updated>
                            <resolved>Tue, 9 Apr 2013 00:52:54 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                                                            <comments>
                            <comment id="13506060" author="sershe" created="Wed, 28 Nov 2012 23:55:15 +0000"  >&lt;p&gt;Details: &lt;br/&gt;
We want to do it in metadata as it makes logical sense; xml config usage would split table/CF configuration into two places. &lt;br/&gt;
Given that the config for both current and tiered policy can be quite long, it probably makes sense to make it nested, as opposed to a set of flat values inside metadata. &lt;br/&gt;
I immediately start thinking of generic xml config override mechanism for tables/cfs, but I am not sure this is necessary.&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="13506220" author="apurtell" created="Thu, 29 Nov 2012 04:53:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; We moved per-table/per-cf blockcache configuration into the descriptors in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6114&quot; title=&quot;CacheControl flags should be tunable per table schema per CF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6114&quot;&gt;&lt;del&gt;HBASE-6114&lt;/del&gt;&lt;/a&gt;. This is a quite similar case, right?&lt;/p&gt;</comment>
                            <comment id="13506644" author="sershe" created="Thu, 29 Nov 2012 18:22:22 +0000"  >&lt;p&gt;Yes; the main difference is that default compaction config can have several parameters, and tiered compaction selection can have up to 20 (several parameters x few tier); this will make metadata hard to manage. So it might make sense to make it nested in some form.&lt;/p&gt;</comment>
                            <comment id="13506761" author="apurtell" created="Thu, 29 Nov 2012 20:33:13 +0000"  >&lt;p&gt;Encode compaction selection as JSON in the attribute I&apos;d say.&lt;/p&gt;</comment>
                            <comment id="13506975" author="sershe" created="Fri, 30 Nov 2012 00:22:44 +0000"  >&lt;p&gt;After poking around a bit, I think it&apos;s a good idea to have direct config key override.&lt;br/&gt;
Justification is that having separately names metadata fields will be hard to manage given the potential number of fields.&lt;br/&gt;
Ditto for JSON serialization - it would require special logic to validate/use overrides, and shell support would be painful.&lt;br/&gt;
Perhaps we can white-list configs that can be overridden this way, too, inside HTableDescriptor.&lt;/p&gt;

&lt;p&gt;Here&apos;s the prototype for table level only, and with no shell support and tests for now.&lt;br/&gt;
Technically, this approach already works in Store for column family (CompoundConfiguration is created with family metadata overriding Configuration, so if someone adds a key with correct name to family metadata it will override xml config within Store); however, making it explicit and separate from miscellaneous metadata would be cleaner imho.&lt;br/&gt;
Please comment... Thanks!&lt;/p&gt;</comment>
                            <comment id="13507019" author="yuzhihong@gmail.com" created="Fri, 30 Nov 2012 01:26:14 +0000"  >&lt;p&gt;I saw quite some changes which only affect white space.&lt;br/&gt;
Can you simplify your patch so that it is easier to review ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13507050" author="sershe" created="Fri, 30 Nov 2012 02:51:02 +0000"  >&lt;p&gt;Hmm... most good diff tools have an option to ignore whitespace changes. Attaching the patch w/o whitespace cleanup.&lt;/p&gt;</comment>
                            <comment id="13507160" author="stack" created="Fri, 30 Nov 2012 07:22:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; IIUC, you are expanding CompoundConfiguration to do table and &apos;overrides&apos;?&lt;/p&gt;

&lt;p&gt;pros:&lt;br/&gt;
1. You go one place to get your config., the &apos;Configuration&apos; (which could be a CompoundConfiguration w/ family or table specifics and overrides)?&lt;br/&gt;
2. Generalizes what Andrew did doing cache configuration over in hbase-6114?&lt;/p&gt;

&lt;p&gt;How would this help us get to changing configuration on the fly?  Looks like it doesn&apos;t change our current story.  CompoundConfiguration is setup in HRegion or ColumnFamily setup still..&lt;/p&gt;

&lt;p&gt;If we start to record metadata on a table, say column types, would we use this mechanism?&lt;/p&gt;

&lt;p&gt;How would &apos;overrides&apos; be specified in the shell say?  (Patch doesn&apos;t seem to say)  We have means of altering table and column descriptors.  Where would &apos;overrides&apos; go?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;however, making it explicit and separate from miscellaneous metadata would be cleaner imho.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can you say more on above?&lt;/p&gt;

&lt;p&gt;HTableDescriptor and HColumnDescriptor dictionaries are key/value maps that get persisted into the filesystem when changed.   We read them them throughout the codebase and we list them in master UIs, etc.  Will they blow up under this new use case?  HTD and HCD are mostly schema with a little config.  This direction would seem to be using these descriptors to add table or column scoped configs.  Should we be working to undo schema and config conflation rather than compound it?&lt;/p&gt;</comment>
                            <comment id="13507594" author="sershe" created="Fri, 30 Nov 2012 19:40:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;IIUC, you are expanding CompoundConfiguration to do table and &apos;overrides&apos;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Currently it already has metadata, I am adding overrides. The method name is special only because Java won&apos;t allow two method differing only by typename part of the parameter. It&apos;s no different than other &quot;add&quot;-s &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How would this help us get to changing configuration on the fly? Looks like it doesn&apos;t change our current story. CompoundConfiguration is setup in HRegion or ColumnFamily setup still..&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It doesn&apos;t (well, other than setting overrides after disabling the table, which is more dynamic than XML config replacement).&lt;br/&gt;
For XML config, there&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3909&quot; title=&quot;Add dynamic config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3909&quot;&gt;HBASE-3909&lt;/a&gt; to solve that problem; for column updates, I&apos;d prefer to make online-alter &quot;bulletproof&quot; - that way we&apos;d get this config to be fully dynamic as a side benefit.&lt;br/&gt;
Two ideas we had was tracking schema version on master and server, and validating on master what server has, but that&apos;s inconvenient right now given how it&apos;s stored, and may lead to other race conditions; or using new 2pc-ish barrier mechanism that is being introduced for snapshots, somehow.&lt;br/&gt;
Regardless, in this JIRA I do not aim to solve this problem...&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;If we start to record metadata on a table, say column types, would we use this mechanism?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;You mean CompoundConfiguration mechanism, or overrides mechanism?&lt;br/&gt;
Not overrides (they are intended for config), but as CompoundConfiguration is already used for cf metadata, I don&apos;t see why not use it also for table metadata if appropriate.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How would &apos;overrides&apos; be specified in the shell say? (Patch doesn&apos;t seem to say) We have means of altering table and column descriptors. Where would &apos;overrides&apos; go?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Similarly to metadata. I am going to rename &quot;CONFIG&quot; to something indicating it&apos;s actually user metadata, and use name like CONFIGURATION_OVERRIDES - a separate Ruby hash with values.&lt;br/&gt;
Didn&apos;t want to go thru it before confirmation on the viability of this approach &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;bq. however, making it explicit and separate from miscellaneous metadata would be cleaner imho.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Can you say more on above?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;See below.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;HTableDescriptor and HColumnDescriptor dictionaries are key/value maps that get persisted into the filesystem when changed. We read them them throughout the codebase and we list them in master UIs, etc. Will they blow up under this new use case? HTD and HCD are mostly schema with a little config. This direction would seem to be using these descriptors to add table or column scoped configs. Should we be working to undo schema and config conflation rather than compound it?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;They may blow up (depending on how much config one wants to override), this is one of the reasons I want to keep it separate, to have finer grained control for things like UI or shell.&lt;br/&gt;
Do you suggest we keep them even more separate, e.g. separate class/serialization mechanism? It seems it would add complexity, esp. given that some of the existing METADATA is config additions/overrides with custom names, essentially.&lt;br/&gt;
Can you elaborate on example mechanism (e.g. meta-like table for tables/cfs, different file from tableinfo, ...)?&lt;/p&gt;

&lt;p&gt;The other thing about the current map is that it&apos;s already multi-purpose (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7237&quot; title=&quot;system metadata for tables/cfs needs to be validated on the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7237&quot;&gt;HBASE-7237&lt;/a&gt;; in the discussion in the shell issue when I wanted to keep CONFIG separate from system stuff I didn&apos;t realize they were still stored in the same map in HTD).&lt;br/&gt;
Dumping config overrides there in addition to system metadata and user metadata is inelegant imho.&lt;/p&gt;

&lt;p&gt;Finally, the third thing is that if it&apos;s separate we can have stricter validation - e.g. whitelist what can and cannot be overridden, or even validate values.&lt;/p&gt;</comment>
                            <comment id="13507920" author="apurtell" created="Sat, 1 Dec 2012 10:24:51 +0000"  >&lt;p&gt;The per-CF settings/overrides are kept in the descriptor, which is the right place for that IMO. The below are points I don&apos;t feel particularly strongly about but think should be raised.&lt;/p&gt;

&lt;p&gt;Rightly descriptor attribute convention is called out as sloppy. That should be cleaned up. However I&apos;m not sure adding the concept of &quot;configuration override&quot; to either CompoundConfiguration or descriptor attributes is better.&lt;/p&gt;

&lt;p&gt;Regards descriptor attributes, a &quot;configuration override&quot; is just another attribute. Does it make sense to go in the other direction and fix where descriptors have metadata which are configuration overrides with custom names, meaning: rename them to the convention for Configuration? Otherwise now we have not only attributes, some of which override settings in the XML configuration, but now also &quot;configuration overrides&quot; that also do so?&lt;/p&gt;

&lt;p&gt;Regards CompoundConfiguration, as an API user why should I care about tagging if something I add to CompoundConfiguration is an &apos;override&apos; or not. Seems any .add() should simply override values added to the configuration by a previous .add() ? Or are some overrides special that will continue to override values even if they are provided in a subsequent .add(), so some of those values in the .add() will override previous values from an earlier .add() as I would expect but there are these other values changed with an .addOverride() that I don&apos;t know about? Will an second addOverride override the previous addOverride overrides? Confusing &amp;#8211; See? &lt;/p&gt;</comment>
                            <comment id="13508937" author="sershe" created="Mon, 3 Dec 2012 18:50:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;Regards descriptor attributes, a &quot;configuration override&quot; is just another attribute. Does it make sense to go in the other direction and fix where descriptors have metadata which are configuration overrides with custom names, meaning: rename them to the convention for Configuration? Otherwise now we have not only attributes, some of which override settings in the XML configuration, but now also &quot;configuration overrides&quot; that also do so?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Do you want to store them in the attributes dictionary though? Some attributes are not config overrides (e.g. IS_ROOT/IS_META, in-memory, etc.), there are also user attributes; above problems with having the same dictionary will remain.&lt;br/&gt;
I can move the existing attributes into config overrides instead; some backward compat might be necessary.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Regards CompoundConfiguration, as an API user why should I care about tagging if something I add to CompoundConfiguration is an &apos;override&apos; or not. Seems any .add() should simply override values added to the configuration by a previous .add() ? Or are some overrides special that will continue to override values even if they are provided in a subsequent .add(), so some of those values in the .add() will override previous values from an earlier .add() as I would expect but there are these other values changed with an .addOverride() that I don&apos;t know about? Will an second addOverride override the previous addOverride overrides? Confusing &#8211; See? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The problem here is that you cannot have .add(List&amp;lt;A&amp;gt;) and .add(List&amp;lt;B&amp;gt;) due to type erasure on generics. I will rename both methods to more elaborate, semantically similar names.&lt;/p&gt;</comment>
                            <comment id="13509298" author="hadoopqa" created="Mon, 3 Dec 2012 23:02:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12555806/HBASE-7236-PROTOTYPE-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12555806/HBASE-7236-PROTOTYPE-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 101 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 26 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestSplitTransaction&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3440//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13510973" author="sershe" created="Thu, 6 Dec 2012 00:34:11 +0000"  >&lt;p&gt;Hi; are there any responses/objections? I&apos;d like to go ahead with making commit-ready patch asap &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13528648" author="sershe" created="Tue, 11 Dec 2012 04:02:58 +0000"  >&lt;p&gt;I will likely attach the &quot;v0&quot; patch tomorrow...&lt;/p&gt;</comment>
                            <comment id="13529506" author="sershe" created="Wed, 12 Dec 2012 00:23:35 +0000"  >&lt;p&gt;Here&apos;s the &quot;ready&quot; patch minus the shell documentation (if something changes I&apos;d prefer to write that once).&lt;br/&gt;
Review is &lt;a href=&quot;https://reviews.apache.org/r/8536/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/8536/&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;1) Created the mechanism in HTD and HCD.&lt;br/&gt;
2) Shell support (+renamed old &quot;CONFIG&quot; to USER_METADATA, as discussed for example in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6894&quot; title=&quot;Adding metadata to a table in the shell is both arcane and painful&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6894&quot;&gt;&lt;del&gt;HBASE-6894&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
3) Tests.&lt;br/&gt;
4) Cleaned up metadata values duplicating config parameters, with some backward compat.&lt;br/&gt;
It makes code simpler in places (no extra checks with different keys, just go to config), e.g. for example we had the following inconsistency; HRegion code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; flushSize = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.htableDescriptor.getMemStoreFlushSize();
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (flushSize == HTableDescriptor.DEFAULT_MEMSTORE_FLUSH_SIZE) {
      flushSize = conf.getLong(HConstants.HREGION_MEMSTORE_FLUSH_SIZE,
         HTableDescriptor.DEFAULT_MEMSTORE_FLUSH_SIZE);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;RegionSplitPolicy code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.flushSize = region.getTableDesc() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ?
      region.getTableDesc().getMemStoreFlushSize():
      getConf().getLong(HConstants.HREGION_MEMSTORE_FLUSH_SIZE,
        HTableDescriptor.DEFAULT_MEMSTORE_FLUSH_SIZE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now both just go to config.&lt;/p&gt;

&lt;p&gt;The cleanup preserves the old behavior, with one exception - the checks like the one above (&quot;if default in htd, go to config&quot;), that were there because htd returns the default when value is not set, will no longer apply when the default is explictly set in the htd. Unlike in the past, where the behavior is the same as if it&apos;s not specified at all, it will now actually use the value.&lt;/p&gt;</comment>
                            <comment id="13529594" author="sershe" created="Wed, 12 Dec 2012 03:14:54 +0000"  >&lt;p&gt;In fact due to above inconsistency some tests that shouldn&apos;t pass, pass... TestHFileArchiving has very low flushing which, if it were to be read correclty by split policy, would cause the region in the test to split, causing failure. &lt;br/&gt;
But now the config is just ignored by policy so all is good because it uses the default. In fact it probably always uses the default unless set on HTD.&lt;/p&gt;</comment>
                            <comment id="13529600" author="sershe" created="Wed, 12 Dec 2012 03:31:54 +0000"  >&lt;p&gt;Updating the patch to fix the test by substituting a different policy.&lt;/p&gt;</comment>
                            <comment id="13530315" author="hadoopqa" created="Wed, 12 Dec 2012 20:50:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12560500/HBASE-7236-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12560500/HBASE-7236-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 25 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 105 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 23 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestShell&lt;br/&gt;
                  org.apache.hadoop.hbase.TestDrainingServer&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestMultiParallel&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3496//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13530441" author="sershe" created="Wed, 12 Dec 2012 22:33:49 +0000"  >&lt;p&gt;Fix TestShell. TestMultiParallel and TestDrainingServer are flaky and pass on local.&lt;/p&gt;</comment>
                            <comment id="13530579" author="hadoopqa" created="Thu, 13 Dec 2012 01:27:48 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12560661/HBASE-7236-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12560661/HBASE-7236-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 25 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 105 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 23 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestMultiParallel&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3499//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13530587" author="sershe" created="Thu, 13 Dec 2012 01:31:48 +0000"  >&lt;p&gt;Patch - Ted&apos;s review comments&lt;/p&gt;</comment>
                            <comment id="13530706" author="hadoopqa" created="Thu, 13 Dec 2012 05:48:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12560698/HBASE-7236-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12560698/HBASE-7236-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 25 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 107 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 23 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplication&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3509//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13530723" author="enis" created="Thu, 13 Dec 2012 06:23:26 +0000"  >&lt;p&gt;I think some of the confusion comes from differentiating between schema / attributes / config. &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Schema as in what is the name of column&lt;/li&gt;
	&lt;li&gt;Attributes as in TTL, MIN_VERSIONS, which are part of the hbase data model&lt;/li&gt;
	&lt;li&gt;Config as in data block encoding per column family&lt;br/&gt;
As it is right now, HTable/ColumnDescriptors contain all three, and there is a very thin line for differentiating what is an attribute and what is a config setting (is compression an attribute or a config?)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think it still makes sense to keep these three together in the descriptors, since although there in an increasing number of new configs coming up, they are still not that much to cause any significant load.&lt;/p&gt;

&lt;p&gt;Is putting arbitrary byte[]&apos;s into the table/column descriptors a valid use case for the clients. From the code base, it seems that it is only used for putting configuration per table/column. If not, should we deprecate that?&lt;br/&gt;
Also to keep the compatibility with the xml-based config, I think we should make the config map as String &lt;del&gt;&amp;gt; String, rather than byte[]&lt;/del&gt;&amp;gt;byte[]. &lt;/p&gt;</comment>
                            <comment id="13531396" author="sershe" created="Thu, 13 Dec 2012 19:49:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;Attributes as in TTL, MIN_VERSIONS, which are part of the hbase data model&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Actually, these are not part of data model, this is config.&lt;br/&gt;
For many existing metadata settings, it makes perfect sense to have a cluster-wide value (e.g. TTL, versions, compression parameters, etc.). &lt;br/&gt;
IMHO metadata is stuff like IS_ROOT, IS_READONLY, etc.&lt;br/&gt;
So we have 3 types of values, excluding schema:&lt;br/&gt;
1) Metadata specific to column/table, e.g. IS_ROOT.&lt;br/&gt;
2) Config:&lt;br/&gt;
  a) Some of config is xml-file only and has names like hbase.foo.bar.baz.&lt;br/&gt;
  b) Some config is descriptor-only and has names like MIN_VERSIONS.&lt;br/&gt;
  c) Some config is both xml and column-specific, and has names like hbase.region.max.filesize (or something) &lt;b&gt;and&lt;/b&gt; MAX_FILESIZE.&lt;br/&gt;
3) User-specific parameters, set via CONFIG in shell, and used for mysterious user-specific purposes (right now, CF user parameters can also override xml config implicitly, which I am not removing with this patch to keep backward compat).&lt;/p&gt;

&lt;p&gt;I don&apos;t see a reason not to separate all of this. &lt;br/&gt;
This patch cleans up 2c and changes it to a general mechanism to do such things, instead of case-by-case basis which as shown above leads to more code and potential bugs.&lt;/p&gt;

&lt;p&gt;Ideally, I&apos;d say we should:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;remove 2b in a sense that all the config values should be specifiable in &quot;hbase.foo.bar.baz&quot; form, and both in XML file (e.g. for example &quot;hbase.cf.min.versions&quot;), and table/cf (where it makes sense; e.g. we can whitelist overridable keys).&lt;/li&gt;
	&lt;li&gt;Separate (1) from (3) to prevent potential of conflicts if we add new reserved keywords that user has set on his descriptors for their own purposes, but that&apos;s a separate issue.&lt;/li&gt;
&lt;/ul&gt;


&lt;blockquote&gt;&lt;p&gt;Is putting arbitrary byte[]&apos;s into the table/column descriptors a valid use case for the clients. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, there were JIRAs about improving it so I assume it&apos;s used &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13531494" author="enis" created="Thu, 13 Dec 2012 20:53:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;Actually, these are not part of data model, this is config.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Well, TTL, and MIN_VERSIONS are actually part of the data model in that, together with the timestamp in KV, they define the semantics of the data lifetime. Compactions / compression / data block encoding are pure configurations that don&apos;t affect the semantics, but rather performance/data size. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I don&apos;t see a reason not to separate all of this. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Separating makes sense. &lt;/p&gt;</comment>
                            <comment id="13532535" author="sershe" created="Fri, 14 Dec 2012 18:36:38 +0000"  >&lt;p&gt;Yeah, versions and TTL are kind of a gray area. &lt;br/&gt;
Stuff like compression and caching would be a better example for 2b.&lt;/p&gt;</comment>
                            <comment id="13537381" author="sershe" created="Thu, 20 Dec 2012 21:16:57 +0000"  >&lt;p&gt;CR feedback (also updated review board); most changes come from type change to String, and rename&lt;/p&gt;</comment>
                            <comment id="13537432" author="hadoopqa" created="Thu, 20 Dec 2012 22:21:37 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12561983/HBASE-7236-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12561983/HBASE-7236-v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 25 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 28 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplication&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are zombie tests. See build logs for details.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3634//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13537646" author="sershe" created="Fri, 21 Dec 2012 03:10:37 +0000"  >&lt;p&gt;Changed both attributes and config to use general types. This will break compat.&lt;/p&gt;</comment>
                            <comment id="13537661" author="hadoopqa" created="Fri, 21 Dec 2012 04:05:27 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12562031/HBASE-7236-v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12562031/HBASE-7236-v5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 25 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 28 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestRegionServerCoprocessorExceptionWithAbort&lt;br/&gt;
                  org.apache.hadoop.hbase.TestDrainingServer&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are zombie tests. See build logs for details.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3643//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13546475" author="sershe" created="Tue, 8 Jan 2013 01:12:35 +0000"  >&lt;p&gt;Rebased the patch, addressed recent /r/ comments.&lt;/p&gt;</comment>
                            <comment id="13546530" author="hadoopqa" created="Tue, 8 Jan 2013 02:16:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12563659/HBASE-7236-v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12563659/HBASE-7236-v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 28 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 3 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestSerialization&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3919//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13546543" author="sershe" created="Tue, 8 Jan 2013 02:36:15 +0000"  >&lt;p&gt;broke a test during rebase&lt;/p&gt;</comment>
                            <comment id="13546591" author="hadoopqa" created="Tue, 8 Jan 2013 04:11:52 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12563675/HBASE-7236-v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12563675/HBASE-7236-v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 28 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 3 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestLocalHBaseCluster&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3925//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13547515" author="sershe" created="Wed, 9 Jan 2013 01:30:41 +0000"  >&lt;p&gt;Would it help if I split the patch? E.g. for example first change protocol, then add overrides, then do the conversion of metadata to overrides.&lt;br/&gt;
This appears to be stuck, I wonder what it would take to make it unstuck&lt;/p&gt;</comment>
                            <comment id="13553413" author="sershe" created="Tue, 15 Jan 2013 02:07:05 +0000"  >&lt;p&gt;Splitting the issue into 2 related small changes, 2 unrelated changes that made it here, and 2 major parts. Some bugfixes from the epic patch were also done in other JIRA meanwhile...&lt;/p&gt;</comment>
                            <comment id="13554301" author="sershe" created="Tue, 15 Jan 2013 20:40:34 +0000"  >&lt;p&gt;turned into umbrella&lt;/p&gt;</comment>
                            <comment id="13560285" author="sershe" created="Wed, 23 Jan 2013 01:25:34 +0000"  >&lt;p&gt;Note that the main logical piece of work from this JIRA is being reviewed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7571&quot; title=&quot;add the notion of per-table or per-column family configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7571&quot;&gt;&lt;del&gt;HBASE-7571&lt;/del&gt;&lt;/a&gt;, if you want to do additional review please feel free to &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13626036" author="sershe" created="Tue, 9 Apr 2013 00:46:04 +0000"  >&lt;p&gt;I am going to unlink the subtask for conversion of legacy metadata, and resolve this.&lt;br/&gt;
The feature was added, let legacy metadata remain legacy metadata&lt;/p&gt;</comment>
                            <comment id="13626044" author="sershe" created="Tue, 9 Apr 2013 00:52:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; since the subtasks were committed long ago I am putting this into 0.95.0 post-factum... please advise if it interferes with things.&lt;/p&gt;</comment>
                            <comment id="13775434" author="stack" created="Mon, 23 Sep 2013 18:31:30 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12537691">HBASE-5146</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12613574">HBASE-7055</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12624914">HBASE-7412</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12555806" name="HBASE-7236-PROTOTYPE-v1.patch" size="43650" author="sershe" created="Mon, 3 Dec 2012 18:49:40 +0000"/>
                            <attachment id="12555458" name="HBASE-7236-PROTOTYPE.patch" size="39206" author="sershe" created="Fri, 30 Nov 2012 02:51:02 +0000"/>
                            <attachment id="12555438" name="HBASE-7236-PROTOTYPE.patch" size="63425" author="sershe" created="Fri, 30 Nov 2012 00:22:44 +0000"/>
                            <attachment id="12560481" name="HBASE-7236-v0.patch" size="151064" author="sershe" created="Wed, 12 Dec 2012 00:23:35 +0000"/>
                            <attachment id="12560500" name="HBASE-7236-v1.patch" size="152782" author="sershe" created="Wed, 12 Dec 2012 03:31:54 +0000"/>
                            <attachment id="12560661" name="HBASE-7236-v2.patch" size="154319" author="sershe" created="Wed, 12 Dec 2012 22:33:49 +0000"/>
                            <attachment id="12560698" name="HBASE-7236-v3.patch" size="155095" author="sershe" created="Thu, 13 Dec 2012 01:31:48 +0000"/>
                            <attachment id="12561983" name="HBASE-7236-v4.patch" size="294832" author="sershe" created="Thu, 20 Dec 2012 21:16:57 +0000"/>
                            <attachment id="12562031" name="HBASE-7236-v5.patch" size="225204" author="sershe" created="Fri, 21 Dec 2012 03:10:37 +0000"/>
                            <attachment id="12563675" name="HBASE-7236-v6.patch" size="226313" author="sershe" created="Tue, 8 Jan 2013 02:36:15 +0000"/>
                            <attachment id="12563659" name="HBASE-7236-v6.patch" size="226312" author="sershe" created="Tue, 8 Jan 2013 01:12:35 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12627551">HBASE-7563</subtask>
                            <subtask id="12627563">HBASE-7570</subtask>
                            <subtask id="12627565">HBASE-7571</subtask>
                            <subtask id="12629302">HBASE-7674</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Nov 2012 04:53:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sbcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>163315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>The ability to configure most configuration parameters per column family or table. The column family configuration overrules table configuration, which in turn overrides xml configuration. The column family metadata that was previously used still overrides any configuration.&lt;br/&gt;
&lt;br/&gt;
To set configuration, you can use shell commands (see also help &amp;#39;create&amp;#39;, help &amp;#39;alter&amp;#39;); example:&lt;br/&gt;
alter &amp;#39;mytable&amp;#39;, CONFIGURATION =&amp;gt; {&amp;#39;hbase.hregion.scan.loadColumnFamiliesOnDemand&amp;#39; =&amp;gt; &amp;#39;true&amp;#39;}&lt;br/&gt;
alter &amp;#39;mytable&amp;#39;, {NAME =&amp;gt; &amp;#39;mycolumnfamily&amp;#39;, CONFIGURATION =&amp;gt; {&amp;#39;hbase.hstore.blockingStoreFiles&amp;#39; =&amp;gt; &amp;#39;10&amp;#39;}}&lt;br/&gt;
&lt;br/&gt;
You can also do it programmatically by modifying HTableDescriptor and HColumnDescriptor for create and alter operations (setConfiguration method).</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>