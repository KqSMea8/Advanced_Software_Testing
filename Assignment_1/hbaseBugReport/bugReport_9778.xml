<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:07:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9778/HBASE-9778.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9778] Add hint to ExplicitColumnTracker to avoid seeking</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9778</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The issue of slow seeking in ExplicitColumnTracker was brought up by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt; on the dev list.&lt;/p&gt;

&lt;p&gt;My idea here is to avoid the seeking if we know that there aren&apos;t many versions to skip.&lt;br/&gt;
How do we know? We&apos;ll use the column family&apos;s VERSIONS setting as a hint. If VERSIONS is set to 1 (or maybe some value &amp;lt; 10) we&apos;ll avoid the seek and call SKIP repeatedly.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9769&quot; title=&quot;Improve performance of a Scanner with explicit column list when rows are small/medium size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9769&quot;&gt;&lt;del&gt;HBASE-9769&lt;/del&gt;&lt;/a&gt; has some initial number for this approach:&lt;br/&gt;
Interestingly it depends on which column(s) is (are) selected.&lt;/p&gt;

&lt;p&gt;Some numbers: 4m rows, 5 cols each, 1 cf, 10 bytes values, VERSIONS=1, everything filtered at the server with a ValueFilter. Everything measured in seconds.&lt;/p&gt;

&lt;p&gt;Without patch:&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Wildcard&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Col 1&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Col 2&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Col 4&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Col 5&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Col 2+4&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6.4&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.5&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;14.3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;14.6&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;11.1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;20.3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;With patch:&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Wildcard&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Col 1&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Col 2&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Col 4&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Col 5&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Col 2+4&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6.4&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.4&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8.9&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9.9&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6.4&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;Variation here was +- 0.2s.&lt;/p&gt;

&lt;p&gt;So with this patch scanning is 2x faster than without in some cases, and never slower. No special hint needed, beyond declaring VERSIONS correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674058">HBASE-9778</key>
            <summary>Add hint to ExplicitColumnTracker to avoid seeking</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Oct 2013 04:50:18 +0000</created>
                <updated>Wed, 4 Mar 2015 22:25:14 +0000</updated>
                            <resolved>Tue, 11 Mar 2014 18:35:41 +0000</resolved>
                                                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.98.1</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.94.18</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>13</watches>
                                                                <comments>
                            <comment id="13796423" author="lhofhansl" created="Wed, 16 Oct 2013 04:52:25 +0000"  >&lt;p&gt;Note that this avoid the NEXT_COL but not the NEXT_ROW seeks. Here we have nothing to go by to know whether a row is going to be large (many columns) or not, and hence we&apos;d need to hint the scan explicitly somehow and/or use a filter as Vladimir suggests in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9769&quot; title=&quot;Improve performance of a Scanner with explicit column list when rows are small/medium size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9769&quot;&gt;&lt;del&gt;HBASE-9769&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13796425" author="lhofhansl" created="Wed, 16 Oct 2013 04:53:02 +0000"  >&lt;p&gt;0.94 patch.&lt;/p&gt;</comment>
                            <comment id="13796427" author="lhofhansl" created="Wed, 16 Oct 2013 04:54:15 +0000"  >&lt;p&gt;And a trunk version for HadoopQA&lt;/p&gt;</comment>
                            <comment id="13796457" author="stack" created="Wed, 16 Oct 2013 05:54:00 +0000"  >&lt;p&gt;Nice numbers for such a little code change.&lt;/p&gt;

&lt;p&gt;I don&apos;t know this code well.&lt;/p&gt;

&lt;p&gt;Looking at it, doesn&apos;t SKIP mean &apos;do not include this KV in the result&apos;?  So if maxVersion == 1, it means we already have a KV and we are saying &apos;do not include this result&apos; for all subsequent seen columns rather than call a seek?  What if many versions of this row.  Now we are not seeking, we could spend a bunch of time having to skip all values?&lt;/p&gt;

&lt;p&gt;Am I groking this right?&lt;/p&gt;</comment>
                            <comment id="13796460" author="hadoopqa" created="Wed, 16 Oct 2013 06:05:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12608659/9778-trunk.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12608659/9778-trunk.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestExplicitColumnTracker&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestQueryMatcher&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7560//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13796788" author="jmspaggi" created="Wed, 16 Oct 2013 13:38:11 +0000"  >&lt;p&gt;Can TestExplicitColumnTracker be related to this modification? I will guess so. But most probably it&apos;s the test we need to modifty, and not ExplicitColumnTracker?&lt;/p&gt;

&lt;p&gt;Passed with 0.94.12 without the patch and failed with the patch.&lt;/p&gt;</comment>
                            <comment id="13796834" author="lhofhansl" created="Wed, 16 Oct 2013 14:35:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, skip means that it&apos;ll skip this particular KV (i.e. this version of a column).&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt;, yeah, the test failure is probably related &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  Will take a look today.&lt;/p&gt;

&lt;p&gt;I also realized yesterday that the patch is not quite correct anyway. What the tracker needs to know is maxVersions of the ColumnFamily not maxVersions of this particular scan (which is min of the scan&apos; and CF&apos;s setting).&lt;/p&gt;</comment>
                            <comment id="13796840" author="lhofhansl" created="Wed, 16 Oct 2013 14:42:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, didn&apos;t read your comment right the first time.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;SKIP skips only a single KV (i.e. a single version of a column, not a row), so we&apos;ll avoid the reseek at the cost of having to SKIP the next version again if there is one.&lt;/li&gt;
	&lt;li&gt;If there were many versions we&apos;d do extra work in having to SKIP each of them individually. For that reason I am (or will be) using the CF&apos;s MAX_VERSIONS as a hint. If that is set to 1 (or we could take a small number), we can assume that we won&apos;t see many versions here.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13797054" author="lhofhansl" created="Wed, 16 Oct 2013 17:51:38 +0000"  >&lt;p&gt;New 0.94 version.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;fixes TestExplicitColumnTracker&lt;/li&gt;
	&lt;li&gt;adds a simple test case, to make sure it works correctly if there multiple versions in the store&lt;/li&gt;
	&lt;li&gt;Uses the store&apos;s (CF&apos;s) MAX_VERSIONS setting as the hint&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13797056" author="lhofhansl" created="Wed, 16 Oct 2013 17:53:10 +0000"  >&lt;p&gt;Same for trunk.&lt;/p&gt;

&lt;p&gt;Looking around more. Seems there are more seeks that can be avoided if we know there won&apos;t be many versions around.&lt;/p&gt;</comment>
                            <comment id="13797064" author="jesse_yates" created="Wed, 16 Oct 2013 18:01:45 +0000"  >&lt;p&gt;Feels like we should be smarter here:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;+        // is interested in, so skip or seek to that column of interest.&lt;br/&gt;
+        return storeMaxVersions == 1 ? ScanQueryMatcher.MatchCode.SKIP&lt;br/&gt;
+            : ScanQueryMatcher.MatchCode.SEEK_NEXT_COL;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Why not keep a count of the versions seen and only skip past if approaching (at?) the number of max versions? Shouldn&apos;t need any synchronization on that member variable, so access should be fast&lt;/p&gt;</comment>
                            <comment id="13797097" author="hadoopqa" created="Wed, 16 Oct 2013 18:37:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12608760/9778-trunk-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12608760/9778-trunk-v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestQueryMatcher&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7569//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13797225" author="lhofhansl" created="Wed, 16 Oct 2013 20:31:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt;, unfortunately we&apos;re skipping the column before we know the version count. What we could do is count versions of column that were not selected, and use that as an estimate for the expected number of versions of the selected columns. This seems easier and more reliable.&lt;/p&gt;</comment>
                            <comment id="13797243" author="lhofhansl" created="Wed, 16 Oct 2013 20:53:20 +0000"  >&lt;p&gt;Arggh... Didn&apos;t see TestQueryMatcher before. Fixed that test as well, and added a simple that tests with 2 versions (to verify the existing behavior).&lt;/p&gt;</comment>
                            <comment id="13797254" author="lhofhansl" created="Wed, 16 Oct 2013 21:03:29 +0000"  >&lt;p&gt;And trunk&lt;/p&gt;</comment>
                            <comment id="13797258" author="stack" created="Wed, 16 Oct 2013 21:05:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; You think the VERSIONS config an indicator of how many absolute versions of a particular column?  I can think of pathological cases where hbase is being used to keep say a queue where client is only interested in most recent cell but many could be writing to the one coordinate.  In this case, we&apos;d want to seek to the next column rather than skip, skip, skip, right?  Could we do something like the Jesse heuristic where we keep a count and skip the first few but then switch to a seek if it looks like we are on a column of many versions?&lt;/p&gt;</comment>
                            <comment id="13797337" author="lhofhansl" created="Wed, 16 Oct 2013 22:07:28 +0000"  >&lt;p&gt;Can&apos;t the check the column specifically, only estimate from &lt;b&gt;other&lt;/b&gt; columns. Or could seek when we SKIP&apos;ed N times. No longer simple or easy to understand, though.&lt;/p&gt;

&lt;p&gt;There could indeed be a pathetic case with many versions in the memstore (and only in the memstore, since excess versions are pruned upon flush). Could make it configurable.&lt;/p&gt;</comment>
                            <comment id="13797338" author="jesse_yates" created="Wed, 16 Oct 2013 22:07:30 +0000"  >&lt;p&gt;I think we would need to have a stat&apos;s mechanism (yes, yes I&apos;ve been to busy to get that jira in &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, so we can use decent heurisitics to determine. The other thing Lars mentioned, offline, was using the counts of the other columns as a heurisitic of the number of versions.&lt;/p&gt;

&lt;p&gt;My other thought was updating a counter per-column on INCLUDE (which doesn&apos;t get to the checkVersions call) so we can track stats just within the tracker (basic stats keeping that could be generalized).&lt;/p&gt;</comment>
                            <comment id="13797375" author="hadoopqa" created="Wed, 16 Oct 2013 22:35:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12608804/9778-trunk-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12608804/9778-trunk-v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7571//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13797436" author="lhofhansl" created="Wed, 16 Oct 2013 23:37:17 +0000"  >&lt;p&gt;So this looks good.&lt;br/&gt;
As for the many versions in the memstore, it would be limited to the size of the memstore and only happen when same column is updated very often before the memstore is flushed.&lt;br/&gt;
I&apos;ll try to quantify that. (the perf improvement and simplicity would be a shame to give up upon .. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="13797591" author="lhofhansl" created="Thu, 17 Oct 2013 04:36:38 +0000"  >&lt;p&gt;Ok... Setup a test with many versions that actually fits into a 256mb memstore:&lt;br/&gt;
200 rows, 5 cols, 1000 versions, 10 bytes values.&lt;/p&gt;

&lt;p&gt;Scan time of one column with patch: 0.22s, without 0.08s. So in this case it is 2.7x slower.&lt;br/&gt;
Lemme think about how I can get both. What I could do is do SKIP... SKIP, until we reached the CF&apos;s MAX_VERSIONS, then start issuing SEEK_NEXT_COL. So in the worst case we&apos;d issue MAX_VERSIONS SKIPs too many (and if MAX_VERSIONS=1, we do one superfluous SKIP). Lemme prototype this.&lt;/p&gt;</comment>
                            <comment id="13797623" author="lhofhansl" created="Thu, 17 Oct 2013 05:40:08 +0000"  >&lt;p&gt;This gets pretty ugly and inscrutable quickly (if we count column we need to reset at the right points).&lt;br/&gt;
So I am less happy with this idea now.&lt;/p&gt;</comment>
                            <comment id="13798126" author="lhofhansl" created="Thu, 17 Oct 2013 17:25:41 +0000"  >&lt;p&gt;Unscheduling for now.&lt;/p&gt;</comment>
                            <comment id="13798131" author="lhofhansl" created="Thu, 17 Oct 2013 17:28:17 +0000"  >&lt;p&gt;I&apos;d like to do some brainstorming about how we can make reseek faster if the &quot;reseek distance&quot; is expected to be small. Currently the absolute worst case is when reseek just seeks to the next KV, where next is orders of magnitudes faster.&lt;/p&gt;

&lt;p&gt;Unfortunately we hit this worst case all the time if there is only one version of each KV.&lt;/p&gt;</comment>
                            <comment id="13801435" author="zjushch" created="Tue, 22 Oct 2013 02:56:19 +0000"  >&lt;p&gt;How about if there are hundreds of columns&#65311;&lt;br/&gt;
e.g. 10,000 cols per row, explicit columns are col1 and col9999&lt;/p&gt;

&lt;p&gt;Will it be worse with the patch?&lt;/p&gt;</comment>
                            <comment id="13801436" author="zjushch" created="Tue, 22 Oct 2013 02:59:14 +0000"  >&lt;p&gt;As the above comments, I think you have got it.&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13801457" author="lhofhansl" created="Tue, 22 Oct 2013 04:18:16 +0000"  >&lt;p&gt;No, it would only be worse if there are many versions. What this avoids is the SEEK_NEXT_COL, which seeks to the next column anticipating an unknown number of versions. If there are only a few versions per column the reseek is more expensive.&lt;br/&gt;
However there is no sure way to know the exact number of versions. Using MAX_VERSIONS as a hint works in all cases but the outliers - for example when a single column is updated frequently, in that case the memstore will be filled with many versions of the same column and we should seek to the next column.&lt;/p&gt;

&lt;p&gt;Your example would shows another current shortcoming, though. If we only wanted to select 1 or 2 columns of the 10000 the tracker would go over the 10000 column and issue 10000 seeks. It should rather seek directly to the next column it cares about.&lt;/p&gt;</comment>
                            <comment id="13801462" author="lhofhansl" created="Tue, 22 Oct 2013 04:23:01 +0000"  >&lt;p&gt;Forget my previous comment, I was wrong. ExplicitColumnTracker &lt;b&gt;does&lt;/b&gt; seek to the next column it is interested in, so even with many column this patch would make it worse.&lt;/p&gt;</comment>
                            <comment id="13801475" author="lhofhansl" created="Tue, 22 Oct 2013 04:42:46 +0000"  >&lt;p&gt;I will use &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;&apos;s idea of a scan hint instead. MAX_VERSIONS is not reliable in all cases.&lt;/p&gt;</comment>
                            <comment id="13801520" author="vrodionov" created="Tue, 22 Oct 2013 05:59:22 +0000"  >&lt;p&gt;Lars, you can try two hints: NARROW_COLUMNS and NARROW_ROWS. The latter one supersedes the former one. NARROW_COLUMNS optimizes SEEK_NEXT_COL,  NARROW_ROWS - optimizes both: SEEK_NEXT_COL and SEEK_NEXT_ROW.  &lt;/p&gt;</comment>
                            <comment id="13801525" author="lhofhansl" created="Tue, 22 Oct 2013 06:12:01 +0000"  >&lt;p&gt;New sample patch. Using NARROW_ROW_HINT to optimize seeking in &lt;b&gt;both&lt;/b&gt; ExplicitColumnTracker and ScanWildcardColumnTracker.&lt;/p&gt;

&lt;p&gt;This makes ExplicitColumnTracker go around one for time for a version (like ScanWildcardColumnTracker, but then allows to SKIP following versions if any).&lt;/p&gt;</comment>
                            <comment id="13801541" author="lhofhansl" created="Tue, 22 Oct 2013 06:34:32 +0000"  >&lt;p&gt;I like the NARROW_COLUMNS (i.e. FEW_VERSIONS) and NARROW_ROWS hinting.&lt;/p&gt;</comment>
                            <comment id="13802389" author="yuzhihong@gmail.com" created="Tue, 22 Oct 2013 22:55:49 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (count &amp;gt;= maxVersions || (count &amp;gt;= minVersions &amp;amp;&amp;amp; isExpired(timestamp))) {
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (count &amp;gt; maxVersions || (count &amp;gt; minVersions &amp;amp;&amp;amp; isExpired(timestamp))) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Mind adding comment for the above change ?&lt;/p&gt;</comment>
                            <comment id="13802459" author="lhofhansl" created="Wed, 23 Oct 2013 00:20:39 +0000"  >&lt;p&gt;I can explain here. A comment in the code would be misplaced and make it more confusing. ScanWildcardColumnTracker does the same.&lt;/p&gt;

&lt;p&gt;The reason is that we can continue to issue SKIPs once we&apos;re past the max/min versions. I.e. as long as we&apos;re inside the versions range we can issue INCLUDEs, once out we issue SKIPs or SEEK_NEXT_COLs.&lt;br/&gt;
With &amp;gt;= we have to issue a INCLUDE_AND_SEEK_NEXT_COL and never come to back to this column.&lt;/p&gt;</comment>
                            <comment id="13806227" author="lhofhansl" created="Sun, 27 Oct 2013 05:13:55 +0000"  >&lt;p&gt;Note that this issue was brought up in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4433&quot; title=&quot;avoid extra next (potentially a seek) if done with column/row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4433&quot;&gt;&lt;del&gt;HBASE-4433&lt;/del&gt;&lt;/a&gt; already (the patch that introduced INCLUDE_AND_SEEK...).&lt;/p&gt;

&lt;p&gt;It seems that for most scenarios we want to undo at least some part of that patch.&lt;/p&gt;</comment>
                            <comment id="13806534" author="lhofhansl" created="Mon, 28 Oct 2013 03:33:58 +0000"  >&lt;p&gt;This needs a bigger discussion. The optimizations put in with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4433&quot; title=&quot;avoid extra next (potentially a seek) if done with column/row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4433&quot;&gt;&lt;del&gt;HBASE-4433&lt;/del&gt;&lt;/a&gt; are counter productive for many use cases.&lt;br/&gt;
The patch there avoids an additional call to next, but does so at the expense of an extra seek (if there aren&apos;t many versions). That pays off in the scenario described in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4433&quot; title=&quot;avoid extra next (potentially a seek) if done with column/row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4433&quot;&gt;&lt;del&gt;HBASE-4433&lt;/del&gt;&lt;/a&gt; (large KVs, where an extra next will like lead to loading another block), but with small KVs and few versions, the extra seek is way more expensive than the risk of loading another block.&lt;br/&gt;
(In fact that is exactly the part of the change that Ted requested an extra comment on)&lt;/p&gt;

&lt;p&gt;And, BTW, ScanWildcardQueryMatcher does not have the optimization from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4433&quot; title=&quot;avoid extra next (potentially a seek) if done with column/row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4433&quot;&gt;&lt;del&gt;HBASE-4433&lt;/del&gt;&lt;/a&gt;, so this is quite a mess.&lt;/p&gt;</comment>
                            <comment id="13815743" author="lhofhansl" created="Thu, 7 Nov 2013 07:47:33 +0000"  >&lt;p&gt;Some more numbers with other hardcoded improvements indicate that some Phoenix queries can run over 3x as fast (8.8s instead of 27s).&lt;br/&gt;
The challenge is now to keep the improvements from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4433&quot; title=&quot;avoid extra next (potentially a seek) if done with column/row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4433&quot;&gt;&lt;del&gt;HBASE-4433&lt;/del&gt;&lt;/a&gt; while also improve other scenarios. A new config option is probably not avoidable.&lt;/p&gt;</comment>
                            <comment id="13816223" author="vrodionov" created="Thu, 7 Nov 2013 18:41:00 +0000"  >&lt;p&gt;Good performance increase, indeed. Hinting is not that bad idea. Advanced users (Phoenix) will definitely find a way how to use this optimization.  &lt;/p&gt;</comment>
                            <comment id="13820696" author="lhofhansl" created="Wed, 13 Nov 2013 00:06:48 +0000"  >&lt;p&gt;The Phoenix numbers are much better after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9915&quot; title=&quot;Performance: isSeeked() in EncodedScannerV2 always returns false&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9915&quot;&gt;&lt;del&gt;HBASE-9915&lt;/del&gt;&lt;/a&gt;. Will redo the tests here, but I would expect (with all the Phoenix defaults) to get 1.5x improvement from the changes here (with is a FAST_DIFF block encoding).&lt;/p&gt;</comment>
                            <comment id="13834281" author="apurtell" created="Wed, 27 Nov 2013 22:57:45 +0000"  >&lt;p&gt;What should we do with this regards 0.98?&lt;/p&gt;</comment>
                            <comment id="13834291" author="lhofhansl" created="Wed, 27 Nov 2013 23:03:10 +0000"  >&lt;p&gt;Lemme just unschedule for now.&lt;/p&gt;</comment>
                            <comment id="13913119" author="lhofhansl" created="Wed, 26 Feb 2014 16:40:25 +0000"  >&lt;p&gt;Some further observations.&lt;/p&gt;

&lt;p&gt;When we reseek for a column we pass a KV that would be located just before the first KV for that column, in the various scanners, we then seek forward in the file until we&apos;re &lt;b&gt;past&lt;/b&gt; the KV passed in, then we go back one KV discarding the current KV. So when we seek forward through the a file we&apos;ll scan every KV twice.&lt;/p&gt;

&lt;p&gt;I&apos;m planning to test passing a special KV so that in the scanners can tell when we&apos;re &lt;b&gt;on&lt;/b&gt; the KV we&apos;re looking for. For example when looking for column we can scan forward until we see the first KV for that row, fam, col, and then we can stop. No need to need to scan one more, remember the previous, and then go back. For cases with few versions/columns that should shave off a large portion of the time. Will report back.&lt;/p&gt;</comment>
                            <comment id="13923502" author="lhofhansl" created="Fri, 7 Mar 2014 03:44:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt;,&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Why not keep a count of the versions seen and only skip past if approaching (at?) the number of max versions? Shouldn&apos;t need any synchronization on that member variable, so access should be fast&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I found a cheap way of doing this after all. We can keep a counter and reset it every time this.index is changed (i.e. we move on to a new column). That way we can limit the number of skips per selected column. We can even set the number of opportunistic skip per scan operation. Patch coming soon.&lt;/p&gt;</comment>
                            <comment id="13923528" author="lhofhansl" created="Fri, 7 Mar 2014 04:24:04 +0000"  >&lt;p&gt;Please have a look.&lt;br/&gt;
This is nice in that it let&apos;s a user tune risk of seeking vs. the risk of performing too many next() followed by a seek.&lt;/p&gt;

&lt;p&gt;Somebody &lt;b&gt;please&lt;/b&gt; come up with a better name than &quot;eager next&quot;.&lt;/p&gt;</comment>
                            <comment id="13923554" author="lhofhansl" created="Fri, 7 Mar 2014 04:51:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;, wanna have a look? Related &lt;a href=&quot;https://issues.apache.org/jira/browse/PHOENIX-29&quot; title=&quot;Add custom filter to more efficiently navigate KeyValues in row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PHOENIX-29&quot;&gt;&lt;del&gt;PHOENIX-29&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stepinto&quot; class=&quot;user-hover&quot; rel=&quot;stepinto&quot;&gt;Chao Shi&lt;/a&gt;, if possible can you run the perf test you did on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9811&quot; title=&quot;ColumnPaginationFilter is slow when offset is large&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9811&quot;&gt;HBASE-9811&lt;/a&gt; with this patch?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, FYI.&lt;/p&gt;</comment>
                            <comment id="13923571" author="lhofhansl" created="Fri, 7 Mar 2014 05:09:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;, since we are discussing &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10531&quot; title=&quot;Revisit how the key byte[] is passed to HFileScanner.seekTo and reseekTo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10531&quot;&gt;&lt;del&gt;HBASE-10531&lt;/del&gt;&lt;/a&gt;, this is (somewhat) related.&lt;/p&gt;</comment>
                            <comment id="13923637" author="ram_krish" created="Fri, 7 Mar 2014 06:59:20 +0000"  >&lt;p&gt;Went thro the patch.  the patch looks good.  If we have 100 cols and in scan we have added col98, now i think there is no use in using this eager next, same is the case when i have 2 cols but col1 has 99 versions and col2 has one version and scan.addcol we have added col2 only right?&lt;br/&gt;
Mostly when the number of versions are going to be 1 or very min for the column added in scan this could be very much useful.  so should we add a comment before this eager_next saying if the column before the one added in scan.addCol has very few versions then this could be used?&lt;br/&gt;
I don&apos;t have a better name for &apos;eager next&apos;.&lt;/p&gt;</comment>
                            <comment id="13923650" author="lhofhansl" created="Fri, 7 Mar 2014 07:21:59 +0000"  >&lt;p&gt;Thanks Ram. Yes on all fronts.&lt;/p&gt;

&lt;p&gt;When we have 100 cols and select col98 only, a seek is more efficient, so we&apos;d do N next()&apos;s for nothing before we seek anyway.&lt;/p&gt;

&lt;p&gt;The main point of this option would be to get good improvement when the next column/version of interest can be reached with a few next()&apos;s while limiting the downside. We can always seek (0), or never seek (MAXINT), and can tune everything in between. I assume most folks would set this somewhere between 5 and 10... The upside of saving a seek a large, the downside of a few extra next()&apos;s is not so bad.&lt;/p&gt;

&lt;p&gt;Many seeks that just skip to the next KV are bad, 1000 next()&apos;s are bad, but 5 next()&apos;s + 1 reseek is not much worse than a reseek.&lt;br/&gt;
Client with more information about their data (such a Phoenix, or certain time series databases, etc) can use that to set a good value here.&lt;/p&gt;

&lt;p&gt;Of course the absolute worst case would be when this is set to 5 and all columns are 6 KVs away from each other (due to versions of intermediary columns). We&apos;d do 5 next()&apos;s and then a seek.&lt;/p&gt;

&lt;p&gt;Lemme see how I can phrase that better in the Javadoc.&lt;/p&gt;

&lt;p&gt;(I had thought about only doing this at the StoreFile level and issue next()&apos;s only when we the key we&apos;re looking for falls into the same block, but at the time when we reach the StoreFileScanner we have done most of the work for seek anyway, so it turned out to be not very helpful)&lt;/p&gt;</comment>
                            <comment id="13923677" author="apurtell" created="Fri, 7 Mar 2014 08:14:58 +0000"  >&lt;p&gt;A change that doesn&apos;t introduce a perf regression for the default tuning would make sense for 0.98, I agree. Advanced users like  Vladimir could retune with the insight they have into their workload. &lt;/p&gt;</comment>
                            <comment id="13924161" author="mcorgan" created="Fri, 7 Mar 2014 18:24:53 +0000"  >&lt;p&gt;It would be cool eventually to record block-level statistics inside each block (maxVersions in this case) that can be used by readers.  PrefixTree may already have that, but we&apos;d want it for all blocks.&lt;/p&gt;</comment>
                            <comment id="13924243" author="lhofhansl" created="Fri, 7 Mar 2014 19:25:40 +0000"  >&lt;p&gt;Yeah. Stats would be better than this guessing. You&apos;d need to expose these stats at the StoreScanner level, though. Once at the StoreFileScanner much of the cost to a seek already happened.&lt;/p&gt;</comment>
                            <comment id="13924270" author="lhofhansl" created="Fri, 7 Mar 2014 19:57:54 +0000"  >&lt;p&gt;Added some tests to 0.94 patch. If approach is cool, I&apos;ll make a trunk patch.&lt;/p&gt;</comment>
                            <comment id="13924522" author="lhofhansl" created="Sat, 8 Mar 2014 00:02:05 +0000"  >&lt;p&gt;Same for trunk.&lt;br/&gt;
Used the same attribute based approach (should probably protobug it, if we use this as official API).&lt;br/&gt;
I can also see not changing the Scan API at all, and just allow setting that scan attribute - maybe that&apos;d be best anyway.&lt;/p&gt;</comment>
                            <comment id="13925946" author="lhofhansl" created="Mon, 10 Mar 2014 17:51:07 +0000"  >&lt;p&gt;I think I do not want that Scan API changes, will just do it by an attribute. Could probably add a default value via configuration.&lt;/p&gt;

&lt;p&gt;Any input on patch/idea? Worth doing?&lt;/p&gt;</comment>
                            <comment id="13925976" author="stack" created="Mon, 10 Mar 2014 18:06:37 +0000"  >&lt;p&gt;+1 if nice release note and a little section in refguide &amp;#8211; else this stuff just stays  hidden and forgotten about.   I think as attribute is good for now.&lt;/p&gt;</comment>
                            <comment id="13925989" author="anoop.hbase" created="Mon, 10 Mar 2014 18:14:58 +0000"  >&lt;p&gt;+1 for attribute alone.&lt;/p&gt;</comment>
                            <comment id="13925999" author="ram_krish" created="Mon, 10 Mar 2014 18:23:51 +0000"  >&lt;p&gt;+1 on patch.  Attribute seems good.&lt;/p&gt;</comment>
                            <comment id="13926247" author="lhofhansl" created="Mon, 10 Mar 2014 21:28:18 +0000"  >&lt;p&gt;Trunk patch with doc changes.&lt;/p&gt;</comment>
                            <comment id="13926255" author="lhofhansl" created="Mon, 10 Mar 2014 21:35:56 +0000"  >&lt;p&gt;Same for 0.94.&lt;br/&gt;
Please have a look at the book changes. If no further comments I&apos;ll commit tomorrow.&lt;/p&gt;</comment>
                            <comment id="13926275" author="lhofhansl" created="Mon, 10 Mar 2014 21:43:31 +0000"  >&lt;p&gt;I think a have a better name: HINT_LOOK_AHEAD. That is what this does: The scanner will look ahead a few KeyValues before is does a seek.&lt;/p&gt;</comment>
                            <comment id="13926283" author="lhofhansl" created="Mon, 10 Mar 2014 21:51:30 +0000"  >&lt;p&gt;for 0.94 and trunk with LOOK_AHEAD attribute and fixed documentation.&lt;/p&gt;</comment>
                            <comment id="13929932" author="lhofhansl" created="Tue, 11 Mar 2014 04:22:27 +0000"  >&lt;p&gt;Documentation/release notes look good?&lt;/p&gt;</comment>
                            <comment id="13929955" author="ram_krish" created="Tue, 11 Mar 2014 04:59:39 +0000"  >&lt;p&gt;Looks good. the doc part specifically. +1&lt;/p&gt;</comment>
                            <comment id="13930601" author="lhofhansl" created="Tue, 11 Mar 2014 17:13:22 +0000"  >&lt;p&gt;What I am going to commit. (mostly spelling/naming fixes)&lt;/p&gt;</comment>
                            <comment id="13930736" author="lhofhansl" created="Tue, 11 Mar 2014 18:35:41 +0000"  >&lt;p&gt;Committed to all branches. Thanks for taking a look.&lt;/p&gt;</comment>
                            <comment id="13930846" author="hudson" created="Tue, 11 Mar 2014 19:53:48 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-on-Hadoop-2 #46 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/46/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/46/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576456)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/docbkx/performance.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13930847" author="hudson" created="Tue, 11 Mar 2014 19:54:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1316 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1316/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1316/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576456)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/docbkx/performance.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13930849" author="hudson" created="Tue, 11 Mar 2014 19:54:50 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-JDK7 #79 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/79/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/79/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576456)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/docbkx/performance.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13930884" author="lhofhansl" created="Tue, 11 Mar 2014 20:17:02 +0000"  >&lt;p&gt;Whoa, I broke the build. I build HBase, but not the documentation. Sorry. Addendum coming soon.&lt;/p&gt;</comment>
                            <comment id="13930888" author="lhofhansl" created="Tue, 11 Mar 2014 20:23:03 +0000"  >&lt;p&gt;0.94 only, an extra &amp;lt;/section&amp;gt; sneaked in there somehow. Committed addendum.&lt;/p&gt;</comment>
                            <comment id="13931004" author="hudson" created="Tue, 11 Mar 2014 21:51:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #437 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/437/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/437/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Addendum; fix documentation markup (larsh: rev 1576491)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/docbkx/performance.xml&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576456)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/docbkx/performance.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13931046" author="hudson" created="Tue, 11 Mar 2014 22:13:47 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1317 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1317/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1317/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Addendum; fix documentation markup (larsh: rev 1576491)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/docbkx/performance.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13931050" author="hudson" created="Tue, 11 Mar 2014 22:16:48 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-JDK7 #80 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/80/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/80/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Addendum; fix documentation markup (larsh: rev 1576491)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/docbkx/performance.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13931071" author="hudson" created="Tue, 11 Mar 2014 22:35:35 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #206 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/206/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/206/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576461)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/src/main/docbkx/performance.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13931089" author="hudson" created="Tue, 11 Mar 2014 22:49:48 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #220 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/220/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/220/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576461)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/src/main/docbkx/performance.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13931098" author="hudson" created="Tue, 11 Mar 2014 22:55:46 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #339 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/339/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/339/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576462)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/src/main/docbkx/performance.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13931124" author="hudson" created="Tue, 11 Mar 2014 23:14:36 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-on-Hadoop-2 #47 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/47/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/47/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Addendum; fix documentation markup (larsh: rev 1576491)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/docbkx/performance.xml&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576456)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/docbkx/performance.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13931211" author="hudson" created="Wed, 12 Mar 2014 00:49:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #235 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/235/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/235/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576462)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/src/main/docbkx/performance.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13931330" author="hudson" created="Wed, 12 Mar 2014 03:00:52 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4999 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4999/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4999/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576457)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/docbkx/performance.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13931337" author="hudson" created="Wed, 12 Mar 2014 03:10:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #113 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/113/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/113/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9778&quot; title=&quot;Add hint to ExplicitColumnTracker to avoid seeking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9778&quot;&gt;&lt;del&gt;HBASE-9778&lt;/del&gt;&lt;/a&gt; Add hint to ExplicitColumnTracker to avoid seeking (larsh: rev 1576457)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/docbkx/performance.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12777756">HBASE-13109</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12658795">HBASE-9000</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12523503">HBASE-4433</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12608759" name="9778-0.94-v2.txt" size="6136" author="lhofhansl" created="Wed, 16 Oct 2013 17:51:38 +0000"/>
                            <attachment id="12608801" name="9778-0.94-v3.txt" size="11071" author="lhofhansl" created="Wed, 16 Oct 2013 20:53:20 +0000"/>
                            <attachment id="12609598" name="9778-0.94-v4.txt" size="9673" author="lhofhansl" created="Tue, 22 Oct 2013 06:12:01 +0000"/>
                            <attachment id="12633309" name="9778-0.94-v5.txt" size="6539" author="lhofhansl" created="Fri, 7 Mar 2014 04:24:04 +0000"/>
                            <attachment id="12633440" name="9778-0.94-v6.txt" size="12505" author="lhofhansl" created="Fri, 7 Mar 2014 19:57:54 +0000"/>
                            <attachment id="12633781" name="9778-0.94-v7.txt" size="13808" author="lhofhansl" created="Mon, 10 Mar 2014 21:35:56 +0000"/>
                            <attachment id="12633786" name="9778-0.94-v8.txt" size="13877" author="lhofhansl" created="Mon, 10 Mar 2014 21:51:30 +0000"/>
                            <attachment id="12633940" name="9778-0.94-v9.txt" size="14137" author="lhofhansl" created="Tue, 11 Mar 2014 17:13:22 +0000"/>
                            <attachment id="12608658" name="9778-0.94.txt" size="885" author="lhofhansl" created="Wed, 16 Oct 2013 04:53:02 +0000"/>
                            <attachment id="12608760" name="9778-trunk-v2.txt" size="6231" author="lhofhansl" created="Wed, 16 Oct 2013 17:53:10 +0000"/>
                            <attachment id="12608804" name="9778-trunk-v3.txt" size="10975" author="lhofhansl" created="Wed, 16 Oct 2013 21:03:29 +0000"/>
                            <attachment id="12633493" name="9778-trunk-v6.txt" size="12560" author="lhofhansl" created="Sat, 8 Mar 2014 00:02:05 +0000"/>
                            <attachment id="12633776" name="9778-trunk-v7.txt" size="13913" author="lhofhansl" created="Mon, 10 Mar 2014 21:28:18 +0000"/>
                            <attachment id="12633787" name="9778-trunk-v8.txt" size="13965" author="lhofhansl" created="Mon, 10 Mar 2014 21:51:30 +0000"/>
                            <attachment id="12633941" name="9778-trunk-v9.txt" size="14208" author="lhofhansl" created="Tue, 11 Mar 2014 17:13:22 +0000"/>
                            <attachment id="12608659" name="9778-trunk.txt" size="924" author="lhofhansl" created="Wed, 16 Oct 2013 04:54:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Oct 2013 05:54:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oz7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Introduces a new scan attribute to allow a scan operation with explicit columns (Scan.addColumn) to opportunistically look ahead a few KeyValues (columns/versions) before scheduling a seek operation to seek between columns.&lt;br/&gt;
&lt;br/&gt;
A seek is efficient when it can seek past 5-10 KeyValue (columns) or 512-1024 bytes. With small rows and few versions look ahead is typically more efficient.&lt;br/&gt;
&lt;br/&gt;
API:&lt;br/&gt;
{code}&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Scan s = new Scan(...);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;s.addColumn(...);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;// instructs the RegionServer to attempt two iterations of next before scheduling a seek&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;s.setAttribute(Scan.HINT_LOOKAHEAD, Bytes.toBytes(2));&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;table.getScanner(s);&lt;br/&gt;
{code}&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>