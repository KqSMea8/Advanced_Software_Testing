<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:48:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7701/HBASE-7701.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7701] Opening regions on dead server are not reassigned quickly</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7701</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Closed regions are not removed from assignments. I am not sure if it&apos;s a general state problem, or just a small bug; for now, one manifestation is that moved region is ignored by SSH of the target server if target server dies before updating ZK.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-01-22 17:59:00,524 DEBUG [IPC Server handler 3 on 50658] master.AssignmentManager(1475): Sent CLOSE to 10.11.2.92,51231,1358906285048 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region IntegrationTestRebalanceAndKillServersTargeted,66666660,1358906196709.0200b366bc37c5afd1185f7d487c7dfb.
2013-01-22 17:59:00,997 DEBUG [RS_CLOSE_REGION-10.11.2.92,51231,1358906285048-1] handler.CloseRegionHandler(167): set region closed state in zk successfully &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region IntegrationTestRebalanceAndKillServersTargeted,66666660,1358906196709.0200b366bc37c5afd1185f7d487c7dfb. sn name: 10.11.2.92,51231,1358906285048
2013-01-22 17:59:01,088 INFO  [MASTER_CLOSE_REGION-10.11.2.92,50658,1358906192673-0] master.RegionStates(242): Region {NAME =&amp;amp;gt; &amp;amp;apos;IntegrationTestRebalanceAndKillServersTargeted,66666660,1358906196709.0200b366bc37c5afd1185f7d487c7dfb.&amp;amp;apos;, STARTKEY =&amp;amp;gt; &amp;amp;apos;66666660&amp;amp;apos;, ENDKEY =&amp;amp;gt; &amp;amp;apos;7333332c&amp;amp;apos;, ENCODED =&amp;amp;gt; 0200b366bc37c5afd1185f7d487c7dfb,} transitioned from {IntegrationTestRebalanceAndKillServersTargeted,66666660,1358906196709.0200b366bc37c5afd1185f7d487c7dfb. state=CLOSED, ts=1358906341087, server=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;} to {IntegrationTestRebalanceAndKillServersTargeted,66666660,1358906196709.0200b366bc37c5afd1185f7d487c7dfb. state=OFFLINE, ts=1358906341088, server=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}
2013-01-22 17:59:01,128 INFO  [MASTER_CLOSE_REGION-10.11.2.92,50658,1358906192673-0] master.AssignmentManager(1596): Assigning region IntegrationTestRebalanceAndKillServersTargeted,66666660,1358906196709.0200b366bc37c5afd1185f7d487c7dfb. to 10.11.2.92,50661,1358906192942

... (50661 didn&apos;t update ZK to OPEN, only OPENING)

2013-01-22 17:59:06,605 INFO  [MASTER_SERVER_OPERATIONS-10.11.2.92,50658,1358906192673-2] handler.ServerShutdownHandler(202): Reassigning 7 region(s) that 10.11.2.92,50661,1358906192942 was carrying (skipping 0 regions(s) that are already in transition)
2013-01-22 17:59:06,605 DEBUG [MASTER_SERVER_OPERATIONS-10.11.2.92,50658,1358906192673-2] handler.ServerShutdownHandler(219): Skip assigning region IntegrationTestRebalanceAndKillServersTargeted,66666660,1358906196709.0200b366bc37c5afd1185f7d487c7dfb. because it has been opened in 10.11.2.92,51231,1358906285048
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note the server in the last line - the one that has long closed the region.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629607">HBASE-7701</key>
            <summary>Opening regions on dead server are not reassigned quickly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Jan 2013 23:45:52 +0000</created>
                <updated>Mon, 23 Sep 2013 18:31:42 +0000</updated>
                            <resolved>Fri, 1 Feb 2013 18:17:38 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13565105" author="lhofhansl" created="Tue, 29 Jan 2013 05:57:35 +0000"  >&lt;p&gt;Looks bad. This code has changed a lot in trunk (as compared to 0.94). Is that a problem in both?&lt;/p&gt;</comment>
                            <comment id="13565123" author="ram_krish" created="Tue, 29 Jan 2013 06:31:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;Closed regions are not removed from assignments&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think we do this in ClosedRegionHandler.  Then in your case what i feel is before even the call back for CLOSED came to the master the SSH has started for the RS that had gone down.&lt;br/&gt;
Can you attach the entire log.  The sequence of events will help us to decode this bug.  May be the ordering of events could tell us something.&lt;/p&gt;</comment>
                            <comment id="13565638" author="sershe" created="Tue, 29 Jan 2013 18:46:19 +0000"  >&lt;p&gt;Actually, the code in MASTER_CLOSE_REGION-10.11.2.92,50658,1358906192673-0 is the ClosedRegionHandler:&lt;/p&gt;

&lt;p&gt;2013-01-22 17:59:01,082 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;MASTER_CLOSE_REGION-10.11.2.92,50658,1358906192673-0&amp;#93;&lt;/span&gt; handler.ClosedRegionHandler(94): Handling CLOSED event for 0200b366bc37c5afd1185f7d487c7dfb&lt;/p&gt;

&lt;p&gt;I&apos;ll attach the log.&lt;/p&gt;</comment>
                            <comment id="13565641" author="sershe" created="Tue, 29 Jan 2013 18:50:53 +0000"  >&lt;p&gt;I don&apos;t see regionOffline method being called from any relevant place.&lt;br/&gt;
Not sure about 0.94...&lt;/p&gt;</comment>
                            <comment id="13565648" author="sershe" created="Tue, 29 Jan 2013 18:55:44 +0000"  >&lt;p&gt;I don&apos;t have a good model of AM/region handlers in my head, but it seems to me that regionOffline call (or similar) needs to be added somewhere. I&apos;d have to read the code though to understand where (in a safe/consistent manner &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;) it should be added...&lt;br/&gt;
If someone wants to debug/knows where to add feel free to grab the jira, if not I will get back to it at some point soon.&lt;/p&gt;</comment>
                            <comment id="13565928" author="stack" created="Tue, 29 Jan 2013 23:08:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt; Any chance of taking a look at this?&lt;/p&gt;</comment>
                            <comment id="13566061" author="jxiang" created="Wed, 30 Jan 2013 01:49:13 +0000"  >&lt;p&gt;Moving region doesn&apos;t call regionOffline, right?  It will close the region, then assign it to another region server.  During the whole time, it stays in transition.&lt;/p&gt;

&lt;p&gt;What&apos;s the issue here? A region is moving from one server to another, then the target server is killed while the region is still opening there?&lt;/p&gt;</comment>
                            <comment id="13566086" author="sershe" created="Wed, 30 Jan 2013 02:21:40 +0000"  >&lt;p&gt;Yes. SSD for target server doesn&apos;t reassign the region because it&apos;s still listed as &quot;assigned&quot; for old server (not just in rits), so it gets stuck until timer picks it up.&lt;/p&gt;</comment>
                            <comment id="13566087" author="sershe" created="Wed, 30 Jan 2013 02:21:50 +0000"  >&lt;p&gt;*SSH&lt;/p&gt;</comment>
                            <comment id="13566119" author="jxiang" created="Wed, 30 Jan 2013 03:32:22 +0000"  >&lt;p&gt;Timer picks it up.  That means it is in transition. Do we know whick state it is in when the target server is killed?&lt;/p&gt;</comment>
                            <comment id="13566720" author="sershe" created="Wed, 30 Jan 2013 18:21:59 +0000"  >&lt;p&gt;OPENING... I wonder what bearing does it have though, it shouldn&apos;t be in the assignment list for old server 5 seconds after the master close handler finished regardless, imo.&lt;/p&gt;</comment>
                            <comment id="13566768" author="ram_krish" created="Wed, 30 Jan 2013 18:53:52 +0000"  >&lt;p&gt;Started looking at the logs.. But not able to infer something specific.  May be tomorrow will hunt it down if you don&apos;t crack it by that time.&lt;/p&gt;</comment>
                            <comment id="13566775" author="sershe" created="Wed, 30 Jan 2013 18:58:22 +0000"  >&lt;p&gt;I am not currently looking at this, need to finish some large patch, maybe Friday-ish&lt;/p&gt;</comment>
                            <comment id="13566808" author="jxiang" created="Wed, 30 Jan 2013 19:25:30 +0000"  >&lt;p&gt;Never mind.  I looked into the log and the timeoutmonitor picks up some regions because the region server died and these regions were opening on it.  This is expected.  I am looking into the log more.&lt;/p&gt;

&lt;p&gt;The put could fail if the region keeps moving.&lt;/p&gt;</comment>
                            <comment id="13566892" author="sershe" created="Wed, 30 Jan 2013 20:55:25 +0000"  >&lt;p&gt;Why is this expected? We should have reassigned the region in SSH, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6060&quot; title=&quot;Regions&amp;#39;s in OPENING state from failed regionservers takes a long time to recover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6060&quot;&gt;&lt;del&gt;HBASE-6060&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13566895" author="jxiang" created="Wed, 30 Jan 2013 21:05:34 +0000"  >&lt;p&gt;They are timed out by SSH.  That&apos;s how SSH reassigns them.&lt;/p&gt;</comment>
                            <comment id="13566949" author="sershe" created="Wed, 30 Jan 2013 22:01:37 +0000"  >&lt;p&gt;Hmm.. actually, no, as you can see from the last log message in description, SSH skips them because it thinks they are assigned to old server.&lt;br/&gt;
Timer only picked them up in ~25 more seconds, so region is down for some time when it shouldn&apos;t be...&lt;/p&gt;</comment>
                            <comment id="13567181" author="jxiang" created="Thu, 31 Jan 2013 00:51:44 +0000"  >&lt;p&gt;That&apos;s not because the region state is inconsistent.  It&apos;s because the timeout monitor wakes up every 30 seconds.&lt;br/&gt;
To fix this issue, we can (1) reduce the timeout monitor checking period from 30 seconds to 1 second, or (2) don&apos;t depend on timeout monitor for reassignment.&lt;/p&gt;

&lt;p&gt;I prefer (2).&lt;/p&gt;</comment>
                            <comment id="13567186" author="jxiang" created="Thu, 31 Jan 2013 00:53:51 +0000"  >&lt;p&gt;Let me post a patch soon.&lt;/p&gt;</comment>
                            <comment id="13567216" author="sershe" created="Thu, 31 Jan 2013 01:16:14 +0000"  >&lt;p&gt;Yeah, I was implying (2). I think it still it is inconsistent when region is listed as &quot;assigned&quot; on server A after master already learned that A closed it.&lt;/p&gt;</comment>
                            <comment id="13567238" author="jxiang" created="Thu, 31 Jan 2013 01:38:03 +0000"  >&lt;p&gt;Region states have info about where each region is known to be open, and the current state if it is in transition.  If a region is in transition, we don&apos;t clear out its previous assignment info on purpose.  The region mentioned in the desc was open on server A, and was moving to B.  Master knows this information.  Meta knows it is already open on B.  But this information has not got to the master yet.  So master thinks it is still in transition.  This delay is expected.&lt;/p&gt;</comment>
                            <comment id="13567882" author="sershe" created="Thu, 31 Jan 2013 18:06:10 +0000"  >&lt;p&gt;The server B crashed after putting the info into meta, before updating ZK. In fact we are in SSH for server B... so it should not be expected&lt;/p&gt;</comment>
                            <comment id="13567883" author="sershe" created="Thu, 31 Jan 2013 18:07:06 +0000"  >&lt;p&gt;&quot;Not assigning region because it&apos;s on A&quot; is clearly not correct... why would master think it&apos;s on A when A already sent CloseRegionHandler long ago?&lt;/p&gt;</comment>
                            <comment id="13567912" author="jxiang" created="Thu, 31 Jan 2013 18:35:44 +0000"  >&lt;p&gt;First version:  &lt;a href=&quot;https://reviews.apache.org/r/9200/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9200/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13568008" author="ram_krish" created="Thu, 31 Jan 2013 19:33:21 +0000"  >&lt;p&gt;@Jimmy&lt;br/&gt;
Went thro the logs and also the patch.  This is again &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6060&quot; title=&quot;Regions&amp;#39;s in OPENING state from failed regionservers takes a long time to recover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6060&quot;&gt;&lt;del&gt;HBASE-6060&lt;/del&gt;&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7521&quot; title=&quot;fix HBASE-6060 (regions stuck in opening state) in 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7521&quot;&gt;&lt;del&gt;HBASE-7521&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
The region is still opening in an RS but that RS goes down before completing the transition.  &lt;br/&gt;
Jimmy your fix seems fine to me.  Just a small comment on review board.&lt;/p&gt;</comment>
                            <comment id="13568010" author="hadoopqa" created="Thu, 31 Jan 2013 19:34:11 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12567403/trunk-7701_v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12567403/trunk-7701_v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestFromClientSideWithCoprocessor&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestAssignmentManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4275//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13568046" author="jxiang" created="Thu, 31 Jan 2013 20:01:32 +0000"  >&lt;p&gt;@Ram, you are right.  The original fix is to let timeout monitor handle it.  But that&apos;s not fast enough.&lt;/p&gt;</comment>
                            <comment id="13568238" author="jxiang" created="Thu, 31 Jan 2013 23:30:22 +0000"  >&lt;p&gt;Addressed Ram&apos;s review comments.&lt;/p&gt;</comment>
                            <comment id="13568329" author="hadoopqa" created="Fri, 1 Feb 2013 01:08:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12567461/trunk-7701_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12567461/trunk-7701_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestHTableMultiplexer&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4280//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13568616" author="nkeywal" created="Fri, 1 Feb 2013 09:59:37 +0000"  >&lt;p&gt;+1; nice one!&lt;/p&gt;</comment>
                            <comment id="13568931" author="jxiang" created="Fri, 1 Feb 2013 18:17:38 +0000"  >&lt;p&gt;Integrated into trunk. Thanks Ram and Nicolas for reviewing it.&lt;/p&gt;</comment>
                            <comment id="13569026" author="hudson" created="Fri, 1 Feb 2013 20:04:43 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3840 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3840/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3840/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7701&quot; title=&quot;Opening regions on dead server are not reassigned quickly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7701&quot;&gt;&lt;del&gt;HBASE-7701&lt;/del&gt;&lt;/a&gt; Opening regions on dead server are not reassigned quickly (Revision 1441565)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jxiang : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionStates.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13569246" author="yuzhihong@gmail.com" created="Fri, 1 Feb 2013 23:32:59 +0000"  >&lt;p&gt;TestMultiParallel failed in every trunk build since this JIRA went in.&lt;br/&gt;
This was the first occurrence:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3840/testReport/junit/org.apache.hadoop.hbase.client/TestMultiParallel/testBatchWithPut/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3840/testReport/junit/org.apache.hadoop.hbase.client/TestMultiParallel/testBatchWithPut/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;FYI&lt;/p&gt;</comment>
                            <comment id="13569280" author="jxiang" created="Fri, 1 Feb 2013 23:58:24 +0000"  >
&lt;p&gt;It didn&apos;t fail in &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3841&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3841&lt;/a&gt;, which was after this JIRA went in.&lt;br/&gt;
It didn&apos;t fail in &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3843&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3843&lt;/a&gt; either, which was after this JIRA went in too.&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3842/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3842/&lt;/a&gt; never ran through.&lt;/p&gt;</comment>
                            <comment id="13569282" author="yuzhihong@gmail.com" created="Sat, 2 Feb 2013 00:03:28 +0000"  >&lt;p&gt;#3843 passed.&lt;br/&gt;
As for #3841:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3841/testReport/junit/org.apache.hadoop.hbase.client/TestMultiParallel/testBatchWithPut/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3841/testReport/junit/org.apache.hadoop.hbase.client/TestMultiParallel/testBatchWithPut/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This change may not be the cause.&lt;br/&gt;
Let&apos;s find out &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13569292" author="jxiang" created="Sat, 2 Feb 2013 00:16:41 +0000"  >&lt;p&gt;I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7741&quot; title=&quot;Don&amp;#39;t use bulk assigner if assigning just several regions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7741&quot;&gt;&lt;del&gt;HBASE-7741&lt;/del&gt;&lt;/a&gt;, which should speed up this test a little bit.&lt;/p&gt;</comment>
                            <comment id="13569297" author="yuzhihong@gmail.com" created="Sat, 2 Feb 2013 00:20:34 +0000"  >&lt;p&gt;Browsing through previous Jenkins builds, I noticed that the runtime for successful TestMultiParallel varied wildly.&lt;br/&gt;
From ~50s to ~150s.&lt;/p&gt;</comment>
                            <comment id="13569316" author="hudson" created="Sat, 2 Feb 2013 00:39:57 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #389 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/389/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/389/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7701&quot; title=&quot;Opening regions on dead server are not reassigned quickly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7701&quot;&gt;&lt;del&gt;HBASE-7701&lt;/del&gt;&lt;/a&gt; Opening regions on dead server are not reassigned quickly (Revision 1441565)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jxiang : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionStates.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775528" author="stack" created="Mon, 23 Sep 2013 18:31:42 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12626652">HBASE-7520</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12556729">HBASE-6060</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12567023" name="TEST-org.apache.hadoop.hbase.IntegrationTestRebalanceAndKillServersTargeted.xml" size="7738510" author="sershe" created="Tue, 29 Jan 2013 18:53:15 +0000"/>
                            <attachment id="12567403" name="trunk-7701_v1.patch" size="7858" author="jxiang" created="Thu, 31 Jan 2013 18:35:44 +0000"/>
                            <attachment id="12567461" name="trunk-7701_v2.patch" size="10420" author="jxiang" created="Thu, 31 Jan 2013 23:30:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Jan 2013 05:57:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hinr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310448</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>