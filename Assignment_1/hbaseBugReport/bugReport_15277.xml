<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:01:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-15277/HBASE-15277.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-15277] TestRegionMergeTransactionOnCluster.testWholesomeMerge fails with no connection to master</title>
                <link>https://issues.apache.org/jira/browse/HBASE-15277</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;java.io.IOException: connection is closed&lt;br/&gt;
	at org.apache.hadoop.hbase.MetaTableAccessor.getMetaHTable(MetaTableAccessor.java:254)&lt;br/&gt;
	at org.apache.hadoop.hbase.MetaTableAccessor.scanMeta(MetaTableAccessor.java:773)&lt;br/&gt;
	at org.apache.hadoop.hbase.MetaTableAccessor.scanMeta(MetaTableAccessor.java:702)&lt;br/&gt;
	at org.apache.hadoop.hbase.MetaTableAccessor.getTableRegionsAndLocations(MetaTableAccessor.java:624)&lt;br/&gt;
	at org.apache.hadoop.hbase.MetaTableAccessor.getTableRegionsAndLocations(MetaTableAccessor.java:575)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestRegionMergeTransactionOnCluster.waitAndVerifyRegionNum(TestRegionMergeTransactionOnCluster.java:426)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestRegionMergeTransactionOnCluster.mergeRegionsAndVerifyRegionNum(TestRegionMergeTransactionOnCluster.java:402)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestRegionMergeTransactionOnCluster.testWholesomeMerge(TestRegionMergeTransactionOnCluster.java:139)&lt;br/&gt;
{code|&lt;/p&gt;

&lt;p&gt;Everywhere we rely on master connection being up. Instead try using the test Connection ... see how that does. Add timeouts on this flakey test too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12939615">HBASE-15277</key>
            <summary>TestRegionMergeTransactionOnCluster.testWholesomeMerge fails with no connection to master</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12923090">HBASE-15012</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Feb 2016 21:03:50 +0000</created>
                <updated>Wed, 24 Feb 2016 11:40:18 +0000</updated>
                                                            <fixVersion>2.0.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15149305" author="stack" created="Tue, 16 Feb 2016 21:11:54 +0000"  >&lt;p&gt;It happened again here: &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/jdk=latest1.7,label=yahoo-not-h2/712/testReport/junit/org.apache.hadoop.hbase.regionserver/TestRegionMergeTransactionOnCluster/testWholesomeMerge/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/jdk=latest1.7,label=yahoo-not-h2/712/testReport/junit/org.apache.hadoop.hbase.regionserver/TestRegionMergeTransactionOnCluster/testWholesomeMerge/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15149311" author="stack" created="Tue, 16 Feb 2016 21:14:40 +0000"  >&lt;p&gt;What I pushed to master branch. Leaving this open in case this use of admin connection does not fix the issue.&lt;/p&gt;</comment>
                            <comment id="15149661" author="hudson" created="Wed, 17 Feb 2016 01:28:23 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #713 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/713/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/713/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15277&quot; title=&quot;TestRegionMergeTransactionOnCluster.testWholesomeMerge fails with no connection to master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15277&quot;&gt;HBASE-15277&lt;/a&gt; TestRegionMergeTransactionOnCluster.testWholesomeMerge fails (stack: rev a8077080bab2fd4fa6bcd33c1d4b28fca4024872)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestRegionMergeTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15152821" author="stack" created="Thu, 18 Feb 2016 18:42:12 +0000"  >&lt;p&gt;I see this test hung just now here &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/jdk=latest1.8,label=yahoo-not-h2/719/consoleText&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/jdk=latest1.8,label=yahoo-not-h2/719/consoleText&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Need to add zombie catcher script back.&lt;/p&gt;

&lt;p&gt;Maybe same issue. Maybe not.&lt;/p&gt;</comment>
                            <comment id="15160269" author="stack" created="Wed, 24 Feb 2016 06:39:28 +0000"  >&lt;p&gt;All attempts at fixing this test&lt;/p&gt;</comment>
                            <comment id="15160272" author="stack" created="Wed, 24 Feb 2016 06:42:26 +0000"  >&lt;p&gt;Adding in debugging. When this suite fails, comparing against a good run, we see this in logs:&lt;/p&gt;

&lt;p&gt;2016-02-24 03:25:23,630 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;asf909.gq1.ygridcore.net,55601,1456284313298-GeneralBulkAssigner-0&amp;#93;&lt;/span&gt; master.TableStateManager(134): Unable to get table testMergeAndRestartingMaster state, probably table not exists&lt;/p&gt;

&lt;p&gt;... which is a little odd because above I see us writing out the descriptor.&lt;/p&gt;

&lt;p&gt;Let me add in printing of why we can&apos;t get the descriptor and then logging in test so can see how far it progresses.&lt;/p&gt;</comment>
                            <comment id="15160273" author="stack" created="Wed, 24 Feb 2016 06:43:28 +0000"  >&lt;p&gt;Yeah, this test is failing with regularity still.&lt;/p&gt;</comment>
                            <comment id="15160285" author="stack" created="Wed, 24 Feb 2016 06:53:12 +0000"  >&lt;p&gt;Pushed the debugging patch&lt;/p&gt;</comment>
                            <comment id="15162864" author="hudson" created="Wed, 24 Feb 2016 11:40:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #733 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/733/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/733/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15277&quot; title=&quot;TestRegionMergeTransactionOnCluster.testWholesomeMerge fails with no connection to master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15277&quot;&gt;HBASE-15277&lt;/a&gt; TestRegionMergeTransactionOnCluster.testWholesomeMerge fails (stack: rev 28cd48b673ca743d193874b2951bc995699e8e89)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/TableStateManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestRegionMergeTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12657496">HBASE-8940</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12641229">HBASE-8287</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12935298">HBASE-15192</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12788107" name="15277.patch" size="14087" author="stack" created="Tue, 16 Feb 2016 21:14:40 +0000"/>
                            <attachment id="12789389" name="debugging.patch" size="3344" author="stack" created="Wed, 24 Feb 2016 06:42:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Feb 2016 01:28:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2swsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>