<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:15:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10660/HBASE-10660.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10660] MR over snapshots can OOM when alternative blockcache is enabled</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10660</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Running &lt;tt&gt;IntegrationTestTableSnapshotInputFormat&lt;/tt&gt; with the &lt;tt&gt;BucketCache&lt;/tt&gt; enabled results in OOM. The map task is running a sequential scan over the region region it opened, so probably it&apos;s not benefiting much from a blockcache. Just disable blockcache entirely for these scans because it&apos;s likely the cache config detected is designed for a RS running on a different class of hardware than that running the map task.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698529">HBASE-10660</key>
            <summary>MR over snapshots can OOM when alternative blockcache is enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Mar 2014 23:36:42 +0000</created>
                <updated>Sat, 21 Feb 2015 23:33:55 +0000</updated>
                            <resolved>Sat, 8 Mar 2014 00:36:57 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.99.0</version>
                                    <fixVersion>0.98.1</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13918735" author="ndimiduk" created="Mon, 3 Mar 2014 23:39:59 +0000"  >&lt;p&gt;Simple patch.&lt;/p&gt;</comment>
                            <comment id="13918738" author="ndimiduk" created="Mon, 3 Mar 2014 23:41:16 +0000"  >&lt;p&gt;ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;. Any thoughts on how the complete lack of a BlockCache will impact consumption of index/meta blocks for the purposes of this scan?&lt;/p&gt;</comment>
                            <comment id="13918841" author="enis" created="Tue, 4 Mar 2014 00:48:59 +0000"  >&lt;p&gt;Lars suggested disabling caching data blocks in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10642&quot; title=&quot;Add M/R over snapshots to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10642&quot;&gt;&lt;del&gt;HBASE-10642&lt;/del&gt;&lt;/a&gt;. I think it makes sense to do it. Not sure whether completely disabling the block cache would have any impact on the scan, because we may still be going back to the index block to continue the scan. I did not check that. &lt;/p&gt;</comment>
                            <comment id="13918897" author="lhofhansl" created="Tue, 4 Mar 2014 01:30:47 +0000"  >&lt;p&gt;We should just disable the caching of data blocks (i.e. just setting cacheBlocks to false on the Scan object used). We still want the index blocks cached (typically a few MB are enough for those) otherwise scan performance will probably be quite bad.&lt;/p&gt;</comment>
                            <comment id="13919013" author="hadoopqa" created="Tue, 4 Mar 2014 04:50:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12632384/HBASE-10660.00.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12632384/HBASE-10660.00.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12632384&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8871//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8871//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8871//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8871//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13921577" author="ndimiduk" created="Wed, 5 Mar 2014 23:05:39 +0000"  >&lt;p&gt;This version enforces creation of an LruBlockCache instance with default configuration. Testing is primitive.&lt;/p&gt;</comment>
                            <comment id="13921601" author="ndimiduk" created="Wed, 5 Mar 2014 23:16:10 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; I&apos;m targeting this one for 0.98 as well as trunk.&lt;/p&gt;</comment>
                            <comment id="13921653" author="lhofhansl" created="Wed, 5 Mar 2014 23:50:04 +0000"  >&lt;p&gt;I think you still need to do &lt;tt&gt;setCacheBlocks(false);&lt;/tt&gt; on the passed Scan object, otherwise you&apos;ll fill the block cache with data blocks that will never be revisited again.&lt;/p&gt;</comment>
                            <comment id="13921671" author="ndimiduk" created="Thu, 6 Mar 2014 00:02:05 +0000"  >&lt;p&gt;Thanks for the reminder, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13921690" author="lhofhansl" created="Thu, 6 Mar 2014 00:13:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13921730" author="lhofhansl" created="Thu, 6 Mar 2014 00:48:24 +0000"  >&lt;p&gt;Might even consider not using the OS cache (&lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4817&quot; title=&quot;make HDFS advisory caching configurable on a per-file basis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4817&quot;&gt;&lt;del&gt;HDFS-4817&lt;/del&gt;&lt;/a&gt; in Hadoop 2.2 and later) in this case.&lt;/p&gt;</comment>
                            <comment id="13921755" author="enis" created="Thu, 6 Mar 2014 00:56:07 +0000"  >&lt;p&gt;+1. &lt;/p&gt;</comment>
                            <comment id="13921807" author="ndimiduk" created="Thu, 6 Mar 2014 01:08:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;Might even consider not using the OS cache (&lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4817&quot; title=&quot;make HDFS advisory caching configurable on a per-file basis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4817&quot;&gt;&lt;del&gt;HDFS-4817&lt;/del&gt;&lt;/a&gt; in Hadoop 2.2 and later) in this case.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10689&quot; title=&quot;Explore advisory caching for MR over snapshot scans&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10689&quot;&gt;HBASE-10689&lt;/a&gt; for tracking that improvement.&lt;/p&gt;</comment>
                            <comment id="13921861" author="hadoopqa" created="Thu, 6 Mar 2014 01:42:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12632970/HBASE-10660.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12632970/HBASE-10660.02.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12632970&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 hadoop1.0&lt;/font&gt;.  The patch failed to compile against the hadoop 1.0 profile.&lt;br/&gt;
    Here is snippet of errors:&lt;/p&gt;
    &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) on project hbase-server: Compilation failure: Compilation failure:
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java:[313,26] cannot find symbol
[ERROR] symbol  : method unset(java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)
[ERROR] location: class org.apache.hadoop.conf.Configuration
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java:[314,26] cannot find symbol
[ERROR] symbol  : method unset(java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)
--
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) on project hbase-server: Compilation failure
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
--
Caused by: org.apache.maven.plugin.CompilationFailureException: Compilation failure
	at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:729)
	at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	... 19 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8905//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8905//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13922506" author="apurtell" created="Thu, 6 Mar 2014 13:40:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol  : method unset(java.lang.String)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I ran into Configuration#unset not being available in Hadoop 1 on some past work also. I think you can achieve the same effect by using Configuration#set(name,&quot;&quot;).&lt;/p&gt;

&lt;p&gt;+1 for 0.98 provided the compilation issue with Hadoop 1 is fixed.&lt;/p&gt;</comment>
                            <comment id="13922870" author="ndimiduk" created="Thu, 6 Mar 2014 18:45:04 +0000"  >&lt;p&gt;Once more, using hadoop-1 compatible API.&lt;/p&gt;</comment>
                            <comment id="13922901" author="lhofhansl" created="Thu, 6 Mar 2014 19:07:25 +0000"  >&lt;p&gt;Still +1 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13923101" author="hadoopqa" created="Thu, 6 Mar 2014 21:34:21 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12633201/HBASE-10660.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12633201/HBASE-10660.03.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12633201&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8916//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13923136" author="ndimiduk" created="Thu, 6 Mar 2014 22:04:11 +0000"  >&lt;p&gt;Canceling patch as it isn&apos;t working on my test cluster.&lt;/p&gt;</comment>
                            <comment id="13923225" author="stack" created="Thu, 6 Mar 2014 23:08:20 +0000"  >&lt;p&gt;+1 for 0.96 too&lt;/p&gt;</comment>
                            <comment id="13924549" author="ndimiduk" created="Sat, 8 Mar 2014 00:22:16 +0000"  >&lt;p&gt;Patch works as expected. I had the wrong jar deployed.&lt;/p&gt;

&lt;p&gt;Mapper logs before patch:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-03-08 00:09:37,945 INFO [StoreOpener-cdbd3f22b30236572090d30e7a692c4e-1] org.apache.hadoop.hbase.util.ByteBufferArray: Allocating buffers total=980 MB , sizePerBuffer=4 MB, count=245
2014-03-08 00:09:40,276 INFO [StoreOpener-cdbd3f22b30236572090d30e7a692c4e-1] org.apache.hadoop.hbase.io.hfile.bucket.BucketCache: Started bucket cache
2014-03-08 00:09:40,277 INFO [StoreOpener-cdbd3f22b30236572090d30e7a692c4e-1] org.apache.hadoop.hbase.io.hfile.CacheConfig: Allocating LruBlockCache with maximum size 420.0 M
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mapper logs after patch:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-03-08 00:01:54,250 INFO [StoreOpener-e8c19c26e2d51cf67dec8ae4c9e5ac04-1] org.apache.hadoop.hbase.io.hfile.CacheConfig: Allocating LruBlockCache with maximum size 246.5 M
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13924552" author="ndimiduk" created="Sat, 8 Mar 2014 00:22:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; 0.96 doesn&apos;t have MR over snapshot files, does it?&lt;/p&gt;</comment>
                            <comment id="13924560" author="stack" created="Sat, 8 Mar 2014 00:28:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; not yet... coming.&lt;/p&gt;</comment>
                            <comment id="13924563" author="ndimiduk" created="Sat, 8 Mar 2014 00:32:26 +0000"  >&lt;p&gt;Looks like you&apos;ll have to wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10642&quot; title=&quot;Add M/R over snapshots to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10642&quot;&gt;&lt;del&gt;HBASE-10642&lt;/del&gt;&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13924568" author="ndimiduk" created="Sat, 8 Mar 2014 00:36:57 +0000"  >&lt;p&gt;Committed to 0.98 and trunk. We can backport to 0.96 and 0.94 when the time comes.&lt;/p&gt;</comment>
                            <comment id="13924707" author="hudson" created="Sat, 8 Mar 2014 04:12:28 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4990 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4990/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4990/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10660&quot; title=&quot;MR over snapshots can OOM when alternative blockcache is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10660&quot;&gt;&lt;del&gt;HBASE-10660&lt;/del&gt;&lt;/a&gt; MR over snapshots can OOM when alternative blockcache is enabled (ndimiduk: rev 1575454)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableSnapshotInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableSnapshotInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13924734" author="hudson" created="Sat, 8 Mar 2014 05:14:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #210 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/210/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/210/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10660&quot; title=&quot;MR over snapshots can OOM when alternative blockcache is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10660&quot;&gt;&lt;del&gt;HBASE-10660&lt;/del&gt;&lt;/a&gt; MR over snapshots can OOM when alternative blockcache is enabled (ndimiduk: rev 1575455)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableSnapshotInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableSnapshotInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13924738" author="hudson" created="Sat, 8 Mar 2014 05:27:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #197 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/197/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/197/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10660&quot; title=&quot;MR over snapshots can OOM when alternative blockcache is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10660&quot;&gt;&lt;del&gt;HBASE-10660&lt;/del&gt;&lt;/a&gt; MR over snapshots can OOM when alternative blockcache is enabled (ndimiduk: rev 1575455)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableSnapshotInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableSnapshotInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13925072" author="hudson" created="Sun, 9 Mar 2014 01:13:14 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #111 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/111/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/111/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10660&quot; title=&quot;MR over snapshots can OOM when alternative blockcache is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10660&quot;&gt;&lt;del&gt;HBASE-10660&lt;/del&gt;&lt;/a&gt; MR over snapshots can OOM when alternative blockcache is enabled (ndimiduk: rev 1575454)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableSnapshotInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableSnapshotInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331154" author="enis" created="Sat, 21 Feb 2015 23:33:55 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12632384" name="HBASE-10660.00.patch" size="1778" author="ndimiduk" created="Mon, 3 Mar 2014 23:39:59 +0000"/>
                            <attachment id="12632938" name="HBASE-10660.01.patch" size="6060" author="ndimiduk" created="Wed, 5 Mar 2014 23:05:39 +0000"/>
                            <attachment id="12632970" name="HBASE-10660.02.patch" size="6953" author="ndimiduk" created="Thu, 6 Mar 2014 00:02:05 +0000"/>
                            <attachment id="12633201" name="HBASE-10660.03.patch" size="6983" author="ndimiduk" created="Thu, 6 Mar 2014 18:45:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 Mar 2014 00:48:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376887</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sy07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>