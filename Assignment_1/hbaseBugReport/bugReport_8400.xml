<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:54:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8400/HBASE-8400.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8400] Load coprocessor jar from various protocols (HTTP, HTTPS, FTP, etc.)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8400</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In some application testing and production environment, after developed coprocessors and generated jars, currently we need to transfer them to hdfs first, then specify the URI in table descriptor to point to HDFS compatible addresses of jars. Common used HTTP/HTTPS/FTP or other protocols were not supported yet? To save time and make the life easier without transferring from http/ftp or other servers, just modified the CoprocessorHost to use http/ftp url connection (http and ftp servers are the most cases need to be support) to stream jars to coprocessor jar spaces automatically.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12644153">HBASE-8400</key>
            <summary>Load coprocessor jar from various protocols (HTTP, HTTPS, FTP, etc.)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="julian.zhou">Julian Zhou</assignee>
                                    <reporter username="julian.zhou">Julian Zhou</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Apr 2013 16:44:39 +0000</created>
                <updated>Wed, 21 Aug 2013 21:33:53 +0000</updated>
                                            <version>0.94.3</version>
                    <version>0.98.0</version>
                                                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13639445" author="apurtell" created="Tue, 23 Apr 2013 19:22:10 +0000"  >&lt;p&gt;I believe what you are asking for is an alternative classloader that fetches JARs from some other type of storage. I think we can make which classloader to use for coprocessors configurable. We are consolidating classloaders in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8327&quot; title=&quot;Consolidate class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8327&quot;&gt;&lt;del&gt;HBASE-8327&lt;/del&gt;&lt;/a&gt;. You should start there.&lt;/p&gt;</comment>
                            <comment id="13640038" author="julian.zhou" created="Wed, 24 Apr 2013 03:27:39 +0000"  >&lt;p&gt;Thanks Andrew for pointing and connecting.&lt;br/&gt;
Just studied the 8327&apos;s patch. Looks like the consolidation in it mainly located in CoprocessorClassLoader. CoprocessorHost invokes CoprocessorClassLoader#getClassLoader, in which, when #init, it invokes #copyToLocalFile to copy the jar to local first, then do #addURL for both jar or jar entries in it if any. Could we be one of the options as below:&lt;br/&gt;
1) in CoprocessorClassLoader#init, check the scheme in the passed in &quot;path&quot;, if &quot;http/https/ftp&quot;, then use http/ftp connection to fetch remote jars streaming to local first, if not, still goes #copyToLocalFile, later logic remains unchanged. (In my testing environment, I go this way currently);&lt;br/&gt;
2) in CoprocessorClassLoader#init, check the scheme in the passed in &quot;path&quot;, if &quot;http/https/ftp&quot;, #addURL of it directly for network loading, which would not keep a local copy in coprocessor jar space at runtime. In this approach, logic of getting jar entries within the parent jar would not be support?&lt;br/&gt;
What&apos;s your idea for these options or other options?&lt;/p&gt;

&lt;p&gt;Thanks~&lt;/p&gt;</comment>
                            <comment id="13660364" author="lhofhansl" created="Fri, 17 May 2013 05:56:32 +0000"  >&lt;p&gt;Moving out to 0.94.9.&lt;/p&gt;</comment>
                            <comment id="13672228" author="giacomotaylor" created="Sat, 1 Jun 2013 20:16:45 +0000"  >&lt;p&gt;We&apos;re trying to ease the installation of Phoenix (&lt;a href=&quot;https://github.com/forcedotcom/phoenix&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/forcedotcom/phoenix&lt;/a&gt;) and this JIRA looks like it may help. Is it actively being worked on?&lt;/p&gt;

&lt;p&gt;Currently we require that the phoenix jar be copied into the HBase lib dir of every region server, followed by a restart. For some background, Phoenix uses both coprocessors and custom filters. These are just the tip of the iceberg in our SQL layer, so to speak. There&apos;s a lot of shared/foundational phoenix code being used by these coprocessors and filters that come along with them - our type system, expression evaluation, schema interpretation, throttling code, memory management, etc. So when we say we&apos;d like to upgrade our coprocessor and custom filters to a new version, that means all the foundational classes under it have changed as well.&lt;/p&gt;

&lt;p&gt;If we use the feature provided by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1936&quot; title=&quot;ClassLoader that loads from hdfs; useful adding filters to classpath without having to restart services&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1936&quot;&gt;&lt;del&gt;HBASE-1936&lt;/del&gt;&lt;/a&gt;, we&apos;re not sure we&apos;re easing the burden on our users, since users will still need to:&lt;br/&gt;
1) update the hbase-sites.xml on each region server to set the hbase.dynamics.jar.dir path of the jar&lt;br/&gt;
2) copy the phoenix jar to hdfs&lt;br/&gt;
3) make a sym link to the new phoenix jar&lt;br/&gt;
4) get a rolling restart to be done on the cluster&lt;/p&gt;

&lt;p&gt;My fear would be that (1) would be error prone and difficult for a user to convince his admin to do, and for (2) &amp;amp; (3) the user wouldn&apos;t have the necessary perms. And (4), we&apos;ll probably just have to live with, but in a utopia, we could just have the new jar be used for new coprocessor/filter invocations.&lt;/p&gt;

&lt;p&gt;My question: how close can we come to automating all of this to the point where we could have a phoenix install script that looks like this:&lt;/p&gt;

&lt;p&gt;hbase install phoenix-1.2.jar&lt;/p&gt;

&lt;p&gt;Would this JIRA get us there? Any other missing pieces? We&apos;d be happy to be a guinea pig/test case for how to solve this issue from an application/platform standpoint.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13687597" author="stack" created="Wed, 19 Jun 2013 04:31:35 +0000"  >&lt;p&gt;Moving out an improvement that is not being worked on.  Move it back if this situation changes.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12642139">HBASE-8327</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Apr 2013 19:22:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jzlj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Phoenix</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>