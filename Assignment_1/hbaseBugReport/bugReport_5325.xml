<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:26:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5325/HBASE-5325.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5325] Expose basic information about the master-status through jmx beans </title>
                <link>https://issues.apache.org/jira/browse/HBASE-5325</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Similar to the Namenode and Jobtracker, it would be good if the hbase master could expose some information through mbeans.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12541011">HBASE-5325</key>
            <summary>Expose basic information about the master-status through jmx beans </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hitesh">Hitesh Shah</assignee>
                                    <reporter username="hitesh">Hitesh Shah</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Feb 2012 22:35:46 +0000</created>
                <updated>Fri, 12 Oct 2012 05:34:56 +0000</updated>
                            <resolved>Fri, 24 Feb 2012 21:09:06 +0000</resolved>
                                                    <fixVersion>0.92.1</fixVersion>
                    <fixVersion>0.94.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13199304" author="hitesh" created="Thu, 2 Feb 2012 22:36:36 +0000"  >&lt;p&gt;Today, all that is exposed is the version information for hadoop and hbase. It might be useful to expose the additional information that is also displayed on the /master-status page.&lt;/p&gt;</comment>
                            <comment id="13199331" author="hitesh" created="Thu, 2 Feb 2012 22:57:58 +0000"  >&lt;p&gt;Attached is a preliminary patch which adds a new hbasemasterinfo bean. Please let me know your comments/thoughts on whether this is the right approach/direction. &lt;/p&gt;

&lt;p&gt;If it looks good, I can add something similar for the region server ( and tests, etc ). &lt;/p&gt;

&lt;p&gt;Using a hacked patch to display the /jmx output, this is what the information would look like: &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;{&lt;br/&gt;
    &quot;name&quot; : &quot;Hadoop:service=HBase,name=HBaseMasterInfo&quot;,&lt;br/&gt;
    &quot;modelerType&quot; : &quot;org.apache.hadoop.hbase.master.HMasterCommandLine$LocalHMaster&quot;,&lt;br/&gt;
    &quot;ClusterId&quot; : &quot;d24914d7-75d3-4dcc-9e6f-0d7770833993&quot;,&lt;br/&gt;
    &quot;ZookeeperQuorumInfo&quot; : &quot;localhost:2181&quot;,&lt;br/&gt;
    &quot;CoprocessorsInfo&quot; : &quot;[]&quot;,&lt;br/&gt;
    &quot;MasterStartTime&quot; : 1328223257723,&lt;br/&gt;
    &quot;MasterActiveTime&quot; : 1328223257725,&lt;br/&gt;
    &quot;RegionServers&quot; : &quot;{\&quot;10.10.10.128:57366\&quot;:{\&quot;requestsPerSecond\&quot;:0,\&quot;startcode\&quot;:1328223257711,\&quot;maxHeapMB\&quot;:987,\&quot;numberOfOnlineRegions\&quot;:2,\&quot;usedHeapMB\&quot;:34}}&quot;,&lt;br/&gt;
    &quot;DeadRegionServers&quot; : &quot;[]&quot;,&lt;br/&gt;
    &quot;RegionsInTransition&quot; : &quot;{}&quot;&lt;br/&gt;
  }&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13199376" author="zhihyu@ebaysf.com" created="Thu, 2 Feb 2012 23:50:10 +0000"  >&lt;p&gt;If you can upload patch to &lt;a href=&quot;https://reviews.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org&lt;/a&gt;, that would help reviewer provide better review comments.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (mxBean != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+      MBeans.unregister(mxBean);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please assign null to mxBean after unregistration.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    mxBean = MBeans.register(&lt;span class=&quot;code-quote&quot;&gt;&quot;HBase&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;HBaseMasterInfo&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;For the second parameter, &quot;MasterInfo&quot; should be good enough.&lt;/p&gt;

&lt;p&gt;There is no need to include year in HBaseMasterMXBean.java header.&lt;br/&gt;
There are extra whitespaces in this file.&lt;/p&gt;</comment>
                            <comment id="13199439" author="hitesh" created="Fri, 3 Feb 2012 01:04:15 +0000"  >&lt;p&gt;Thanks for the quick look, @Zhihong. If you don&apos;t have any major concerns, I will go ahead and provide a full patch for review with tests for both the master and region server implementations. If you do see something which strikes you, I would like to get a better understanding about your concerns before I start making changes for the region server. Please let me know accordingly. &lt;/p&gt;</comment>
                            <comment id="13199477" author="zhihyu@ebaysf.com" created="Fri, 3 Feb 2012 02:07:44 +0000"  >&lt;p&gt;I don&apos;t have major concern.&lt;br/&gt;
I think we should mention JSON format for return values of several methods in HBaseMasterMXBean.&lt;/p&gt;

&lt;p&gt;Of course, other people&apos;s opinions are welcome.&lt;/p&gt;</comment>
                            <comment id="13199534" author="stack" created="Fri, 3 Feb 2012 05:43:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;Similar to the Namenode and Jobtracker, it would be good if the hbase master could expose some information through mbeans.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can we go further (smile)?&lt;/p&gt;

&lt;p&gt;Would be cool if when a regionserver registered, master started listening (or asking) regionservers for their metrics via jmx.  Master could use the collected info when it displays its UI (Perhaps it would make sense to do a cluster federated mbean that has the sum of all regionserver jmx metrics and use this displaying master ui &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; plus a master mbean with the master&apos;s vitals).  If we got this working, using jmx to query vitals, perhaps we could undo the rpc that the regionserver does to the master every second or so to tell it about its current load since HServerLoad is essentially duplicating metrics (Static or near-static properties that HServerLoad reports such as loaded coprocessors could be hoisted up as data in the regionservers ephemeral znode as protobufs/json data &amp;#8211; we could add to whats in HServerLoad reporting system vitals too like RAM, CPUs, Disks.  Master could do the same hoisting vitals up into its zk znode... and/or emit in an mbean).&lt;/p&gt;</comment>
                            <comment id="13199542" author="stack" created="Fri, 3 Feb 2012 06:08:53 +0000"  >&lt;p&gt;Can the bean implementation be outside of the master?  Just wondering if we can save having HMaster implement yet another Interface (as I&apos;m sure you&apos;ve noticed, this is a bloated class much in need a refactor; adding more stuff to this class makes the DOR &amp;#8211; Day Of Refactor &amp;#8211; an even longer day.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    mxBean = MBeans.register(&lt;span class=&quot;code-quote&quot;&gt;&quot;HBase&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;HBaseMasterInfo&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is this a good name for our bean?  Should it be at org.apache.hbase &amp;#8211; I don&apos;t remember how you do that &amp;#8211; and the bean name be just Master (I can imagine one day the ServerManager and the AssignmentManager registering mbeans...)  &lt;/p&gt;

&lt;p&gt;On JSON&apos;ing it, is that the way to go?  Can we not make MBeans instead &amp;#8211; and MBean per regionserver or a an MBean pointer to list of all registered MBeans (This would be a federated MBean?  Pardon me if this is all nonsense, its a while since I&apos;ve done this stuff).  So, if CoProcessors implemented MBean, you could output list of MBeans as result of query on Master getCoProcessors.  &lt;/p&gt;

&lt;p&gt;getDeadRegionServers should return a List of Strings... or whatever the MBean digestible format of an MBean list of Strings is.&lt;/p&gt;

&lt;p&gt;Similar getRegionsInTransition.&lt;/p&gt;

&lt;p&gt;Else patch looks great.&lt;/p&gt;

&lt;p&gt;What you think about the MBean being actionable; i.e. setters so we could change certain values (not regionservers or coprocessors, but maybe future stuff....)&lt;/p&gt;

&lt;p&gt;Patch looks great.  Thanks for digging in here.&lt;/p&gt;
</comment>
                            <comment id="13199978" author="enis" created="Fri, 3 Feb 2012 19:44:08 +0000"  >&lt;p&gt;In the patch, instead of returning Json data from HMaster methods, can we instead return the actual data types, but let the JMXJsonServlet deal with JSON&apos;ifying the output? For example:&lt;br/&gt;
public Map&amp;lt;String,Map&amp;lt;String,String&amp;gt;&amp;gt; getRegionServers(). &lt;/p&gt;

&lt;p&gt;I haven&apos;t tested it but according to the MXBean specification, Maps, Lists, and primitive java types should be opentype compatible. &lt;/p&gt;</comment>
                            <comment id="13200015" author="enis" created="Fri, 3 Feb 2012 20:12:34 +0000"  >&lt;p&gt;@Stack, &lt;br/&gt;
I think, what you are suggesting for registering multiple MBeans, and co-processor Mbeans can be best handled after we migrated to the metrics2 system (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4050&quot; title=&quot;Update HBase metrics framework to metrics2 framework&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4050&quot;&gt;&lt;del&gt;HBASE-4050&lt;/del&gt;&lt;/a&gt;), no?. I agree that master/rs mbeans incorporate more functionality that just metrics, but we can start with the metrics aggregation design and go from there.&lt;/p&gt;</comment>
                            <comment id="13200034" author="zhihyu@ebaysf.com" created="Fri, 3 Feb 2012 20:54:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6728&quot; title=&quot;Overhaul metrics framework&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6728&quot;&gt;&lt;del&gt;HADOOP-6728&lt;/del&gt;&lt;/a&gt; which is referred to by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4050&quot; title=&quot;Update HBase metrics framework to metrics2 framework&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4050&quot;&gt;&lt;del&gt;HBASE-4050&lt;/del&gt;&lt;/a&gt; has been dormant for more than half year.&lt;/p&gt;</comment>
                            <comment id="13200982" author="jiraposter@reviews.apache.org" created="Mon, 6 Feb 2012 00:55:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3762/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3762/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for Ted Yu.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Beans for Master and Region Server. &lt;/p&gt;

&lt;p&gt;For now this are just info-beans ( read-only ). &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; title=&quot;Expose basic information about the master-status through jmx beans &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5325&quot;&gt;&lt;del&gt;HBASE-5325&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5325&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/master/HBaseMasterInfo.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/HMaster.java 9d21903 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/HBaseMasterMXBean.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/HbaseRegionServerMXBean.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HBaseRegionServerInfo.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java 5cb606f &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestHBaseMasterInfo.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestHBaseRegionServerInfo.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3762/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3762/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Hitesh&lt;/p&gt;
</comment>
                            <comment id="13200984" author="jiraposter@reviews.apache.org" created="Mon, 6 Feb 2012 00:57:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3762/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3762/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2012-02-06 00:57:48.670166)&lt;/p&gt;


&lt;p&gt;Review request for Ted Yu.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Missed minor change in doc.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Beans for Master and Region Server. &lt;/p&gt;

&lt;p&gt;For now this are just info-beans ( read-only ). &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; title=&quot;Expose basic information about the master-status through jmx beans &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5325&quot;&gt;&lt;del&gt;HBASE-5325&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5325&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/master/HBaseMasterInfo.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/HMaster.java 9d21903 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/HBaseMasterMXBean.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/HbaseRegionServerMXBean.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HBaseRegionServerInfo.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java 5cb606f &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestHBaseMasterInfo.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestHBaseRegionServerInfo.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3762/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3762/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Hitesh&lt;/p&gt;
</comment>
                            <comment id="13200990" author="hitesh" created="Mon, 6 Feb 2012 01:25:18 +0000"  >&lt;p&gt;Based on earlier comments, I made some modifications to the original patch I had and added a minor impl for the RegionServer.&lt;/p&gt;

&lt;p&gt;@Stack, thanks for the comments. Having each component potentially implements its own beans to expose information ( and potentially allow the object to be managed ) would likely be a good direction to go into. &lt;/p&gt;

&lt;p&gt;However, I had some questions in terms of using jmx to exchange information between the master and the region servers. I am still digging into jmx internals but I could not find anything which mentions it as an option for pushing information. Having the master pull information from all region servers using jmx ( or any other point to point protocol ) would likely be a bad idea from a performance point of view. Also, was your intention to have the HMaster be a metric aggregator for the RegionServers&apos; metrics? Just wondering whether this would be something which is better left to be dealt with by other metric aggregation systems? Having this data available in a central place like the HMaster definitely helps but it also requires a lot of overhead to collect and aggregate the required information.&lt;/p&gt;

&lt;p&gt;I still need to look at nesting of mbeans from various components and also need to look at the hbase code in more detail to see what kind of management options could be exposed via jmx. Any pointers would be helpful.&lt;/p&gt;</comment>
                            <comment id="13200995" author="hitesh" created="Mon, 6 Feb 2012 01:38:29 +0000"  >&lt;p&gt;Re-posting earlier comment: &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
{
    &quot;name&quot; : &quot;Hadoop:service=HBase,name=MasterInfo&quot;,
    &quot;modelerType&quot; : &quot;org.apache.hadoop.hbase.master.HBaseMasterInfo&quot;,
    &quot;ClusterId&quot; : &quot;d24914d7-75d3-4dcc-9e6f-0d7770833993&quot;,
    &quot;MasterStartTime&quot; : 1328492020506,
    &quot;MasterActiveTime&quot; : 1328492020508,
    &quot;Coprocessors&quot; : [ ],
    &quot;AverageLoad&quot; : 2.0,
    &quot;RegionsInTransition&quot; : [ ],
    &quot;RegionServers&quot; : [ {
      &quot;maxHeapMB&quot; : 987,
      &quot;numberOfOnlineRegions&quot; : 2,
      &quot;regionServer&quot; : &quot;unknowne4ce8f149fb6:63509&quot;,
      &quot;requestsPerSecond&quot; : 13,
      &quot;startCode&quot; : 1328492020493,
      &quot;usedHeapMB&quot; : 29
    } ],
    &quot;ZookeeperQuorum&quot; : &quot;localhost:2181&quot;,
    &quot;DeadRegionServers&quot; : [ ]
}

{
    &quot;name&quot; : &quot;Hadoop:service=HBase,name=RegionServerInfo&quot;,
    &quot;modelerType&quot; : &quot;org.apache.hadoop.hbase.regionserver.HBaseRegionServerInfo&quot;,
    &quot;Coprocessors&quot; : [ ],
    &quot;StartCode&quot; : 1328492020493,
    &quot;HBaseMaster&quot; : &quot;unknowne4ce8f149fb6:60010&quot;,
    &quot;ZookeeperQuorum&quot; : &quot;localhost:2181&quot;
}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13201009" author="zhihyu@ebaysf.com" created="Mon, 6 Feb 2012 03:21:23 +0000"  >&lt;p&gt;@Hitesh:&lt;br/&gt;
Thanks for working over the weekend.&lt;/p&gt;

&lt;p&gt;Please specify hbase in Groups field on review board in the future.&lt;/p&gt;</comment>
                            <comment id="13201010" author="hitesh" created="Mon, 6 Feb 2012 03:31:13 +0000"  >&lt;p&gt;Forgot to mention another point with respect to an earlier comment by @stack. Is one of the items pending in the backlog to change the region servers to push more information about their state to Zookeeper? If that is the case, pulling it into the master from there and exposing it via another bean should be trivial. But like I said, if the data being pushed is more metric-centric, it will be interesting to see what overhead the master would need to incure to aggregate all the metrics and keep them in sync on a regular interval. &lt;/p&gt;</comment>
                            <comment id="13202108" author="stack" created="Tue, 7 Feb 2012 06:19:18 +0000"  >&lt;p&gt;@Enis metrics2 seems a bit out there for us (hadoop 0.23?). We want to run on 0.23 and 1.0 and 2.0, etc., so it&apos;d be a while before we could lean on it.  metrics2 has facility that would help? (I&apos;ve not studied it).&lt;/p&gt;

&lt;p&gt;@Hitesh Regards &quot;I am still digging into jmx internals but I could not find anything which mentions it as an option for pushing information.&quot;, even if there was a means (IIRC there is but am likely off), I think we&apos;d have master pulling.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Having the master pull information from all region servers using jmx ( or any other point to point protocol ) would likely be a bad idea from a performance point of view.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Currently every regionserver sends status every (configurable) second.  Its a fat Writable serialization of each regionservers counters and current state.  IIRC, this mechanism runs mostly independent and beside our metrics (so there&apos;ll be Writable serialization of regionstate and if something like tsdb is running, there&apos;ll be a JMX serialization of server stating happening too).  Would be an improvement if we did metrics reporting one way only if possible.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Also, was your intention to have the HMaster be a metric aggregator for the RegionServers&apos; metrics?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It does this now for key stats.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I still need to look at nesting of mbeans from various components and also need to look at the hbase code in more detail to see what kind of management options could be exposed via jmx.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;d be interested in what you think.  We need to figure being able to config a running cluster; i.e. change Configuration values and have hbase notice.  Having this go via jmx would likely be like taking the &apos;killarney road to dingle&apos; as my grandma used to say (its shorter if you take the tralee road) so maybe jmx is read-only rather than &apos;management&apos;.&lt;/p&gt;</comment>
                            <comment id="13204929" author="enis" created="Thu, 9 Feb 2012 21:57:47 +0000"  >&lt;p&gt;My 2 cents: &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;@Enis metrics2 seems a bit out there for us (hadoop 0.23?). We want to run on 0.23 and 1.0 and 2.0, etc., so it&apos;d be a while before we could lean on it. metrics2 has facility that would help? (I&apos;ve not studied it).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It seems that Hadoop-1.0 includes some of the metrics2 changes  but not all, so I agree that without going full 0.23, it is not possible to use metrics2. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;d be interested in what you think. We need to figure being able to config a running cluster; i.e. change Configuration values and have hbase notice. Having this go via jmx would likely be like taking the &apos;killarney road to dingle&apos; as my grandma used to say (its shorter if you take the tralee road) so maybe jmx is read-only rather than &apos;management&apos;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;With an offline discussion with Hitesh, we completely agree on the roadmap for managing the cluster configuration in one place, but I think JMX is not suitable for this. We can keep the current approach of read-only JMX beans, and deal with the issue of configuration management in another ticket. I&apos;ll try to read up on how other distributed software projects approach this problem. &lt;/p&gt;

&lt;p&gt;I totally agree that we might want to aggregate some of the metrics in master, and possibly redesign the HServerLoad using metrics, but we can deal with that in yet another issue. Since all of the metrics are collected via MasterMetrics, and exposed via MasterStatistics, I think we will not need any API change for that, no? &lt;/p&gt;

&lt;p&gt;I think the current patch, as it is, is enough for defining a base for future work. It only exposes data that is available in the webapi, and with it we would have 3 API endpoints/JMX beans that we can query relevant info. &lt;br/&gt;
HBaseInfo for common information &lt;br/&gt;
HBaseMasterInfo for master level status information&lt;br/&gt;
MasterStatistics for metrics &lt;/p&gt;</comment>
                            <comment id="13205139" author="stack" created="Fri, 10 Feb 2012 01:34:37 +0000"  >&lt;p&gt;Ok.  I can go along w/ cutting the scope of this issue back to its original intent (smile &amp;#8211; sorry for the hairbraining).&lt;/p&gt;

&lt;p&gt;I was going to make a comment that we have the jmx &apos;model&apos; not be a completely new one &amp;#8211; that it instead pick the existing model (though admittedly its a bit messy) &amp;#8211; but it looks like your hand has been forced some already.   I was going to suggest that we name the mbean for metrics MasterMetrics rather than MasterStatistics but I see this an existing MBean (Who named our mbean &apos;Master&apos; and &apos;MasterStatistics&apos; &amp;#8211; our history doesn&apos;t say... they don&apos;t seem like good names... why not org.apache.hbase prefix... etc.)&lt;/p&gt;

&lt;p&gt;Why is HBaseMasterMXBean in hbase.metrics and not in hbase.master.metrics?  Ditto HbaseRegionServerMXBean&lt;/p&gt;

&lt;p&gt;You don&apos;t need these in your new files:&lt;/p&gt;

&lt;p&gt;+ * Copyright 2012 The Apache Software Foundation&lt;/p&gt;

&lt;p&gt;Why not name the bean for the master servername especially as there can be multiple masters running in a cluster &amp;#8211; getServerName.&lt;/p&gt;

&lt;p&gt;Why would you have this info in regionserver jmx attributes:&lt;/p&gt;

&lt;p&gt;+  public String getHBaseMaster();&lt;/p&gt;

&lt;p&gt;This is pretty useless:&lt;/p&gt;

&lt;p&gt;+  public long getStartCode();&lt;/p&gt;

&lt;p&gt;Better return the regionserver ServerName.  Or name the mbean for the ServerName.&lt;/p&gt;

&lt;p&gt;More to follow...&lt;/p&gt;
</comment>
                            <comment id="13205215" author="stack" created="Fri, 10 Feb 2012 04:19:42 +0000"  >&lt;p&gt;I suppose you can&apos;t name the bean for the ServerName because you need to be able to locate the bean &amp;#8211; i.e. there&apos;ll be N instances of RegionServer beans and you&apos;d then figure which belonged to which by looking at the ServerName attribute (I remember this is how it worked now).&lt;/p&gt;

&lt;p&gt;Is this in branch-0.20-append branch:&lt;/p&gt;

&lt;p&gt;+import org.apache.hadoop.metrics2.util.MBeans;&lt;/p&gt;

&lt;p&gt;If not, this breaks our ability to run on that branch (Up to this presumed we could run there).  Its in 1.0.0 hadoop?  (would need to check its in CDH..)&lt;/p&gt;

&lt;p&gt;Do classes have to have an HBase (or Hbase) prefix? Seems redundant (and we should be consistent).&lt;/p&gt;

&lt;p&gt;Can we have a better name than HBaseRegionServerInfo.  It says nothing.  If it was RegionServerMBean or MXBean, it&apos;d say more about what this class is about.&lt;/p&gt;

&lt;p&gt;You can all it &apos;instance&apos;.  &apos;theInstance&apos; is too much?&lt;/p&gt;

&lt;p&gt;And again, publishing master, ensemble, and startcode seems like a bunch of info you&apos;d never act on.  Master maybe &amp;#8211; you&apos;d know which master it was talking too &amp;#8211; and perhaps ensemble because then you know who its registered with (though having both seems unnessary... the ensemble with its rootdir will tell you which cluster we belong too... perhaps you should get the cluster id out here?) but startcode is no good to anyone really.  Should be ServerName coming out here.  Thats how we uniquely identify regionservers in fs, when they report into the master and up in ensemble.  Might as well continue the identifier here.&lt;/p&gt;

&lt;p&gt;Does this class need to take a RegionServer implementation?  Can it take a o.a.h.h.Server and/or a o.a.h.h.regionserver.RegionServerServices publishing jmx attributes?  These are Interfaces.  Might make this all easier to write tests on.&lt;/p&gt;


&lt;p&gt;HbaseRegionServerMXBean should be in the regionserver/metrics package then you could call it MXBean or ServerMXBean.&lt;/p&gt;


&lt;p&gt;HBaseMasterMXBean should be min master/metrics, should be HBaseMasterMXBean.  The RegionServerInfo in it should be showing more than this small set of metrics if you are going to the bother of putting this stuff out on jmx (we do requests per region now &amp;#8211; should there be one of these classes per region?)  &lt;/p&gt;

&lt;p&gt;I think that you don&apos;t need startcode if getRegionServer is returning the ServerName as a String.&lt;/p&gt;

&lt;p&gt;Don&apos;t RegionState up in RegionsInTransiation have a ServerName associated too?  YOu&apos;re not publishing this?&lt;/p&gt;

&lt;p&gt;Again, ain&apos;t these bad names for beans up in jmx?&lt;/p&gt;

&lt;p&gt;+    mxBean = MBeans.register(&quot;HBase&quot;, &quot;MasterInfo&quot;,&lt;br/&gt;
+        mxBeanInfo);&lt;/p&gt;

&lt;p&gt;shouldn&apos;t it be org.apache.hbase... or hbase if thats the parent for all of the hbase beans (Ain&apos;t there convention on bean naming &amp;#8211; IIRC).  MasterInfo says nothing.  Could it be just Master.  Then you do getServerName or what ever it is that returns ServerName to distingush this master from the backup Master?&lt;/p&gt;

&lt;p&gt;Sorry for so many comments for such a small patch.  I just feel that this stuff can be really useful if its done right.  Else its just more stuff for us to maintain.  Thanks for doing this stuff lads.&lt;/p&gt;</comment>
                            <comment id="13205234" author="hitesh" created="Fri, 10 Feb 2012 05:09:46 +0000"  >&lt;p&gt;@Stack, thanks for the comments. Will go over them and submit a modified patch soon.&lt;/p&gt;</comment>
                            <comment id="13205251" author="tlipcon" created="Fri, 10 Feb 2012 05:38:56 +0000"  >&lt;p&gt;No, metrics2 is not in CDH, since it&apos;s neither compatible with earlier versions of metrics1 nor is it compatible with the metrics2 in 0.23+.&lt;/p&gt;</comment>
                            <comment id="13205260" author="hitesh" created="Fri, 10 Feb 2012 06:07:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;No, metrics2 is not in CDH, since it&apos;s neither compatible with earlier versions of metrics1 nor is it compatible with the metrics2 in 0.23+.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Will make the change to use metrics.MBeanUtil#registerMBean in that case. I am assuming that will meet all branches&apos; needs?&lt;/p&gt;</comment>
                            <comment id="13206619" author="hitesh" created="Mon, 13 Feb 2012 01:47:03 +0000"  >&lt;p&gt;Most review comments addressed. &lt;/p&gt;

&lt;p&gt;Change class names to more appropriate ones. Changed the impl classes to have an Impl suffix instead of a different Info based name. &lt;/p&gt;

&lt;p&gt;@Stack - the only major thing unchanged is the retention of the use of the HRegionServer  for the RS bean as its required for the master address info. Using the interfaces suggested would have most other aspects but finding out the master required the master address tracker which is only available in the HRegionServer class. &lt;/p&gt;

&lt;p&gt;The other thing for the RegionServer bean is that it is still pretty limited in terms of information being exposed. I am welcome to suggestions to what else could be included in the bean without it blurring the lines between the simple info and metrics. &lt;/p&gt;

&lt;p&gt;Sample jmx output: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;hadoop:service=org.apache.hadoop.hbase,name=Master&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;modelerType&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.master.MasterMXBeanImpl&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;ClusterId&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;d24914d7-75d3-4dcc-9e6f-0d7770833993&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;MasterStartTime&quot;&lt;/span&gt; : 1329097289084,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;MasterActiveTime&quot;&lt;/span&gt; : 1329097289088,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;Coprocessors&quot;&lt;/span&gt; : [ ],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;ServerName&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;unknowne4ce8f149fb6,57608,1329097288776&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;AverageLoad&quot;&lt;/span&gt; : 2.0,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;RegionsInTransition&quot;&lt;/span&gt; : [ ],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;RegionServers&quot;&lt;/span&gt; : [ {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;key&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;unknowne4ce8f149fb6,57610,1329097289066&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt; : {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;coprocessors&quot;&lt;/span&gt; : [ ],
        &lt;span class=&quot;code-quote&quot;&gt;&quot;load&quot;&lt;/span&gt; : 2,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;maxHeapMB&quot;&lt;/span&gt; : 987,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;memStoreSizeInMB&quot;&lt;/span&gt; : 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;numberOfRegions&quot;&lt;/span&gt; : 2,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;numberOfRequests&quot;&lt;/span&gt; : 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;regionsLoad&quot;&lt;/span&gt; : [ {
          &lt;span class=&quot;code-quote&quot;&gt;&quot;key&quot;&lt;/span&gt; : [ 46, 77, 69, 84, 65, 46, 44, 44, 49 ],
          &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt; : {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;currentCompactedKVs&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;memStoreSizeMB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : [ 46, 77, 69, 84, 65, 46, 44, 44, 49 ],
            &lt;span class=&quot;code-quote&quot;&gt;&quot;nameAsString&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;.META.,,1&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;readRequestsCount&quot;&lt;/span&gt; : 8,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;requestsCount&quot;&lt;/span&gt; : 8,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;storefileIndexSizeMB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;storefileSizeMB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;storefiles&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;stores&quot;&lt;/span&gt; : 1,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;totalCompactingKVs&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;version&quot;&lt;/span&gt; : 2,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;writeRequestsCount&quot;&lt;/span&gt; : 0
          }
        }, {
          &lt;span class=&quot;code-quote&quot;&gt;&quot;key&quot;&lt;/span&gt; : [ 45, 82, 79, 79, 84, 45, 44, 44, 48 ],
          &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt; : {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;currentCompactedKVs&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;memStoreSizeMB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : [ 45, 82, 79, 79, 84, 45, 44, 44, 48 ],
            &lt;span class=&quot;code-quote&quot;&gt;&quot;nameAsString&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;-ROOT-,,0&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;readRequestsCount&quot;&lt;/span&gt; : 16,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;requestsCount&quot;&lt;/span&gt; : 17,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;storefileIndexSizeMB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;storefileSizeMB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;storefiles&quot;&lt;/span&gt; : 3,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;stores&quot;&lt;/span&gt; : 1,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;totalCompactingKVs&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;version&quot;&lt;/span&gt; : 2,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;writeRequestsCount&quot;&lt;/span&gt; : 1
          }
        } ],
        &lt;span class=&quot;code-quote&quot;&gt;&quot;storefileIndexSizeInMB&quot;&lt;/span&gt; : 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;storefileSizeInMB&quot;&lt;/span&gt; : 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;storefiles&quot;&lt;/span&gt; : 3,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;totalNumberOfRequests&quot;&lt;/span&gt; : 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;usedHeapMB&quot;&lt;/span&gt; : 31,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;version&quot;&lt;/span&gt; : 2
      }
    } ],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;ZookeeperQuorum&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;localhost:2181&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;DeadRegionServers&quot;&lt;/span&gt; : [ ]
  }

{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;hadoop:service=org.apache.hadoop.hbase,name=RegionServer&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;modelerType&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.regionserver.ServerMXBeanImpl&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;Coprocessors&quot;&lt;/span&gt; : [ ],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;ServerName&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;unknowne4ce8f149fb6,57610,1329097289066&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;HBaseMaster&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;unknowne4ce8f149fb6:60010&quot;&lt;/span&gt;
  }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


</comment>
                            <comment id="13206675" author="jiraposter@reviews.apache.org" created="Mon, 13 Feb 2012 04:46:57 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3762/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3762/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2012-02-13 04:45:53.573078)&lt;/p&gt;


&lt;p&gt;Review request for Ted Yu.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Modified diff to address comments on jira.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Beans for Master and Region Server. &lt;/p&gt;

&lt;p&gt;For now this are just info-beans ( read-only ). &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; title=&quot;Expose basic information about the master-status through jmx beans &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5325&quot;&gt;&lt;del&gt;HBASE-5325&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5325&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 6e509f1 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/HMaster.java 9d21903 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterMXBeanImpl.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/metrics/MasterMXBean.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java 2afe159 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/ServerMXBeanImpl.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/metrics/ServerMXBean.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMasterMXBean.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestServerMXBean.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3762/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3762/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Hitesh&lt;/p&gt;
</comment>
                            <comment id="13206676" author="jiraposter@reviews.apache.org" created="Mon, 13 Feb 2012 04:47:00 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3762/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3762/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2012-02-13 04:46:33.230297)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Beans for Master and Region Server. &lt;/p&gt;

&lt;p&gt;For now this are just info-beans ( read-only ). &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; title=&quot;Expose basic information about the master-status through jmx beans &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5325&quot;&gt;&lt;del&gt;HBASE-5325&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5325&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 6e509f1 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/HMaster.java 9d21903 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterMXBeanImpl.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/metrics/MasterMXBean.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java 2afe159 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/ServerMXBeanImpl.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/metrics/ServerMXBean.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMasterMXBean.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestServerMXBean.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3762/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3762/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Hitesh&lt;/p&gt;
</comment>
                            <comment id="13206743" author="hadoopqa" created="Mon, 13 Feb 2012 08:11:12 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12514312/HBASE-5325.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12514312/HBASE-5325.2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -136 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 157 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.io.hfile.TestHFileBlock&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/949//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/949//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/949//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/949//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/949//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/949//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13207080" author="stack" created="Mon, 13 Feb 2012 19:04:15 +0000"  >&lt;p&gt;Does this need to be public?  Can it be protected in AM?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ServerName getServerName() {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is the above even used?&lt;/p&gt;

&lt;p&gt;Please file an issue to move +import org.apache.hadoop.metrics.util.MBeanUtil; to o.a.h.h.u after this patch goes in (Seems like a silly place for this class &amp;#8211; not your fault I know)&lt;/p&gt;

&lt;p&gt;I think this is better for a name:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    MBeanUtil.registerMBean(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Master&quot;&lt;/span&gt;, mxBeanInfo);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;... maybe o.a.hbase instead of o.a.h.h (the o.a.hadoop prefix is legacy we&apos;ll undo one day).&lt;/p&gt;

&lt;p&gt;This bean is new, right?  So its ok giving it a  name like this?&lt;/p&gt;

&lt;p&gt;Needs a class comment: &apos;+public class MasterMXBeanImpl implements MasterMXBean {&apos;&lt;/p&gt;

&lt;p&gt;Do you think we need to add an isActiveMaster attribute?  What if the master is not active?  Will it show in jmx?  If not, then no need of such an attribute.&lt;/p&gt;

&lt;p&gt;Do you think this Interface belongs in Metrics?  src/main/java/org/apache/hadoop/hbase/master/metrics/MasterMXBean.java&lt;/p&gt;

&lt;p&gt;Its more than just metrics, right?  Maybe should be in master package (Sorry, should have said that in previous review)&lt;/p&gt;

&lt;p&gt;Why not call it RegionServerMXBeanImpl.java or just MXBeanImpl (here and in master package)?&lt;/p&gt;

&lt;p&gt;I see now why no class comment on the Impl; its because you have class comment on the Interface.  Thats fine.&lt;/p&gt;

&lt;p&gt;Do you have to do this getHBaseMaster with all of the messing to construct a master name (and its not right anyways since master has its service port, not its UI port when its name is made.... Leave it out I&apos;d say... users can get the info in zk.&lt;/p&gt;

&lt;p&gt;Good stuff&lt;/p&gt;
</comment>
                            <comment id="13207241" author="hitesh" created="Mon, 13 Feb 2012 21:43:05 +0000"  >&lt;p&gt;@Stack, thanks for the review comments. Couple of clarifications/questions: &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Does this need to be public? Can it be protected in AM?&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;This was added to RegionState to expose the private field ServerName for display with regions in transition.&lt;/li&gt;
	&lt;li&gt;Noticed that it can be null so will make a minor mod to handle the null case.&lt;/li&gt;
&lt;/ul&gt;


&lt;blockquote&gt;&lt;p&gt;Please file an issue to move +import org.apache.hadoop.metrics.util.MBeanUtil; to o.a.h.h.u&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Didn&apos;t understand this - could you clarify as MBeanUtil is part of hadoop-core?&lt;/li&gt;
&lt;/ul&gt;


&lt;blockquote&gt;&lt;p&gt;maybe o.a.hbase instead of o.a.h.h&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Will change.&lt;/li&gt;
&lt;/ul&gt;


&lt;blockquote&gt;&lt;p&gt;isMasterActive &lt;/p&gt;&lt;/blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;will add.&lt;/li&gt;
&lt;/ul&gt;


&lt;blockquote&gt;&lt;p&gt;Do you think this Interface belongs in Metrics? Why not call it RegionServerMXBeanImpl.java or just MXBeanImpl&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;will move the interfaces to master and regionserver respectively.&lt;/li&gt;
	&lt;li&gt;will change to call them MXBean and MXBeanImpl in both master and regionserver as the package names already denote what kind of object the bean represents.&lt;/li&gt;
&lt;/ul&gt;


&lt;blockquote&gt;&lt;p&gt;Do you have to do this getHBaseMaster with all of the messing to construct a master name&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Will replace with the zk quorum info if that seems appropriate.&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="13207386" author="stack" created="Tue, 14 Feb 2012 00:22:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;This was added to RegionState to expose the private field ServerName for display with regions in transition.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok.  I thought it was on AM.  My bad.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Will replace with the zk quorum info if that seems appropriate.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, that might be more appropriate&lt;/p&gt;

&lt;p&gt;Good stuff.&lt;/p&gt;</comment>
                            <comment id="13207399" author="hitesh" created="Tue, 14 Feb 2012 00:37:57 +0000"  >&lt;p&gt;Addressing second set of review comments.&lt;/p&gt;</comment>
                            <comment id="13207402" author="stack" created="Tue, 14 Feb 2012 00:42:58 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Will let it stew some in case others want to take a looksee.&lt;/p&gt;</comment>
                            <comment id="13207437" author="hadoopqa" created="Tue, 14 Feb 2012 01:27:30 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12514426/HBASE-5325.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12514426/HBASE-5325.3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -136 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 157 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/957//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/957//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/957//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/957//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/957//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/957//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13207910" author="hitesh" created="Tue, 14 Feb 2012 18:55:41 +0000"  >&lt;p&gt;Uploading a patch for 0.92 branch in case it is worthwhile to port this back into 0.92 as it is for usability improvement. &lt;/p&gt;</comment>
                            <comment id="13207919" author="hadoopqa" created="Tue, 14 Feb 2012 19:05:02 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12514532/HBASE-5325.3.branch-0.92.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12514532/HBASE-5325.3.branch-0.92.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/961//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/961//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13208717" author="enis" created="Wed, 15 Feb 2012 19:38:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;Uploading a patch for 0.92 branch in case it is worthwhile to port this back into 0.92 as it is for usability improvement.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1. Would love to see this in 0.92, since this will ease up monitoring 0.92 deployments a lot.&lt;/p&gt;</comment>
                            <comment id="13215909" author="stack" created="Fri, 24 Feb 2012 21:09:06 +0000"  >&lt;p&gt;Committed branch and trunk.  Thanks for the nice patch and being accomodating of feedback Hitesth.&lt;/p&gt;</comment>
                            <comment id="13216069" author="hudson" created="Fri, 24 Feb 2012 23:11:02 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #303 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/303/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/303/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; title=&quot;Expose basic information about the master-status through jmx beans &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5325&quot;&gt;&lt;del&gt;HBASE-5325&lt;/del&gt;&lt;/a&gt; Expose basic information about the master-status through jmx beans (Revision 1293417)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/MXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/MXBeanImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/MXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/MXBeanImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/master/TestMXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/regionserver/TestMXBean.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13216324" author="hudson" created="Sat, 25 Feb 2012 06:01:28 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #122 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/122/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/122/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; title=&quot;Expose basic information about the master-status through jmx beans &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5325&quot;&gt;&lt;del&gt;HBASE-5325&lt;/del&gt;&lt;/a&gt; Expose basic information about the master-status through jmx beans (Revision 1293416)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/MXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/MXBeanImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/MXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/MXBeanImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/master/TestMXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/regionserver/TestMXBean.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13216338" author="hudson" created="Sat, 25 Feb 2012 06:08:55 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2669 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2669/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2669/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; title=&quot;Expose basic information about the master-status through jmx beans &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5325&quot;&gt;&lt;del&gt;HBASE-5325&lt;/del&gt;&lt;/a&gt; Expose basic information about the master-status through jmx beans (Revision 1293416)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/MXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/MXBeanImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/MXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/MXBeanImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/master/TestMXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/regionserver/TestMXBean.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13222117" author="hudson" created="Mon, 5 Mar 2012 02:15:31 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #96 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/96/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/96/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5325&quot; title=&quot;Expose basic information about the master-status through jmx beans &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5325&quot;&gt;&lt;del&gt;HBASE-5325&lt;/del&gt;&lt;/a&gt; Expose basic information about the master-status through jmx beans (Revision 1293417)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/MXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/MXBeanImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/MXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/regionserver/MXBeanImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/master/TestMXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/regionserver/TestMXBean.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13225794" author="jdcryans" created="Fri, 9 Mar 2012 02:29:22 +0000"  >&lt;p&gt;Just a note here, this patch added yet another service to our mbeans. Before we had &quot;HBase&quot; and &quot;RegionServer&quot;, now this patches adds &quot;org.apache.hbase&quot;.&lt;/p&gt;</comment>
                            <comment id="13225821" author="stack" created="Fri, 9 Mar 2012 04:07:21 +0000"  >&lt;p&gt;This patch adds beans at org.apache.hbase, right?  HBase and RegionServer are bad names for mbeans.&lt;/p&gt;</comment>
                            <comment id="13225892" author="stack" created="Fri, 9 Mar 2012 06:52:23 +0000"  >&lt;p&gt;HBase and RegionServer should be under org.apache.hbase too I&apos;d think.&lt;/p&gt;</comment>
                            <comment id="13226200" author="stack" created="Fri, 9 Mar 2012 17:01:52 +0000"  >&lt;p&gt;I took a look.  Its broke (I&apos;m to blame I&apos;d say for it being broke).  Did basic fixup and committed in hbase-5552.  Made new issue to revisit our jmx view.  Its always been broke.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12545865">HBASE-5552</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12512380">HBASE-4050</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12513382" name="HBASE-5325.1.patch" size="24817" author="hitesh" created="Mon, 6 Feb 2012 01:25:18 +0000"/>
                            <attachment id="12514312" name="HBASE-5325.2.patch" size="25429" author="hitesh" created="Mon, 13 Feb 2012 01:47:03 +0000"/>
                            <attachment id="12514532" name="HBASE-5325.3.branch-0.92.patch" size="25236" author="hitesh" created="Tue, 14 Feb 2012 18:55:41 +0000"/>
                            <attachment id="12514426" name="HBASE-5325.3.patch" size="25291" author="hitesh" created="Tue, 14 Feb 2012 00:37:57 +0000"/>
                            <attachment id="12513054" name="HBASE-5325.wip.patch" size="9514" author="hitesh" created="Thu, 2 Feb 2012 22:57:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Feb 2012 23:50:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08rcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49031</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>